type: article
article_id: j07l1tbx5t
user_id: 2te4j9f9g7
category_id: 59dnj7vtao
author:
  name: Rashmi Nanda Sahoo
  profile_image: https://www.gravatar.com/avatar/b7bfd905f8714099535f2ff657fa3975?d=mm&s=150
title: Secrets and Log Sanitization
slug: secrets-and-log-sanitization
description: This topic describes how Harness sanitizes logs and outputs to prevent
  secrets from being exposed.
short_version: This topic describes how Harness sanitizes logs and outputs to prevent
  secrets from being exposed.
tags:
- Platform
- Secrets Management
show_toc: true
is_private: true
is_published: true
is_featured: false
stale_status:
  is_stale: false
  reason: ""
  source: API
  triggered_at: 2022-08-29T14:43:41.204494Z
  expires_at: null
permission_groups: []
multilingual:
- language_code: en
  title: Secrets and Log Sanitization
  description: This topic describes how Harness sanitizes logs and outputs to prevent
    secrets from being exposed.
  short_version: This topic describes how Harness sanitizes logs and outputs to prevent
    secrets from being exposed.
  body: '<p>Harness sanitizes deployment logs and any script outputs to mask text
    secret values.</p><p>First, let&#39;s review secrets in Harness, and then look
    at how Harness sanitizes logs and outputs to prevent secrets from being exposed.</p><p>In
    this topic:</p><h3>Review: Secrets in Harness</h3><p>You can create secrets in
    Harness as described in:</p><ul><li><a href="https://ngdocs.harness.io/article/osfw70e59c-add-use-text-secrets">Add
    and Reference Text Secrets</a></li><li><a href="https://ngdocs.harness.io/article/77tfo7vtea-add-file-secrets">Add
    and Reference File Secrets</a></li><li><a href="https://ngdocs.harness.io/article/xmp9j0dk8b-add-use-ssh-secrets">Add
    SSH Secrets</a></li></ul><p>For text and file secrets, the secrets are stored
    in the Secrets Manager. For steps to add a Secret Manager, see <a href="https://ngdocs.harness.io/article/bo4qbrcggv-add-secrets-manager">Add
    a Secret Manager</a>.</p><p>Once a secret is added, you can use other Harness
    entities instead of settings.</p><p>You can reference an Encrypted Text secret
    created in the Org <a href="/article/vz5cq0nfg2-rbac-in-harness#scope">scope</a>
    using the secret <u>identifier</u> in the expression: <code>&lt;+secrets.getValue(&#34;org.your_secret_Id&#34;)&gt;</code>.</p><p>You
    can reference a file secret created in the Org <a href="/article/vz5cq0nfg2-rbac-in-harness#scope">scope</a>
    using the expression <code>&lt;+secrets.getValue(“org.file-secret-Id”)&gt;</code>.</p><p>At
    deployment runtime, the Harness Delegate uses the Secrets Manager to decrypt and
    read the secret only when it is needed.</p><p>Harness sends only encrypted data
    to the Secrets Manager, as follows: </p><ol><li>Your browser sends data over HTTPS
    to Harness Manager. </li><li>Harness Manager relays encrypted data to the Harness
    Delegate, also over HTTPS. </li><li>The Delegate exchanges a key pair with the
    secrets manager, over an encrypted connection. </li><li>The Harness Delegate uses
    the encrypted key and the encrypted secret, and then discards them. The keys never
    leave the Delegate.</li></ol><div class="note-callout">Any secrets manager requires
    a running Harness Delegate to encrypt and decrypt secrets. Any Delegate that references
    a secret requires direct access to the secrets manager.</div><p>You can manage
    your secrets in Harness using either a Key Management Service or third-party Secrets
    Managers.</p><h3>Sanitization</h3><h3>Changing Secrets in Scripts and RBAC</h3><h3>Log
    Sanitizer Detects Exact Matches Only</h3><h3>Secrets 3 Characters Minimum</h3><p></p><p></p>'
  slug: secrets-and-log-sanitization
  tags:
  - Platform
  - Secrets Management
  is_live: true
