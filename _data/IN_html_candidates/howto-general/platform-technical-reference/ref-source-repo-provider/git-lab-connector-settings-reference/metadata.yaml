type: article
article_id: 5abnoghjgo
user_id: mfr0nxh4be
category_id: xyexvcc206
author:
  name: Michael Cretzman
  profile_image: https://www.gravatar.com/avatar/2e8616837f4ee92be5d19ffe9b9ccba9?d=mm&s=150
title: GitLab Connector Settings Reference
slug: git-lab-connector-settings-reference
description: This topic provides settings and permissions for the GitLab Connector.
  Limitations. Before Harness syncs with your Git repo, it will confirm that all Harness'
  settings are in a valid state. If a conn…
short_version: This topic provides settings and permissions for the GitLab Connector.
  Limitations. Before Harness syncs with your Git repo, it will confirm that all Harness'
  settings are in a valid state. If a conn…
tags: []
show_toc: true
is_private: false
is_published: true
is_featured: false
stale_status:
  is_stale: false
  reason: ""
  source: API
  triggered_at: 2022-08-25T22:10:25.437324Z
  expires_at: null
permission_groups: []
multilingual:
- language_code: en
  title: GitLab Connector Settings Reference
  description: ""
  short_version: ""
  body: '<p>This topic provides settings and permissions for the GitLab Connector.</p><h3>Limitations</h3><ul><li>Before
    Harness syncs with your Git repo, it will confirm that all Harness&#39; settings
    are in a valid state. If a connection is not working, Harness will not sync with
    your Git repo.</li></ul><h3>Name</h3><p>The unique name for this Connector.</p><h3>ID</h3><p>See
    <a href="/article/li0my8tcz3-entity-identifier-reference">Entity Identifier Reference</a>.</p><h3>Description</h3><p>Text
    string.</p><h3>Tags</h3><p>See <a href="/article/i8t053o0sq-tags-reference">Tags
    Reference</a>.</p><h3>URL Type</h3><p>You can select Git Account or Git Repository.</p><p>You
    can add a connection to your entire Git account or just a repo in the account.
    Selecting a Git account enables you to use one Connector for all of your subordinate
    repos.</p><p>Later when you test this connection, you will use a repo in the account.</p><p>In
    either case, when you use the Connector later in Harness, you will specify which
    repo to use.</p><h3>Connection Type</h3><p>You can select <strong>HTTPS</strong> or <strong>SSH</strong> for
    the connection.</p><p>You will need to provide the protocol-relevant URL in <strong>GitLab
    Account URL</strong>.</p><p>If you use Two-Factor Authentication for your Git
    repo, you connect over <strong>HTTPS</strong> or <strong>SSH</strong>. HTTPS requires
    a personal access token.</p><div class="note-callout">For SSH, ensure that the
    key is not OpenSSH, but rather RSA or another algorithm. To generate an SSHv2
    key, use: <code>ssh-keygen -t rsa -m PEM</code> The <code>rsa</code> and <code>-m
    PEM</code> ensure that the key is RSA. Next, follow the prompts to create the
    PEM key. For more information, see the <a href="https://linux.die.net/man/1/ssh-keygen"
    target="_blank">ssh-keygen man page</a>.</div><p>To sync with GitLab, you will
    need to generate a SSH key pair and add the SSH key to your GitLab account. For
    more information, see <a href="https://gitlab.com/help/ssh/README#generating-a-new-ssh-key-pair"
    target="_blank">Generating a new SSH key pair</a> from GitLab.</p><h3>GitLab Account
    or Repo URL</h3><p>The URL for your Git repo. Ensure that it matches the Connection
    Type option you selected.</p><p>If you selected <strong>Repository</strong> in <strong>Type</strong>,
    enter the full URL for the repo. For example: <code>https://gitlab.com/John_User/harness.git</code>.</p><p>You
    can get the URL from the <strong>Clone</strong> button in your repo.</p><figure><img
    src="https://files.helpdocs.io/kw8ldg1itf/articles/5abnoghjgo/1661463243500/image.png"/></figure><p>If
    you selected <strong>Account</strong> in <strong>Type</strong>, enter the URL
    without the repo name. When you use this Connector in a Harness setting you will
    be prompted to provide a repo name.</p><h3>Authentication</h3><p>You can use a
    password/token for HTTPS credentials. Typically, a token is used.</p><p>If you
    selected <strong>SSH</strong> as the connection protocol, you must add the <strong>SSH
    Key</strong> for use with the connection. </p><h3>Username</h3><p>Enter the username
    <strong>git</strong>. Do not enter any other value.</p><div class="note-callout"><strong>git</strong> is
    the only value you should use in <strong>Username</strong>.</div><h3>Password/Personal
    Access Token</h3><p>Enter a <a href="/article/osfw70e59c-add-text-secrets">Harness
    Encrypted Text secret</a> for the credentials of your GitLab user account.</p><p>Typically,
    a Personal Access Token is used. See <a href="https://docs.gitlab.com/ee/user/profile/personal_access_tokens.html"
    target="_blank">Personal Access Tokens</a> from GitLab.</p><p>The Personal Access
    Token requirements for Harness are: <code>api</code>, <code>read_repository</code>, <code>write_repository</code>.</p><p></p><figure><img
    src="https://files.helpdocs.io/i5nl071jo5/articles/5abnoghjgo/1646939076070/image.png"/></figure><h3>SSH
    Key</h3><p>If you selected <strong>SSH</strong> as the connection protocol, you
    must add the <strong>SSH Key</strong> for use with the connection as a <a href="/article/osfw70e59c-add-text-secrets">Harness
    Encrypted Text secret</a>.</p><p>See <a href="https://docs.gitlab.com/ee/user/ssh.html"
    target="_blank">Use SSH keys to communicate with GitLab</a> from GitLab.</p><h3>Enable
    API access</h3><p>This option is required for using Git-based triggers, Git Sync,
    and updating Git statuses. </p><p>You&#39;ll need this setting if you use <a href="https://harness.helpdocs.io/article/grfeel98am">Harness
    Git Experience</a>.</p><p>Simply use the same Personal Access Token you created
    earlier.</p><p></p><p></p>'
  slug: git-lab-connector-settings-reference
  tags: []
  is_live: true
