type: article
article_id: swe06e41w7
user_id: 2te4j9f9g7
category_id: o1zhrfo8n5
author:
  name: Rashmi Nanda Sahoo
  profile_image: https://www.gravatar.com/avatar/b7bfd905f8714099535f2ff657fa3975?d=mm&s=150
title: Connect to Azure Repos
slug: connect-to-a-azure-repo
description: This topic explains how to connect to Azure Repos.
short_version: This topic explains how to connect to Azure Repos.
tags:
- Connectors
- Platform
show_toc: true
is_private: false
is_published: true
is_featured: false
stale_status:
  is_stale: false
  reason: ""
  source: API
  triggered_at: 2022-08-24T23:52:42.005576Z
  expires_at: null
permission_groups: []
multilingual:
- language_code: en
  title: Connect to Azure Repos
  description: This topic explains how to connect to Azure Repos.
  short_version: This topic explains how to connect to Azure Repos.
  body: '<p>Azure Repos is a set of version control tools that you can use to manage
    your code. Azure Repos provide the following kinds of version control:</p><ul><li><strong>Git</strong>:
    distributed version control</li><li><strong>Team Foundation Version Control</strong>
    (TFVC): centralized version control</li></ul><p>This topic explains how to connect
    your Harness Accounts, Organizations or Projects with one of the Azure Repos.
    You can do this by adding an Azure Repos connector to Harness.</p><h3>Before You
    Begin</h3><ul><li>Make sure you have set up your Azure Project and Repo.</li><li>Make
    sure you have <strong>Create/Edit</strong> permissions to add an Azure Repos connector
    in Harness.</li></ul><h3>Step 1: Add an Azure Repos Connector</h3><p>This topic
    assumes you have a Harness Project set up. If not, see <a href="/article/36fw2u92i4-create-an-organization">Create
    Organizations and Projects</a>.​</p><p>You can add a Connector from any module
    in your Project in Project setup.</p><p>This topic shows you how to create an
    Azure Repos Connector from the CD module. To do this, perform the below steps:​</p><p>In
    Harness, click <strong>Deployments</strong> and select your Project.</p><p>Click
    <strong>Project Setup</strong> and then click <strong>Connectors</strong>.</p><p>Click
    <strong>New Connector</strong>.</p><p>In <strong>Code Repositories</strong>, click
    <strong>Azure Repos</strong>.</p><p>The <strong>Azure Repos Connector</strong>
    settings appear.</p><p>Enter a <strong>Name</strong> for your Azure Repos Connector.</p><figure><img
    src="https://files.helpdocs.io/i5nl071jo5/articles/swe06e41w7/1655272453137/screenshot-2022-06-15-at-11-23-25-am.png"
    style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure><p>Click
    <strong>Continue</strong>.</p><h3>Step 2: Details</h3><p>Select <strong>Project</strong>
    or <strong>Repository</strong> in the <strong>URL Type</strong>.</p><figure><img
    src="https://files.helpdocs.io/kw8ldg1itf/articles/swe06e41w7/1658396050290/screenshot-2022-07-21-at-3-00-45-pm.png"
    style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure><h4>Option:
    Project</h4><p>Select <strong>HTTP</strong> or <strong>SSH</strong> in the <strong>Connection
    Type</strong>.</p><p>Enter your Azure Repos Project URL. For example: <code>https://dev.azure.com/mycomp/myproject</code>.</p><div
    class="note-callout">Be careful when copying the project URL because if you are
    looking a Repos the URL will include <code>_git</code> in the path.</div><p>If
    you selected Project, enter the <strong><u>name</u></strong> of your repository
    in <strong>Test Repository</strong>, not the full URL.</p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/swe06e41w7/1658396024199/screenshot-2022-07-21-at-3-01-48-pm.png"
    style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure><p>You
    can get the project URL from your browser&#39;s location field.</p><h4>Option:
    Repository</h4><p>Enter your <strong>Azure Repos Repository URL</strong>. For
    example: <code>https://johnsmith@dev.azure.com/johnsmith/MyProject/_git/myrepo</code>.</p><p>
    You can get the repo URL from the Azure repo:</p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/swe06e41w7/1661384162565/image.png"/></figure><p>Click
    <strong>Continue</strong>.</p><h3>Step 3: Credentials</h3><p>Enter the username
    and password from the repo.</p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/swe06e41w7/1661384162565/image.png"/></figure><h4>Enable
    API Access</h4><p>This option is required for using Git-based triggers, Webhooks
    management, and updating Git statuses.​</p><p>This is a common option for code
    repos.</p><p>In <strong>Personal Access Token</strong>, either create a new <a
    href="/article/osfw70e59c-add-text-secrets">Encrypted Text</a> or use an existing
    one that has your Azure Personal Access Token.​ Harness requires the token for
    API access. Generate the token in your Azure account and add it to Harness as
    a Secret.</p><p>To create a Personal Acces Token in Azure, see <a href="https://docs.microsoft.com/en-us/azure/devops/organizations/accounts/use-personal-access-tokens-to-authenticate?view=azure-devops&amp;tabs=Windows#create-a-pat">Create
    a PAT</a>.</p><figure><img src="https://files.helpdocs.io/i5nl071jo5/articles/swe06e41w7/1655276705822/screenshot-2022-06-15-at-12-21-22-pm.png"
    style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure><p>If
    you selected <strong>SSH</strong> as the <strong>Connection Type</strong>, you
    must add your SSH Private key to use with the connection as a <a href="/article/osfw70e59c-add-text-secrets">Harness
    Encrypted Text</a>.</p><p>To create a private SSH Key, enter the following command
    in your terminal window:</p><pre> ssh-keygen -t rsa</pre><p></p><p>For more information​,
    see <a href="https://docs.microsoft.com/en-us/azure/devops/repos/git/use-ssh-keys-to-authenticate?view=azure-devops#step-1-create-your-ssh-keys">Create
    SSH Keys</a>.</p><p>Click <strong>Continue</strong>.</p><h3>Delegates Setup</h3><p>Select
    one of the following:</p><ul><li><strong>Use any available Delegate:</strong>
    to let Harness select a Delegate at runtime.</li><li><strong>Only use Delegates
    with all of the following tags:</strong> to use specific Delegates using their
    Tags.</li></ul><p>Click <strong>Save and Continue</strong>.</p><p>Harness tests
    the connection. Click <strong>Finish</strong> once the verification is successful.​</p><p>The
    Azure Repos connector is listed in Connectors.</p><p></p>'
  slug: connect-to-a-azure-repo
  tags:
  - Connectors
  - Platform
  is_live: true
