<p>You connect Harness to an artifact repo by adding an <strong>Artifact Repositories</strong> Connector.</p><p>You can connect to an artifact repo inline when developing your Pipeline, or separately in your Account/Org/Project <strong>Connectors</strong>. Once add the Connector, it&#39;ll be available in Pipelines and Connectors of the same Account/Org/Project.</p><h3>Before You Begin</h3><ul><li><a href="https://ngdocs.harness.io/article/hv2758ro4e-learn-harness-key-concepts">Learn Harness&#39; Key Concepts</a></li></ul><h3>Review: AWS, Azure, and Google Cloud Storage Artifacts</h3><p>Connectors for artifacts stored in Google Cloud Storage or Amazon S3 are added as <strong>Cloud Providers</strong> Connectors, not <strong>Artifact Repositories</strong>.</p><p>If you are using Google Cloud Storage or Amazon S3, see <a href="/category/1ehb4tcksy">Cloud Platform Connectors</a>.</p><p>For Azure ACR, use the <strong>Docker Registry</strong> Connector, described below.</p><h3>Review: Artifact Repository Connectors Scope</h3><p>You can add an Artifact Repository Connector at the Account/Org/Project scope.</p><p>This topic will explain how to add it at the Project scope. The process is same for Org and Account.</p><p>Steps on adding the Artifact Repository Connector inline when developing a Pipeline are covered in the relevant How-to and Technical Reference topics. For example, adding a Docker Registry is covered in the <a href="/article/knunou9j30-kubernetes-cd-quickstart">Kubernetes CD Quickstart</a> and <a href="/article/u9bsd77g5a-docker-registry-connector-settings-reference">Docker Connector Settings Reference</a>.</p><h3>Step: Add an Artifactory Repository</h3><div class="note-callout">For details on settings and permissions, see <a href="/article/euueiiai4m-artifactory-connector-settings-reference">Artifactory Connector Settings Reference</a>.</div><ol><li>Open a Harness Project.</li><li>In <strong>Project Setup</strong>, click <strong>Connectors</strong>.</li><li>Click <strong>New Connector</strong>, and click <strong>Artifactory</strong> in <strong>Artifact Repositories</strong>. The Artifactory Repository settings appear.</li><li>In <strong>Name</strong>, enter a name for this connector.</li><li>Click <strong>Continue</strong>.</li><li>Enter the <strong>Artifactory Repository URL</strong>.</li><li>In <strong>Authentication</strong>, select one of the following options:<ol><li><strong>Username and Password</strong> - Once you choose this option, you need to enter the <strong>Username</strong> and <strong>Password</strong>. For Password you can either create a new Secret or use an existing one.</li><li><strong>Anonymous (no credentials required)</strong>.</li></ol></li><li>Click <strong>Continue</strong>.</li><li>In <strong>Delegates Setup, </strong>use any Delegate or enter <a href="/article/nnuf8yv13o-select-delegates-with-selectors">Tags</a> for specific Delegates that you want to allow to connect to his Connector.</li><li>Click <strong>Save and Continue</strong>.</li><li>Once the Test Connection succeeds, click <strong>Finish</strong>. The Connector is listed in Connectors.</li></ol><p></p><h3>Step: Add a Docker Registry</h3><div class="note-callout">For details on settings and permissions, see <a href="/article/u9bsd77g5a-docker-registry-connector-settings-reference">Docker Connector Settings Reference</a>.</div><div class="tip-callout">The Docker Connector is platform-agnostic and can be used to connect to any Docker container registry, but Harness provides first class support for registries in AWS and GCR. See <a href="/article/98ezfwox9u-add-aws-connector">Add an AWS Connector</a>, <a href="/article/cii3t8ra3v-connect-to-google-cloud-platform-gcp">Google Cloud Platform (GCP) Connector Settings Reference</a>.</div><p></p><ol><li>Open a Harness Project.</li><li>In <strong>Project Setup</strong>, click <strong>Connectors</strong>.</li><li>Click <strong>New Connector</strong>, and click <strong>Docker Registry</strong> in <strong>Artifact Repositories</strong>. The Docker Registry settings appear.</li><li>In <strong>Name</strong>, enter a name for this connector.</li><li>Click <strong>Continue</strong>.</li><li>Enter the <strong>Docker Registry URL</strong>.</li><li>Select a <strong>Provider Type</strong>.</li><li>In <strong>Authentication</strong>, select one of the following options:<ol><li><strong>Username and Password</strong> - Once you choose this option, you need to enter the <strong>Username</strong> and <strong>Password</strong>. For Password you can either create a new Secret or use an existing one.</li><li><strong>Anonymous (no credentials required)</strong>.</li></ol></li><li>Click <strong>Continue</strong>.</li><li>In <strong>Delegates Setup</strong><strong>, </strong>use any Delegate or enter <a href="/article/nnuf8yv13o-select-delegates-with-selectors">Tags</a> for specific Delegates that you want to allow to connect to his Connector.</li><li>Click <strong>Save and Continue</strong>.</li><li>Once the Test Connection succeeds, click <strong>Finish</strong>. The Connector is listed in Connectors.</li></ol><h3>Step: Add an HTTP Helm Repo</h3><p>You can add Helm Charts from an HTTP Helm Repo. Once you set up the Connector, you can use it in a Stage to add your Helm Chart.</p><p>Since Harness lets you use the <code>&lt;+artifact.image&gt;</code> expression in your Helm Chart Values YAML files, Helm Charts are added a Stage Service in <strong>Manifests</strong> and not <strong>Artifacts</strong>. If you use the <code>&lt;+artifact.image&gt;</code> expression in your Helm Chart Values YAML files, then Harness will pull the image you add to <strong>Artifacts</strong>. See <a href="/article/7owpxsaqar-deploy-helm-charts">Deploy Helm Charts</a>.</p><div class="note-callout">For details on settings and permissions, see <a href="/article/a0jotsvsi7-http-helm-repo-connector-settings-reference">HTTP Helm Repo Connector Settings Reference</a>.</div><ol><li>Open a Harness Project.</li><li>In <strong>Project Setup</strong>, click <strong>Connectors</strong>.</li><li>Click <strong>New Connector</strong>, and click <strong>HTTP Helm</strong> in <strong>Artifact Repositories</strong>. The HTTP Helm Repo settings appear.</li><li>In <strong>Name</strong>, enter a name for this connector.</li><li>Click <strong>Continue</strong>.</li><li>Enter the <strong>Helm Repository URL</strong>.</li><li>In <strong>Authentication</strong>, select one of the following options:<ol><li><strong>Username and Password</strong> - Once you choose this option, you need to enter the <strong>Username</strong> and <strong>Password</strong>. For Password you can either create a new Secret or use an existing one.</li><li><strong>Anonymous (no credentials required)</strong>.</li></ol></li><li>Click <strong>Continue</strong>.</li><li>In <strong>Delegates Setup</strong>, use any Delegate or enter <a href="/article/nnuf8yv13o-select-delegates-with-selectors">Tags</a> for specific Delegates that you want to allow to connect to his Connector.</li><li>Click <strong>Save and Continue</strong>.</li><li>Once the Test Connection succeeds, click <strong>Finish</strong>. The Connector is listed in Connectors.</li></ol><h3>Step: Add a Helm 3 OCI Helm Registry</h3><p>You can add Helm Charts from an <a href="https://helm.sh/docs/topics/registries/" target="_blank">OCI Helm Registry</a>. Once you set up the Connector, you can use it in a Stage to add your Helm Chart.</p><p>Since Harness lets you use the <code>&lt;+artifact.image&gt;</code> expression in your Helm Chart Values YAML files, Helm Charts are added a Stage Service in <strong>Manifests</strong> and not <strong>Artifacts</strong>. If you use the <code>&lt;+artifact.image&gt;</code> expression in your Helm Chart Values YAML files, then Harness will pull the image you add to <strong>Artifacts</strong>. See <a href="/article/7owpxsaqar-deploy-helm-charts">Deploy Helm Charts</a>.</p><ol><li>Open a Harness Project.</li><li>In <strong>Project Setup</strong>, click <strong>Connectors</strong>.</li><li>Click <strong>New Connector</strong>, and click <strong>OCI Helm Registry</strong> in <strong>Artifact Repositories</strong>. The OCI Helm Registry settings appear.</li><li>In <strong>Name</strong>, enter a name for this connector.</li><li>Click <strong>Continue</strong>.</li><li>Enter the <strong>Helm Repository URL</strong>.<br/>You don&#39;t need to include the <code>oci://</code> scheme in <strong>Helm Repository URL</strong>. Harness will preface the domain name you enter with <code>oci://</code>.</li><li>In <strong>Authentication</strong>, in <strong>Username and Password</strong>, enter the <strong>Username</strong> and <strong>Password</strong>. For Password you can either create a new Secret or use an existing one.</li><li>Click <strong>Continue</strong>.</li><li>In <strong>Delegates Setup</strong>, use any Delegate or enter <a href="/article/nnuf8yv13o-select-delegates-with-selectors">Tags</a> for specific Delegates that you want to allow to connect to his Connector.</li><li>Click <strong>Save and Continue</strong>.</li><li>Once the Test Connection succeeds, click <strong>Finish</strong>. The Connector is listed in Connectors.</li></ol><h4>OCI Registry Notes</h4><ul><li>Helm supports OCI registries officially for Helm version 3.8 and above. Experimental support is available with versions below 3.8.</li><li>You <u>cannot</u> use OCI Helm Registries with <a href="/article/54eqk0d1bd-trigger-pipelines-on-new-helm-chart">Helm Chart Triggers</a>.</li><li>Harness OCI support is cloud-agnostic. You can use OCI registries in ACR, GCR, and ECR.</li></ul><h5>Authentication Supported</h5><p>For GCR as an OCI registry, Harness support authentication using the following:</p><ul><li>Access token</li><li>A JSON key file where username is <code>_json_key_base64</code> and password is base64-encoded JSON key file content.</li></ul><div class="note-callout">Harness does not support a username of <code>_json_key</code> and password as unencrypted JSON key file content.</div><h3>Step: Add a Nexus Repository</h3><div class="note-callout">For details on settings and permissions, see <a href="/article/faor0dc98d-nexus-connector-settings-reference">Nexus Connector Settings Reference</a>.</div><ol><li>Open a Harness Project.</li><li>In <strong>Project Setup</strong>, click <strong>Connectors</strong>.</li><li>Click <strong>New Connector</strong>, and click <strong>Nexus</strong> in <strong>Artifact Repositories</strong>. The Nexus Repository settings appear.</li><li>In <strong>Name</strong>, enter a name for this connector.</li><li>Click <strong>Continue</strong>.</li><li>Enter the <strong>Nexus Repository URL</strong>.</li><li>Select a <strong>Version</strong>.</li><li>In <strong>Authentication</strong>, select one of the following options:<ol><li><strong>Username and Password</strong> - Once you choose this option, you need to enter the <strong>Username</strong> and <strong>Password</strong>. For Password you can either create a new Secret or use an existing one.</li><li><strong>Anonymous (no credentials required)</strong>.</li></ol></li><li>Click <strong>Continue</strong>.</li><li>In <strong>Delegates Setup</strong><strong>, </strong>use any Delegate or enter <a href="/article/nnuf8yv13o-select-delegates-with-selectors">Tags</a> for specific Delegates that you want to allow to connect to his Connector.</li><li>Click <strong>Save and Continue</strong>.</li><li>Once the Test Connection succeeds, click <strong>Finish</strong>. The Connector is listed in Connectors.</li></ol><h3>See Also</h3><ul><li><a href="https://ngdocs.harness.io/article/nnuf8yv13o-select-delegates-with-selectors">Select Delegates with Selectors</a></li><li><a href="/article/bo4qbrcggv-add-secrets-manager">Add a Secrets Manager</a></li></ul><p></p><p></p>