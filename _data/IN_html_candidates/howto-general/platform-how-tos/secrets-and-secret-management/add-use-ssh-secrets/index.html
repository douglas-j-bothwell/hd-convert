<p></p><p>You can add SSH keys for use in connecting to remote servers, such as an AWS EC2 instance.</p><p>In this topic:</p><ul><li><a href="#before_you_begin">Before You Begin</a></li><li><a href="https://ngdocs.harness.io/article/xmp9j0dk8b-add-use-ssh-secrets#configure_ssh_connectivity">Configure SSH Connectivity</a></li><li><a href="https://ngdocs.harness.io/article/xmp9j0dk8b-add-use-ssh-secrets#notes">Notes</a></li></ul><h3>Before You Begin</h3><ul><li><a href="/article/hv2758ro4e-learn-harness-key-concepts">Learn Harness&#39; Key Concepts</a></li><li><a href="/article/hngrlb7rd6-harness-secret-manager-overview">Harness Secret Manager Overview</a></li><li><a href="/article/bo4qbrcggv-add-secrets-manager">Add a Secret Manager</a></li><li><a href="/article/osfw70e59c-add-use-text-secrets">Add Text Secrets</a></li><li><a href="/article/77tfo7vtea-add-file-secrets">Add File Secrets</a></li></ul><h3>Add SSH Credential</h3><p>To add an SSH key that can be referenced in Harness entities, do the following:</p><ol><li>Select your <strong>Account</strong>/<strong>Organization</strong>/<strong>Project</strong>.</li><li>In <strong>ACCOUNT SETUP</strong>/<strong>ORG SETUP</strong>/<strong>PROJECT SETUP</strong>, Click <strong>Secrets</strong>.</li><li>Click <strong>New Secret</strong> and select <strong>SSH Credential.</strong></li></ol><figure><img src="https://files.helpdocs.io/i5nl071jo5/articles/xmp9j0dk8b/1619288020327/image.png" style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure><p>The <strong>SSH Credential</strong> settings appear.</p><figure><img src="https://files.helpdocs.io/i5nl071jo5/articles/xmp9j0dk8b/1627898639058/screenshot-2021-08-02-at-3-33-06-pm.png" style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure><ol><li style="counter-increment:li 2" start="3">Enter a <strong>Name</strong> for the SSH Credential and click <strong>Continue</strong>.</li><li>Under <strong>Select an Auth Scheme</strong>, select one of the following:<ol><li> <strong>SSH Key:</strong> add SSH keys for Harness to use when connecting to remote servers.</li><li> <strong>Kerberos:</strong> SSH into a target host via the Kerberos protocol.</li></ol></li><li>In <strong>User Name</strong>, provide the username for the user account on the remote server. For example, if you want to SSH into an AWS EC2 instance, the username would be <strong>ec2-user</strong>.</li><li>In <strong>Select or create a SSH Key</strong>, click <strong>Create or Select a Secret</strong>.</li><li>You can do one of the following:<ol><li>Click <strong>Create a new secret</strong>. You can create an <a href="/article/77tfo7vtea-add-file-secrets">Encrypted File Secret</a> or an <a href="/article/osfw70e59c-add-use-text-secrets">Encrypted Text Secret</a>.</li><li>Click <strong>Select an existing secret.</strong> You can add an existing <a href="/article/77tfo7vtea-add-file-secrets">Encrypted File Secret</a> or an <a href="/article/osfw70e59c-add-use-text-secrets">Encrypted Text Secret </a>present at your Project, Account or Organization level.</li></ol></li></ol><div class="note-callout">If you are editing an existing SSH Key File, you will not be able to edit the existing inline key that you have entered earlier. Instead, you should select an existing file or create a new Encrypted SSH key file.</div><ol><li style="counter-increment:li 7" start="8">In <strong>Select Encrypted Passphrase</strong>, add the SSH key <a href="https://www.ssh.com/ssh/passphrase" target="_blank">passphrase</a> if one is required. It is <strong>not</strong> required by default for AWS or many other platforms. Make sure you use a Harness Encrypted Text secret to save the passphrase and refer to it here. Either select an existing secret from the drop-down list or create a new one by clicking  <strong>Create or Select a Secret</strong>. For more information on creating an Encrypted Text Secret, see <a href="/article/osfw70e59c-add-use-text-secrets">Add Text Secrets</a>.</li><li>In <strong>SSH Port</strong>, leave the default <strong>22</strong> or enter a different port if needed.</li><li>Click <strong>Save and Continue</strong>.</li><li>In <strong>Host Name</strong>, enter the hostname of the remote server you want to SSH into. For example, if it is an AWS EC2 instance, it will be something like, <code>ec2-76-939-110-125.us-west-1.compute.amazonaws.com</code>.</li><li>Click <strong>Test Connection</strong>. If the test is unsuccessful, you might see an error stating that no Harness Delegate could reach the host, or that a credential is invalid. Make sure that your settings are correct and that a Harness Delegate is able to connect to the server.</li><li>When a test is successful, click <strong>Submit</strong>.</li></ol><h3>Notes</h3><p>You can convert your OpenSSH key to a PEM format with:</p><p><code>ssh-keygen -p -m PEM -f your_private_key</code></p><p>This will convert your existing file headers from:</p><p><code>-----BEGIN OPENSSH PRIVATE KEY-----</code></p><p>to</p><p><code>-----BEGIN RSA PRIVATE KEY-----</code></p>