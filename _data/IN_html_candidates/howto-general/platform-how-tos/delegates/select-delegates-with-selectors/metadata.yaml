type: article
article_id: nnuf8yv13o
user_id: mfr0nxh4be
category_id: 9i5thr0ot2
author:
  name: Michael Cretzman
  profile_image: https://www.gravatar.com/avatar/2e8616837f4ee92be5d19ffe9b9ccba9?d=mm&s=150
title: Select Delegates with Delegate Selectors and Tags
slug: select-delegates-with-selectors
description: Use Delegate Tags to select specific Delegates in Connectors, steps,
  and more.
short_version: Use Delegate Tags to select specific Delegates in Connectors, steps,
  and more.
tags: []
show_toc: true
is_private: false
is_published: true
is_featured: false
stale_status:
  is_stale: false
  reason: ""
  source: API
  triggered_at: 2022-07-13T21:02:23.03747Z
  expires_at: null
permission_groups: []
multilingual:
- language_code: en
  title: Select Delegates with Delegate Selectors and Tags
  description: Use Delegate Tags to select specific Delegates in Connectors, steps,
    and more.
  short_version: Use Delegate Tags to select specific Delegates in Connectors, steps,
    and more.
  body: '<p>When Harness needs to run a task, it makes a connection to a resource
    via the Harness Delegates you have set up in your environment.</p><p>Harness selects
    the best Delegate according to its history or it round robins between Delegates.
    See <a href="/article/2k7lnc7lvl-delegates-overview#how_does_harness_manager_pick_delegates">How
    Does Harness Manager Pick Delegates?</a>.</p><p>In some cases, you might want
    Harness to select specific Delegates. In these cases, you can use the <strong>Delegate
    Selector</strong> settings in Pipelines, Connectors, etc and corresponding Delegate
    Tags.</p><h3>Before You Begin</h3><ul><li><a href="/article/hv2758ro4e-learn-harness-key-concepts">Learn
    Harness&#39; Key Concepts</a></li><li><a href="/article/2k7lnc7lvl-delegates-overview">Delegates
    Overview</a></li><li><a href="/article/re8kk0ex4k-delegate-installation-overview">Delegate
    Installation Overview</a></li><li><a href="/article/f9bd10b3nj-install-a-kubernetes-delegate">Install
    a Kubernetes Delegate</a></li></ul><h3>Review: Delegate Tags</h3><p>A Delegate
    Tag is added to your Delegate automatically when you set it up in Harness. The
    Tag is added using the name you give your Delegate.</p><p>You can also add more
    Tags using the Tags setting:</p><p></p><figure><img src="https://files.helpdocs.io/i5nl071jo5/articles/nnuf8yv13o/1654274177068/clean-shot-2022-06-03-at-09-35-54.png"/></figure><p>For
    detailed information on how Delegates are selected during execution, see <a href="/article/2k7lnc7lvl-delegates-overview">Delegates
    Overview</a>.</p><p>Once a Delegate has Tags, the Delegate can be selected in
    the <strong>Delegate Selector</strong> settings of Harness entities like Pipelines
    and Connectors.</p><h3>Review: Delegate Selector Priority</h3><p>You can use Delegate
    Selectors at multiple places, such as the Pipeline, Stage, and Step levels.</p><p>It&#39;s
    important to know which Delegate Selectors are given priority so that you ensure
    the correct Delegate is used when you want it used.</p><p>The Delegate Selector
    Priority is:</p><ol><li>Step</li><li>Step Group</li><li>Stage</li><li>Pipeline</li><li>Connector</li></ol><p></p><figure><img
    src="https://files.helpdocs.io/kw8ldg1itf/articles/nnuf8yv13o/1657746136816/clean-shot-2022-07-13-at-14-02-04.png"/></figure><p>The
    Step level has the highest priority. Any Delegate selected in a Step&#39;s <strong>Delegate
    Selector</strong> setting overrides any Delegates selected in 2-5 above.</p><div
    class="note-callout">A Connector can be used in multiple places in a Pipeline,
    such as a Stage Infrastructure&#39;s <strong>Cloud Provider</strong> setting or
    even in certain step settings.</div><h3>Option: Step and Step Group Delegate Selector</h3><p>Delegates
    can be selected for Steps and <a href="/article/ihnuhrtxe3-run-steps-in-parallel-using-a-step-group">Step
    Groups</a> in their <strong>Advanced</strong> settings.</p><p>Here is a step example:</p><figure><img
    src="https://files.helpdocs.io/kw8ldg1itf/articles/nnuf8yv13o/1657742633092/clean-shot-2022-07-13-at-13-03-12.png"/></figure><p>Here
    is a Step Group example:</p><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/nnuf8yv13o/1657742697622/clean-shot-2022-07-13-at-13-04-15.png"/></figure><h3>Option:
    Select a Delegate for a Connector using Tags</h3><p>When you add a Connector you
    are given the option of connecting to your third part account using any available
    Delegate or specific Delegates.</p><p></p><figure><img src="https://files.helpdocs.io/i5nl071jo5/articles/nnuf8yv13o/1625693513715/clean-shot-2021-07-07-at-14-31-31.png"/></figure><p>You
    select specific Delegates using their Tags.</p><p>You only need to select one
    of a Delegate&#39;s Tags to select it. All Delegates with the Tag are selected.</p><p>Here,
    the Tag is <strong>test1</strong>, and you can see multiple Delegates match it:</p><p></p><figure><img
    src="https://files.helpdocs.io/i5nl071jo5/articles/nnuf8yv13o/1625693674019/clean-shot-2021-07-07-at-14-34-13.png"/></figure><p></p><h3>Option:
    Pipeline Delegate Selector</h3><p>Delegates can be selected for an entire Pipeline
    in the Pipeline <strong>Advanced Options</strong> settings.</p><p></p><figure><img
    src="https://files.helpdocs.io/kw8ldg1itf/articles/nnuf8yv13o/1657742306209/clean-shot-2022-07-13-at-12-58-04.png"/></figure><h3>Option:
    Stage Delegate Selector</h3><p>Delegates can be selected for an entire Stage in
    the Stage <strong>Advanced</strong> settings.</p><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/nnuf8yv13o/1657742384596/clean-shot-2022-07-13-at-12-59-30.png"/></figure><p></p><h3>Option:
    Infrastructure Connector</h3><p>Delegates can be selected for the Connector used
    in a Stage&#39;s Infrastructure settings, such as a CD Stage&#39;s <strong>Cluster
    Details</strong> &gt; <strong>Connector</strong> setting.</p><p></p><figure><img
    src="https://files.helpdocs.io/kw8ldg1itf/articles/nnuf8yv13o/1657742439869/clean-shot-2022-07-13-at-13-00-20.png"/></figure><p></p><h3>Option:
    Select a Delegate for a Step using Tags</h3><p>You can select one or more Delegates
    for each Pipeline step.</p><p>In each step, in <strong>Advanced</strong>, there
    in the <strong>Delegate Selector</strong> option:</p><p></p><figure><img src="https://files.helpdocs.io/i5nl071jo5/articles/nnuf8yv13o/1625694858143/clean-shot-2021-07-07-at-14-54-08.png"/></figure><p>You
    only need to select one of a Delegate&#39;s Tags to select it. All Delegates with
    the Tag are selected.</p><h3>Option: Modify Tags via API</h3><p>See <a href="https://harness.io/docs/api/tag/Delegate-Group-Tags-Resource/"
    target="_blank">Delegate Group Tags Resource</a>.</p><h3>See Also</h3><ul><li><a
    href="/article/2k7lnc7lvl-delegates-overview">Delegates Overview</a></li></ul><p></p>'
  slug: select-delegates-with-selectors
  tags: []
  is_live: true
