<p>This document explains how to use Helm to install, upgrade or uninstall Harness Self-Managed Enterprise Edition. This document describes an installation on Google Kubernetes Engine (GKE). The same installation process, however, applies to installations on Kubernetes versions 1.x and later.</p><p>Helm package manager provides a declarative approach to Kubernetes application management in which software packages are specified as “charts.” For more information, see the <a href="https://helm.sh/docs/" target="_blank">Helm documentation</a>.</p><h3>Download Harness Helm Chart</h3><p>To download Harness Helm chart for the installation of Self-Managed Enterprise Edition, see <a href="https://github.com/harness/helm-charts" target="_blank">https://github.com/harness/helm-charts</a>.</p><p>Harness Helm chart is available for demonstration and production environments.</p><h3>Update the override.yaml File</h3><p>Depending on your target environment, you&#39;ll need to update the override.yaml file to specify a load balancer or to specify the Harness modules to be deployed.</p><h4>Add a Load Balancer</h4><p>Use the following procedure to add a load balancer.</p><p><strong>To add the URL for a load balancer</strong></p><ol><li>In the values.yaml file, set the global.loadbalancerURL field to the URL of your load balancer. This is the URL you use for Harness.<br/><code>global:</code><br/> <code># -- Harness Application URL</code><br/> <code>loadbalancerURL: http://&lt;load-balancer-IP-address&gt;</code><br/> <code>host_name: &#34;&lt;load-balancer-IP-address&gt;&#34;</code></li><li>Set the <code>host_name</code> field to the IP address of the load balancer.</li><li>Save the file.</li></ol><h4>Deploy Harness Modules</h4><p>Harness Helm chart includes Harness Platform components.You can add modules by editing the override.yaml file.</p><p>The following components are enabled by default:</p><ul><li>Harness CD - Next Generation</li><li>Harness CI</li><li>Harness Security Testing Orchestration (STO)</li></ul><p>You can conditionally disable or enable the CI and STO modules by specifying a boolean value in the enabled field of the YAML:</p><h5>CI module</h5><p> ci:</p><p> <code># -- Enabled will deploy CI to your cluster</code></p><p> <code>enabled: true</code></p><h5>STO module</h5><p> <code>sto:</code></p><p> <code># -- Enabled will deploy STO to your cluste</code></p><p> <code>enabled: true</code></p><h3>Install the Helm Chart</h3><p>To use the charts, you must install Helm. To get started with Helm, see the <a href="https://helm.sh/docs/">Helm documentation</a>. After you install Helm, follow the instructions below.</p><p><strong>To install the Helm chart</strong></p><ol><li>Add the repository.<br/><code>$ helm repo add harness https://harness.github.io/helm-charts</code></li><li>Create a namespace for your installation.<br/><code>$ kubectl create namespace &lt;namespace&gt;</code></li><li>Modify the override.yaml file with your environment settings.</li><li>Install the Helm chart.<br/><code>$ helm install my-release harness/harness-prod -n &lt;namespace&gt; -f override.yaml</code></li></ol><h3>Verify Installation</h3><p>After the installation completes, the services that were installed are enumerated with their status.</p><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/6tblwmh830/1662505268898/harness-service-list.png"/></figure><p>The services that appear depend on the modules that were installed.</p><p><strong>To verify installation</strong></p><ol><li>Review the list of services.</li><li>In your browser, type the following instruction:<br/><code>http://localhost/auth/#/signup</code><br/>If the installation was successful, the Harness <strong>Sign up</strong> page appears.</li></ol><h3>Upgrade the Helm Chart</h3><p>Use the following instructions to upgrade the chart to a new release. </p><p><strong>To upgrade the chart</strong></p><ol><li>Use the following command to obtain the release name for the earlier release.<br/><code>$ helm ls -n &lt;namespace&gt;</code></li><li>Retrieve the values for the earlier release.<br/><code>$ helm get values my-release &gt; old_values.yaml</code> </li><li>Change the values of the old_values.yaml file as required. </li><li>Use the <code>helm upgrade</code> command to update the chart.<br/><code>$ helm upgrade my-release harness/harness-demo -n &lt;namespace&gt; -f old_values.yaml</code></li></ol><h3>Uninstall the Helm Chart</h3><p>To remove the Kubernetes components associated with the chart and delete the release, uninstall the chart.</p><p><strong>To uninstall the chart</strong></p><ul><li>Uninstall and delete the <code>my-release</code> deployment:<br/><code>$ helm uninstall my-release -n &lt;namespace&gt;</code></li></ul><p></p><p></p>