type: article
article_id: 5zvb0mpumk
user_id: xwmdbyp4x8
category_id: bogcmczbcv
author:
  name: Doug Bothwell
  profile_image: https://www.gravatar.com/avatar/120de2cc624d7903cf3d83b86d0f1b5e?d=mm&s=150
title: DRAFT Harness NG On-Prem Release Notes 2022-03-30
slug: draft-harness-on-prem-release-notes
description: 'Minor Release 74410 Release Date: March 30, 2022 We''re pleased to present
  Harness On-Premise Minor Release 74410. New Features and Enhancements. The following
  new features were added to the Harness p…'
short_version: 'Minor Release 74410 Release Date: March 30, 2022 We''re pleased to
  present Harness On-Premise Minor Release 74410. New Features and Enhancements. The
  following new features were added to the Harness p…'
tags: []
show_toc: false
is_private: false
is_published: false
is_featured: false
stale_status:
  is_stale: false
  reason: ""
  source: API
  triggered_at: 2022-03-31T18:14:00.27223Z
  expires_at: null
permission_groups: []
multilingual:
- language_code: en
  title: DRAFT Harness NG On-Prem Release Notes 2022-03-30
  description: ""
  short_version: ""
  body: '<p></p><h3>Minor Release 74410</h3><p>Release Date: March 30, 2022</p><p>We&#39;re
    pleased to present Harness On-Premise Minor Release 74410.</p><h4>New Features
    and Enhancements</h4><p>The following new features were added to the Harness platform
    components:</p><h5>SRM</h5><ul><li>Service Reliability Management is now available
    on on-premise platforms. (SRM-9858)</li></ul><h5>Platform</h5><ul><li>Added a
    new Auth mechanism called Kubernetes Auth that takes serviceAccountTokenPath and
    role (PL-23491)</li><li>The default selection of Resource Group has been changed
    to All Resources Including Child scopes from All Resources at a particular scope.
    This means you can select all resources by default and only limit and create custom
    resource groups based on your use cases. This will not impact any existing role
    bindings. (PL-23255)</li><li>You can now create, remove, update, and delete entities
    for a Git Sync-enabled project using the API key. This will help you automate
    the onboarding on a project using harness APIs. (PL-22170)</li><li>The Account
    Overview page has a new <strong>Disable default Harness Account Manager</strong>
    setting. If this option is enabled, cannot use this Secret Manager for creating
    any new secrets. (PL-22001)</li><li>You can now use Hashicorp Vault Connector
    in NextGen using the AWS IAM authentication method. This method provides an automated
    mechanism to retrieve a Vault token for IAM principals and AWS EC2 instances.<br/>There
    are two authentication types present in the aws auth method: <code>iam</code>
    and <code>ec2</code>.<br/>The <code>iam</code> method is the recommended approach
    and we are supporting the same. See <a href="https://www.vaultproject.io/docs/auth/aws#iam-auth-method"
    target="_blank">https://www.vaultproject.io/docs/auth/aws#iam-auth-method</a>.<br/>The
    official Vault document describes the infrastructure required: <a href="https://www.vaultproject.io/docs/auth/aws#authentication">https://www.vaultproject.io/docs/auth/aws#authentication</a><br/>This
    will impact users who will enable this new method of authentication for Hashicorp
    Vault in NextGen. (PL-21921)</li><li>Harness NG Pipelines now will limit the maximum
    number of parallel stages to 30. If you require more than 30 stages to run in
    parallel, please reach out to Harness Customer Success to enable the Feature Flag.
    Note that this does not limit the number of stages you can add to the pipeline.
    Limit applicable only for parallel stages. (PIE-2723)</li><li>We now have APIs
    to validate an existing pipeline without saving. Users can also validate a YAML.<ul><li><a
    href="https://harness.io/docs/api/tag/Pipelines#operation/postPipeline_1" target="_blank">pipelines/validate-yaml-with-schema</a>:
    This API takes a pipeline YAML in Body and validates against the YAML Schema.</li><li><a
    href="https://harness.io/docs/api/tag/Pipelines#operation/postPipeline_2" target="_blank">pipelines/validate-pipeline-with-schema</a>:
    This API takes pipeline identifier as a query parameter and validates that pipeline
    against YAML Schema. (PIE-2632)</li></ul></li><li>NG now supports these new Expressions:<ul><li><code>&lt;+pipeline.triggerType&gt;</code>
    - Gives you the type of Trigger such as Manual or Webhook. </li><li><code>&lt;+pipeline.triggeredBy.name&gt;</code>
    - Gives the name of the user, returns trigger name in case of Webhook.</li><li><code>&lt;+pipeline.triggeredBy.email&gt;</code>
    - Gives the email of the user, returns NULL in case of Webhook. (PIE-2527)</li></ul></li></ul><h5>CI</h5><ul><li>You
    can now view your test reports in an aggregated way by selecting all stages and
    all steps. This will help you understand the bigger picture of your test reports,
    especially if you are running across multiple stages. (CI-3603)</li></ul><h5>CDS</h5><ul><li>Customers
    can now add and use Docker images from Nexus and Artifactory registries in the
    Artifacts section of a Pipeline (NG). This is available for for Kubernetes and
    Native Helm deployments only.<br/>To use this option, make sure that your manifest
    files contain specific Harness expressions as described in <a href="https://ngdocs.harness.io/article/4ifq51cp0i-add-artifacts-for-kubernetes-deployments"
    target="_blank">Add Container Images as Artifacts for Kubernetes Deployments</a>.
    (CDS-7728)</li></ul><h5>CCM</h5><ul><li>Cost Perspective URLs now include TimeRange,
    GroupBy, Filters, Aggregation, and Chart Type. Perspective URLs are now shareable
    as in Current Gen. When shared, a Cost Perspective will take users to the same
    state (same Filters, ChartBy, etc.) as the user who shared the URL. (CCM-5431)</li></ul><h4>Issues
    Fixed in the Release</h4><ul><li>Migration fix (SRM-9515)</li><li>Fixed Datadog
    data collection bug when some configured metrics where not visible in the result
    (SRM-9501)</li><li>Fixed New Relic data collection (SRM-9293)</li><li>Fixed issue:
    Analysis failed with error: ${displayName} could not be retried (SRM-4128, ZD-26603)</li><li>Fixed
    subscription page module cards layout (PLG-777)</li><li>Account Level Edition
    should honor the expiry license as well (PLG-761)</li><li>Fixed issue in Git experience:
    Detailed error is now shown in the popup when a user enters an incorrect repository
    name. (PL-23673)</li><li>We are now retaining previous step values in the Enable
    Git Experience Popup. (PL-23651)</li><li>Fixed issue in Git Sync: Wrong branch
    shown in a repo in Pipeline Run &gt; save Input Set (PL-23626)</li><li>Using Templates
    in Pipelines to other branches of Pipeline ends up throwing error (PL-23534, ZD-28424)</li><li>SCIM
    users can now be provisioned in NG even if they exist in CG. There needs to be
    two separate SCIM apps to be used for both CG/NG to be working together. (PL-23160,
    ZD-271, ZD-172, ZD-791, ZD-028, ZD-668)</li><li>You can now configure a logout
    URL in SAML Settings from the UI itself. We have added an extra field for logout
    URL in SAML Settings both in NG and CG. Hence you can configure and see the logout
    URL while configuring SAML Settings user . (PL-23106)</li><li>Fixed a bug where
    a left purple border was visible across all modals on NG-UI. (PL-23087)</li><li>Fixed
    a bug where a global styling change adversely impacted the widths of some modal
    dialog boxes. Reverted the previous global styling change and fixed it across
    specific modals in the NG UI. (PL-23065)</li><li>Fixed a bug where a global styling
    change had adverse impact on widths of some modals (PL-23050)</li><li>Enabling
    ng-auth-ui in on-prem builds is now behind a environment variable. (PL-22728)</li><li>Fixed
    a UI bug where some fields seemed to be extending out of the modal. (PL-22559)</li><li>Values
    are not retaining if a user clicks on the previous step. (PL-22418)</li><li>The
    Git Sync feature was not working for accounts that use the vanity URL. We have
    fixed this issue in the current release. This will help you:<ul><li>Automatically
    register the Git Sync webhook URL.</li><li>Perform the YAML changes from Git.
    (PL-22260, ZD-26717)</li></ul></li><li>Popup message shown as soon as user arrives
    on &#34;branch to sync&#34; step while enabling Git Sync. (PL-22191)</li><li>Response
    message not clear if Organization is missing in request. (PL-21765)</li><li>Added
    a tooltip over a fixed input so that if a user choses a custom tag longer than
    the input width, it&#39;s still fully visible and selectable. (PL-21624)</li><li>Fixed
    notifications modal styling issues and related Cypress test. (PIE-3181)</li><li>Terraform
    pipeline 400 response when retrieving artifact data with Account Connector. (PIE-3072)</li><li>Added
    placeholders for all Execution step types. (PIE-3048)</li><li>Services overview
    shows &#34;Unknown&#34; as status for Pipeline executions where the status was
    Rejected or Waiting. (PIE-2909)</li><li>Showing Pipeline stages based on module
    existence, instead of status ACTIVE check. (PIE-2851)</li><li>Values in drop-down
    dialog box are hidden. (PIE-2699)</li><li>Zoom to Fit in Pipeline execution does
    not persist. (PIE-2561)</li><li>Use <strong>ID</strong> instead of <strong>Id</strong>
    in user visible strings such as UI tool tips. (PIE-2241)</li><li>Multi-button
    CSS changed for text area component. (PIE-1661)</li><li>&#34;Page Not Found&#34;
    appears immediately after user clicks Edit for a Trigger in a Git Sync-enabled
    project. (CI-3697)</li><li>Removed Node Execution Telemetry from CI manager. (CI-3666)</li><li>Disable
    the Trigger tab or create/edit a new Trigger when the user is not on the default
    branch of the repository in a Git Sync-enabled project. (CI-3475, ZD-26590)</li><li>Annotations
    do not appear in Run Pipeline form if even one child field in it is a runtime
    input. (CI-3393)</li><li>NG: Stage template saved as stage step after adding/deleting
    stage variable. (CDS-35000, ZD-284, ZD-642, ZD-851, ZD-728, ZD-758)</li><li>With
    this fix, if a values.yaml or a Kustomize patch references a non-existent expression,
    the workflow fails on the Fetch File step with an error message that the expression
    does not exist. (CDS-34981, ZD-26598)</li><li>&#34;Stage&#34; should be uppercase
    in the UI. (CDS-34953)</li><li>Users can now easily create and manage all the
    variables used in the stage templates with the variables panel in the template
    studio. (CDS-34045)</li><li>You can now see the exact error when the Connector
    cannot fetch the Jira projects. (CDS-25448)</li></ul><h4>Delegate Version</h4><p>74410</p><h3>Minor
    Release 73807</h3><p>Release Date: February 23, 2022</p><p>We&#39;re pleased to
    present Harness On-Premise Minor Release 73807.</p><h4>New Features and Enhancements</h4><p>The
    following new features were added to the Harness platform components:</p><h5>Platform</h5><ul><li>Harness
    provides an option to resume Pipeline executions from any executed Stage or from
    the failed Stage. These options enable you to quickly rerun stages after you identify
    the cause of the failure. You can click the failed deployment that you want to
    retry and click <strong>Retry</strong> <strong>Failed Pipeline</strong>. (PIE-2441)<ul><li>See <a
    href="https://ngdocs.harness.io/article/z5n5llv35m-resume-pipeline-deployments">Retry
    Failed Deployments</a>.<figure><a href="https://files.helpdocs.io/i5nl071jo5/articles/7zkchy5lhj/1643965845663/screenshot-2022-02-04-at-2-40-20-pm.png"><img
    src="https://files.helpdocs.io/i5nl071jo5/articles/7zkchy5lhj/1643965845663/screenshot-2022-02-04-at-2-40-20-pm.png"
    style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></a></figure></li></ul></li></ul><h5>CD</h5><ul><li>Kubernetes
    Cluster connection validation also includes validating the credentials. Previously,
    only the master URL was validated. (CDS-7304)<ul><li>See <a href="https://ngdocs.harness.io/article/sjjik49xww-kubernetes-cluster-connector-settings-reference#credential_validation">Kubernetes
    Cluster Connector Settings</a>.</li></ul></li></ul><h5>CCM</h5><ul><li>N/A</li></ul><h5>CV</h5><ul><li>N/A</li></ul><h4>Issues
    Fixed in the Release</h4><ul><li>Harness to Git commit defaults to Harness_User
    as the committer (PL-20317, ZD-21850, ZD-26717, ZD-27219)<ul><li>Harness to Git
    commit was showing <strong>Harness_User</strong> as the committer. Now you&#39;ll
    be able to see the correct username as committer on GitHub. If you are using the
    same email Id for Harness login and GitHub, then your username will be shown as
    committer. If not, the <strong>Username</strong> provided on the Harness Source
    Code Manager is shown.</li></ul></li><li>The cluster name didn&#39;t appear in
    the UI for Kubernetes Workflow Recommendations. (CCM-5179)</li></ul><h4>Component
    Versions</h4><p>The following table lists the component versions in this release.</p><p></p><table><tbody><tr><td><p><strong>Name</strong> </p></td><td><p><strong>Version</strong></p></td></tr><tr><td><p><strong>NG
    Manager</strong> </p></td><td><p>73807</p></td></tr><tr><td><p><strong>CI Manager</strong></p></td><td><p>73807</p></td></tr><tr><td><p><strong>Pipeline
    Service</strong></p></td><td><p>73807</p></td></tr><tr><td><p><strong>Platform
    Service</strong></p></td><td><p>73807</p></td></tr><tr><td><p><strong>Access Control
    Service</strong></p></td><td><p>73807</p></td></tr><tr><td><p><strong>Change Data
    Capture</strong></p></td><td><p>73807</p></td></tr><tr><td><p><strong>Test Intelligence
    Service</strong></p></td><td><p>release-46</p></td></tr><tr><td><p><strong>NG
    UI</strong></p></td><td><p>0.286.6</p></td></tr></tbody></table><p></p><h3>Minor
    Release 73610</h3><p>Release Date: Feb 1, 2022</p><p>We&#39;re pleased to present
    Harness On-Premise Minor Release 73610.</p><h4>New Features and Enhancements</h4><p>The
    following new features were added to the Harness platform components:</p><h5>Platform</h5><ul><li>N/A</li></ul><h5>CD</h5><ul><li>You
    can now delete Services from the Services dashboard (CDC-16505).<figure><img src="https://files.helpdocs.io/i5nl071jo5/articles/556wy85kbo/1643845181632/clean-shot-2022-02-02-at-15-38-51.png"/></figure><ul><li>A
    Service cannot be deleted if it is being referenced in a Pipeline. To delete a
    Service, please remove the Service from any Pipelines.</li><li>You can also see
    what entities reference a Service using its <strong>Referenced by</strong> page:<figure><img
    src="https://files.helpdocs.io/i5nl071jo5/articles/556wy85kbo/1643845300475/clean-shot-2022-02-02-at-15-41-10.png"/></figure></li></ul></li><li><strong>Native
    Helm</strong> is now supported in Harness CD. This is behind feature flag <code>NG_NATIVE_HELM</code>.
    (CDP-19581)<ul><li>Harness includes both Kubernetes and Native Helm deployments,
    and you can use Helm charts in both. Here&#39;s the difference:</li><li><strong>Kubernetes
    with Helm:</strong> Harness Kubernetes deployments allow you to use your own Helm
    values.yaml or Helm chart (remote or local), and Harness executes the Kubernetes
    kubectl calls to build everything without Helm and Tiller needing to be installed
    in the target cluster. You can perform all deployment strategies (Rolling, Canary,
    Blue Green).<br/>See <a href="https://ngdocs.harness.io/article/knunou9j30-kubernetes-cd-quickstart">Kubernetes
    CD Quickstart</a>, <a href="https://ngdocs.harness.io/article/cifa2yb19a-helm-cd-quickstart">Helm
    Chart CD Quickstart</a>.</li><li><strong>Native Helm:</strong> For Harness Native Helm
    deployments, you must always have Helm and Tiller running on one pod in your target
    cluster and Tiller makes the API calls to Kubernetes. You can perform a Rolling
    deployment strategy only.</li><li>See <a href="/article/lbhf2h71at-native-helm-quickstart">Native
    Helm Quickstart</a>.</li></ul></li></ul><h5>CCM</h5><ul><li>When you group by
    AWS account, the resources display AWS account names instead of IDs on the Overview
    and Perspective page.<figure><a href="https://files.helpdocs.io/i5nl071jo5/articles/7zkchy5lhj/1642750127385/screenshot-2022-01-21-at-12-58-34-pm.png"><img
    src="https://files.helpdocs.io/i5nl071jo5/articles/7zkchy5lhj/1642750127385/screenshot-2022-01-21-at-12-58-34-pm.png"
    style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></a></figure><ul><li>See <a
    href="https://ngdocs.harness.io/article/1nf0qcz4o0-analyze-cost-for-aws">Analyze
    Cost for AWS Using Perspectives</a>. (CCM-5365)</li></ul></li></ul><h5>CV</h5><ul><li>N/A</li></ul><h4>Issues
    Fixed in the Release</h4><ul><li>Harness On-Prem CIE not seeing status checks
    with account level repository connector (CI-3187, ZD-20607)</li><li>Pipeline keeps
    running even after approver rejects the approval (CDC-16549, ZD-26346)<ul><li>When
    an <a href="/article/43pzzhrcbv-using-harness-approval-steps-in-cd-stages">Approval
    step</a> is rejected, the <a href="/article/0zvnn5s1ph-define-a-failure-strategy-on-stages-and-steps">Failure
    Strategy</a> <strong>Unknown errors</strong> is considered. Now, <strong>Ignore
    Failure</strong>, <strong>Mark as success</strong>, and <strong>Abort Failure</strong>
    are used.</li></ul></li></ul><h4>Component Versions</h4><p>The following table
    lists the component versions in this release.</p><p></p><table><tbody><tr><td><p><strong>Name</strong> </p></td><td><p><strong>Version</strong></p></td></tr><tr><td><p><strong>NG
    Manager</strong> </p></td><td><p>73610</p></td></tr><tr><td><p><strong>CI Manager</strong></p></td><td><p>73610</p></td></tr><tr><td><p><strong>Pipeline
    Service</strong></p></td><td><p>73610</p></td></tr><tr><td><p><strong>Platform
    Service</strong></p></td><td><p>73610</p></td></tr><tr><td><p><strong>Access Control
    Service</strong></p></td><td><p>73610</p></td></tr><tr><td><p><strong>Change Data
    Capture</strong></p></td><td><p>73610</p></td></tr><tr><td><p><strong>Test Intelligence
    Service</strong></p></td><td><p>release-46</p></td></tr><tr><td><p><strong>NG
    UI</strong></p></td><td><p>0.284.7</p></td></tr></tbody></table><p></p><h3>Minor
    Release 73406</h3><p>Release Date: Jan 18, 2022</p><p>We&#39;re pleased to present
    Harness On-Premise Minor Release 73406.</p><h4>New Features and Enhancements</h4><p>The
    following new features were added to the Harness platform components:</p><h5>Platform</h5><ul><li>Harness
    Git Experience Git Sync Error Reporting (PL-21838)<ul><li>You can now view and
    diagnose Git-to-Harness sync errors and connectivity issues:<figure><img src="https://files.helpdocs.io/i5nl071jo5/articles/556wy85kbo/1642621259119/clean-shot-2022-01-19-at-11-36-23.png"/></figure></li><li>See
    <a href="/article/24ehx5oa94-git-sync-errors">Diagnose and Fix Git Sync Errors</a>.</li></ul></li></ul><h5>CD</h5><ul><li>N/A</li></ul><h5>CCM</h5><ul><li>GCP
    Cloud Cost Connector setup now requires explicit table name to be entered (CCM-5245)<ul><li>Cloud
    Billing export to BigQuery enables you to export detailed Google Cloud billing
    data (such as usage and cost estimate data) automatically throughout the day to
    a BigQuery dataset that you specify.</li><li>By requiring an explicit table name
    the data sync logic with Harness is now simpler.<figure><img src="https://files.helpdocs.io/i5nl071jo5/articles/556wy85kbo/1642621578946/image.png"/></figure></li><li><strong>Action:</strong>
    Existing GCP Cloud Cost Connectors will continue working as normal.</li><li>See
    <a href="/article/kxnsritjls-set-up-cost-visibility-for-gcp#step_2_gcp_billing_export">GCP
    Billing Export</a>.</li></ul></li></ul><h5>CV</h5><ul><li>N/A</li></ul><h4>Issues
    Fixed in the Release</h4><ul><li>No issues in this release.</li></ul><h4>Component
    Versions</h4><p>The following table lists the component versions in this release.</p><table><tbody><tr><td><p><strong>Name</strong> </p></td><td><p><strong>Version</strong></p></td></tr><tr><td><p><strong>NG
    Manager</strong> </p></td><td><p>73406</p></td></tr><tr><td><p><strong>CI Manager</strong></p></td><td><p>73406</p></td></tr><tr><td><p><strong>Pipeline
    Service</strong></p></td><td><p>73406</p></td></tr><tr><td><p><strong>Platform
    Service</strong></p></td><td><p>73406</p></td></tr><tr><td><p><strong>Access Control
    Service</strong></p></td><td><p>73406</p></td></tr><tr><td><p><strong>Change Data
    Capture</strong></p></td><td><p>73406</p></td></tr><tr><td><p><strong>Test Intelligence
    Service</strong></p></td><td><p>release-46</p></td></tr><tr><td><p><strong>NG
    UI</strong></p></td><td><p>0.282.3</p></td></tr></tbody></table><p></p><h3>Minor
    Release 73225</h3><p>Release Date: Jan 6, 2022</p><p>We&#39;re pleased to present
    Harness On-Premise Minor Release 73225.</p><h4>New Features and Enhancements</h4><p>The
    following new features were added to the Harness platform components:</p><ul><li>You
    can now perform the following on Perspectives (CCM-5260)<ul><li>Filter Perspectives
    based on Cloud Providers</li><li>Filter default OOTB Perspectives</li><li>Access
    Recently Edited Perspectives</li><li>See <a href="https://ngdocs.harness.io/article/dvspc6ub0v-create-cost-perspectives">Create
    Cost Perspectives</a></li></ul></li><li>In Harness CCM Budgets you can now (CCM-5232)<ul><li>Define
    budget over multiple periods</li><li>Define the start period for a budget</li><li>Add
    multiple budgets for a single Perspective</li><li>View confirmation pop-up when
    a budget is deleted</li><li>See <a href="https://ngdocs.harness.io/article/08r3t4z0jo-create-a-budget">Create
    a Budget</a></li></ul></li></ul><h4>Issues Fixed in the Release</h4><ul><li>Build
    Bitbucket with tag was not working. (CI-3139, ZD-20670,ZD-21315)</li><li>Retry
    action on <strong>Initialize</strong> step to build CIE K8s pod was not working
    with Stage Failure Strategy.(CI-2954, ZD-20678)</li><li>Unknown Error message
    about proxy/http task failing (CDC-16289, ZD-20959)<ul><li>HTTP step failed with
    an error: <code>Invalid Request: Delegate is configured not to use proxy for the
    given URL</code>. Happened when proxy was set on Delegate and the URL provided
    in HTTP step was added as <code>no_proxy</code>. We have fixed it with this release.</li></ul></li></ul><h4>Component
    Versions</h4><p>The following table lists the component versions in this release.</p><p></p><table><tbody><tr><td><p><strong>Name</strong> </p></td><td><p><strong>Version</strong></p></td></tr><tr><td><p><strong>NG
    Manager</strong> </p></td><td><p>73225</p></td></tr><tr><td><p><strong>CI Manager</strong></p></td><td><p>73225</p></td></tr><tr><td><p><strong>Pipeline
    Service</strong></p></td><td><p>73225</p></td></tr><tr><td><p><strong>Platform
    Service</strong></p></td><td><p>73225</p></td></tr><tr><td><p><strong>Access Control
    Service</strong></p></td><td><p>73225</p></td></tr><tr><td><p><strong>Change Data
    Capture</strong></p></td><td><p>73225</p></td></tr><tr><td><p><strong>Test Intelligence
    Service</strong></p></td><td><p>release-46</p></td></tr><tr><td><p><strong>NG
    UI</strong></p></td><td><p>0.280.10</p></td></tr></tbody></table><p></p>'
  slug: draft-harness-on-prem-release-notes
  tags: []
  is_live: true
