type: article
article_id: 4bor7kyimj
user_id: mfr0nxh4be
category_id: y6gyszr0kl
author:
  name: Michael Cretzman
  profile_image: https://www.gravatar.com/avatar/2e8616837f4ee92be5d19ffe9b9ccba9?d=mm&s=150
title: Add a Pipeline Notification Strategy
slug: notify-users-of-pipeline-events
description: Notify Users of different Pipeline events using popular notification
  methods.
short_version: Notify Users of different Pipeline events using popular notification
  methods.
tags: []
show_toc: true
is_private: false
is_published: true
is_featured: false
stale_status:
  is_stale: false
  reason: ""
  source: API
  triggered_at: 2022-07-05T06:54:29.971671Z
  expires_at: null
permission_groups: []
multilingual:
- language_code: en
  title: Add a Pipeline Notification Strategy
  description: Notify Users of different Pipeline events using popular notification
    methods.
  short_version: Notify Users of different Pipeline events using popular notification
    methods.
  body: '<p>You can send Pipeline event notifications using email and popular communication
    and incident management platforms.</p><p>Event notifications are set up using
    <strong>Notification Rules</strong> in your Pipeline. You select the types of
    events to send, and then select how you want to send notifications. When those
    events occur, Harness sends event information to those channels and recipients.</p><p>This
    topic describes how to set up <strong>Notification Rules</strong> in your Pipeline.</p><div
    class="note-callout">You can set notifications preferences on User Groups also.
    See <a href="/article/dfwuvmy33m-add-user-groups">Add and Manage User Groups</a>.</div><h3>Before
    You Begin</h3><ul><li><a href="/article/h5n2oj8y5y-send-notifications-using-slack">Send
    Notifications Using Slack</a></li><li><a href="/article/dfwuvmy33m-add-user-groups">Add
    and Manage Resource Groups</a></li></ul><h3>Limitations</h3><p>Currently, Harness
    supports several communication and incident management platforms. If you don&#39;t
    see yours, contact Harness.</p><h3>Review: Requirements</h3><p>To create or enable
    a Notification Rule, a User must belong to a User Group with a Role that has the
    Pipeline <strong>Create/Edit</strong> permission.</p><h3>Step 1: Add a Notification
    Rule</h3><p>In your Pipeline, click <strong>Notify</strong>.</p><p></p><figure><img
    src="https://files.helpdocs.io/i5nl071jo5/articles/4bor7kyimj/1651855306446/clean-shot-2022-05-06-at-09-41-22.png"/></figure><p>To
    create a new notification rule, click <strong>Notifications</strong>. The Notification
    Rule settings appear.</p><p>Enter a name for the notification rule. You might
    want to edit the name after you&#39;ve selected the events that trigger the rule.</p><p>Click
    <strong>Next</strong>.</p><h3>Step 2: Select Events</h3><p>In <strong>Pipeline
    Events</strong>, select the events that will trigger the notification.</p><p>You
    can select events for the Pipeline or stages.</p><p>If you select the stage events,
    you can select which stages to use.</p><p></p><figure><img src="https://files.helpdocs.io/i5nl071jo5/articles/4bor7kyimj/1630449503746/clean-shot-2021-08-31-at-15-38-13.png"/></figure><p>Click
    <strong>Continue</strong>.</p><p>There are different communication and incident
    management platforms to use for the notification rule. Their settings are described
    below.</p><p>The events are self-explanatory, but there are a few considerations:</p><ul><li>If
    you select both Pipeline End and Pipeline Success, you&#39;ll get two notifications.</li><li>Pipeline
    Pause only applies to a manual pause of the Pipeline execution. Pending Approval
    steps don&#39;t trigger the Pipeline Pause event.</li></ul><h3>Option: Email Notifications</h3><p>For
    email notifications, simply type in the email addresses that you want to notify.</p><p>Enter
    multiple addresses as a comma-separated list. For example, <code>john.doe@example.io,qateam@example.io</code>.</p><p>Here&#39;s
    an example of an email notification for the Pipeline Start event:</p><p></p><figure><img
    src="https://files.helpdocs.io/i5nl071jo5/articles/4bor7kyimj/1630450804729/clean-shot-2021-08-31-at-15-57-54.png"/></figure><p>Along
    with the start date and who triggered the Pipeline, the email includes a link
    to the Pipeline execution in Harness.</p><h3>Option: Slack Notifications</h3><p>For
    Slack notifications, you simply create a webhook in Slack and paste it into the
    <strong>Slack Webhook URL</strong> setting in the Notification Rule.</p><p>Follow
    the steps in Slack documentation for creating a Slack app, selecting your channel,
    and creating a webhook:  <a href="https://api.slack.com/messaging/webhooks" target="_blank">Sending
    messages using Incoming Webhooks</a>.</p><p>When you are done, you&#39;ll have
    a webhook that looks something like this:</p><p></p><figure><img src="https://files.helpdocs.io/i5nl071jo5/articles/4bor7kyimj/1630453278886/image.png"
    style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure><p>Copy
    the webhook.</p><p>You either paste the Webhook into <strong>Slack Webhook URL</strong>
    or add it as an <a href="/article/osfw70e59c-add-use-text-secrets">Encrypted Text</a>
    in Harness and reference it here.</p><p>For example, if you have a text secret
    with the identifier <code>slackwebhookURL</code>, you can reference it like this:​</p><pre>&lt;+secrets.getValue(&#34;slackwebhookURL&#34;)&gt;​</pre><p></p><p>You
    can reference a secret within the Org scope using an expression with <code>org</code>:​</p><pre>&lt;+secrets.getValue(&#34;org.your-secret-Id&#34;)&gt;​​</pre><p></p><p>You
    can reference a secret within the Account scope using an expression with <code>account</code>:​</p><pre>&lt;+secrets.getValue(“account.your-secret-Id”)&gt;​​​</pre><figure><img
    src="https://files.helpdocs.io/i5nl071jo5/articles/4bor7kyimj/1656331182150/screenshot-2022-06-27-at-5-28-23-pm.png"
    style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure><p></p><h3>Option:
    PagerDuty Notifications</h3><p>For PagerDuty notifications, enter the key for
    a PagerDuty Account/Service or add it as an <a href="/article/osfw70e59c-add-use-text-secrets">Encrypted
    Text</a> in Harness and reference it in <strong>PagerDuty Key</strong>. Harness
    will send notifications using this key.</p><p>For example, if you have a text
    secret with the identifier <code>pagerdutykey</code>, you can reference it like
    this:​</p><pre>&lt;+secrets.getValue(&#34;pagerdutykey&#34;)&gt;​</pre><p></p><p>You
    can reference a secret within the Org scope using an expression with <code>org</code>:</p><pre>&lt;+secrets.getvalue(&#34;org.your-secret-Id&#34;)&gt;</pre><p></p><p>You
    can reference a secret within the Account scope using an expression with <code>account</code>:</p><pre>&lt;+secrets.getvalue(&#34;account.your-secret-Id&#34;)&gt;</pre><p></p><p>You
    can copy/paste this key from PagerDuty&#39;s <strong>Configuration</strong> &gt; <strong>Services</strong> &gt; <strong>Service
    Details</strong> dialog &gt; <strong>Integrations</strong> tab, as shown below.</p><p></p><figure><img
    src="https://files.helpdocs.io/i5nl071jo5/articles/4bor7kyimj/1630536383816/image.png"/></figure><p>For
    details, see PagerDuty&#39;s documentation on <a href="https://support.pagerduty.com/docs/services-and-integrations">Creating Integrations</a>.</p><h3>Option:
    Microsoft Teams Notifications</h3><p>For Microsoft Teams notifications, you enter
    in the Webhook URL for your Microsoft Teams Channel in <strong>Microsoft Teams
    Webhook URL</strong>.</p><p>You create a channel connector in Microsoft Teams
    to generate the Webhook Harness needs for notification.</p><p>In Microsoft Teams,
    right-click the channel where you want to send notifications, and select <strong>Connectors</strong>.</p><figure><img
    src="https://files.helpdocs.io/i5nl071jo5/articles/xcb28vgn82/1630577686052/screenshot-2021-09-02-at-3-43-07-pm.png"
    style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure><p>In <strong>Connectors</strong>,
    locate <strong>Incoming Webhook</strong>, and click <strong>Configure.</strong></p><figure><img
    src="https://files.helpdocs.io/i5nl071jo5/articles/xcb28vgn82/1630577879194/screenshot-2021-09-02-at-3-47-11-pm.png"
    style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure><p>In <strong>Incoming
    Webhook</strong>, enter a name, such as <strong>Harness</strong>.</p><p>Right-click
    and save the Harness icon from here:</p><figure><img src="https://files.helpdocs.io/i5nl071jo5/articles/xcb28vgn82/1630578123520/harness.png"
    style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure><p>Click <strong>Upload
    Image</strong> and add the Harness icon you downloaded.</p><p>Next, you&#39;ll
    create the Webhook URL needed by Harness.</p><p>In your Microsoft Teams Connector,
    click <strong>Create</strong>. The Webhook URL is generated.</p><figure><img src="https://files.helpdocs.io/i5nl071jo5/articles/xcb28vgn82/1630579026940/screenshot-2021-09-02-at-3-55-13-pm.png"
    style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure><p>Click
    the copy button to copy the Webhook URL, and then click <strong>Done</strong>.</p><p>The
    channel indicates that the Connector was set up.</p><figure><img src="https://files.helpdocs.io/i5nl071jo5/articles/xcb28vgn82/1630579556276/screenshot-2021-09-02-at-4-13-29-pm.png"
    style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure><p>In
    Harness, in <strong>Notification Method</strong> settings, enter the Webhook URL
    for your Microsoft Teams Channel in <strong>Microsoft Teams Webhook URL</strong>
    or add it as an <a href="/article/osfw70e59c-add-use-text-secrets">Encrypted Text</a>
    and reference it here.</p><p>For example, if you have a text secret with the identifier
    <code>teamswebhookURL</code>, you can reference it like this:​</p><pre>&lt;+secrets.getValue(&#34;teamswebhookURL&#34;)&gt;​​</pre><p></p><p>You
    can reference a secret within the Org scope using an expression with <code>org</code>:</p><pre>&lt;+secrets.getvalue(&#34;org.your-secret-Id&#34;)&gt;​</pre><p></p><p>You
    can reference a secret within the Account scope using an expression with <code>account</code>:​</p><pre>&lt;+secrets.getvalue(&#34;account.your-secret-Id&#34;)&gt;​​</pre><h3>Option:
    Notify Slack Channels in User Groups</h3><p>If you have Harness User Groups that
    have Slack webhooks set up in their Notification Preferences, you can select those
    groups and Harness will notify them <u>in addition</u> to the Email, Slack, or
    PagerDuty settings.</p><p>See <a href="/article/h5n2oj8y5y-send-notifications-using-slack">Send
    Notifications Using Slack</a>.</p><h3>Step 3: Enable or Disable Notification Rules</h3><p>Once
    you&#39;ve created Notification Rules, you can enable and disable them in the
    <strong>Notifications</strong> page.</p><p></p><figure><img src="https://files.helpdocs.io/i5nl071jo5/articles/4bor7kyimj/1630536618729/clean-shot-2021-09-01-at-15-50-12.png"/></figure><h3>See
    Also</h3><ul><li><a href="/article/dfwuvmy33m-add-user-groups">Add and Manage
    User Groups</a></li></ul><p></p>'
  slug: notify-users-of-pipeline-events
  tags: []
  is_live: true
