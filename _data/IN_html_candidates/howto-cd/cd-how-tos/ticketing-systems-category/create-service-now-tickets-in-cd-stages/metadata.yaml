type: article
article_id: tjkyd945nh
user_id: 2te4j9f9g7
category_id: qd6woyznd7
author:
  name: Rashmi Nanda Sahoo
  profile_image: https://www.gravatar.com/avatar/b7bfd905f8714099535f2ff657fa3975?d=mm&s=150
title: Create ServiceNow Tickets in CD Stages
slug: create-service-now-tickets-in-cd-stages
description: This topic describes how to add Service Now Tickets in CD Stages.
short_version: This topic describes how to add Service Now Tickets in CD Stages.
tags:
- ServiceNow
- Approvals
- CD
show_toc: true
is_private: false
is_published: true
is_featured: false
stale_status:
  is_stale: false
  reason: ""
  source: API
  triggered_at: 2022-09-12T19:22:20.718794Z
  expires_at: null
permission_groups: []
multilingual:
- language_code: en
  title: Create ServiceNow Tickets in CD Stages
  description: This topic describes how to add Service Now Tickets in CD Stages.
  short_version: This topic describes how to add Service Now Tickets in CD Stages.
  body: '<p>Harness provides the ability to create and manage <a href="https://docs.servicenow.com/bundle/rome-it-service-management/page/product/change-management/concept/c_ITILChangeManagement.html">ServiceNow
    change requests</a>, <a href="https://docs.servicenow.com/bundle/rome-it-service-management/page/product/incident-management/concept/c_IncidentManagement.html">incident
    tickets</a>, <a href="https://docs.servicenow.com/bundle/rome-it-service-management/page/product/change-management/concept/change-types.html">change
    tasks</a>, and <a href="https://docs.servicenow.com/bundle/rome-it-service-management/page/product/problem-management/concept/c_ProblemManagement.html">problem
    type</a> from your Pipeline step using the <strong>ServiceNow Create</strong>
    step.</p><p>You can add the Create ServiceNow step to a Harness CD stage or an
    Approval stage and do the following:</p><ul><li>Automatically create change requests
    in ServiceNow to track updates to your build, test, and production environments
    by adding a <strong>ServiceNow Create</strong> step in your Pipeline.</li><li>Automatically
    create and assign tickets in ServiceNow to triage and resolve incidents quickly
    in case of Pipeline failures.</li></ul><h3>Before You Begin</h3><ul><li><a href="/article/illz8off8q-connect-to-service-now">Connect
    to ServiceNow</a>: you can add a Harness ServiceNow Connector before or during
    the Create ServiceNow step setup.</li><li>You must install the Harness Application
    before using templates to create ServiceNow tickets.​</li><li>Make sure you have
    the following roles:<ul><li><code>x_harne_harness_ap.integration_user_role​</code></li><li><code>itil</code>​</li></ul></li></ul><h3>Limitations</h3><ul><li>While
    it&#39;s not a strict limitation, some users can forget that when you use a ServiceNow
    Create step, it creates a <u>new</u>, independent ServiceNow ticket every time
    it is run (as opposed to updating the same issue).<br/>It is important to remember
    that you should only add ServiceNow Create to a stage if you want to create a
    new ServiceNow ticket on every run of the stage.</li></ul><h4>UTC Timezone Only</h4><p>The
    ServiceNow API only allows date time and time values in the UTC timezone. Consequently,
    input for any datetime/time fields in Harness ServiceNow steps must be provided
    in UTC format irrespective of time zone settings in your ServiceNow account.</p><p>The
    timezone settings govern the <u>display value</u> of the settings not their <u>actual</u> value.</p><div
    class="note-callout">The display values in the Harness UI depend on ServiceNow
    timezone settings.</div><h3>Review: ServiceNow User Roles</h3><p>You can install
    the Harness app in your ServiceNow instance from the ServiceNow <a href="https://store.servicenow.com/sn_appstore_store.do#!/store/application/de154a1e1b75851044cbdb58b04bcb11/1.0.1?referer=%2Fstore%2Fsearch%3Flistingtype%3Dallintegrations%25253Bancillary_app%25253Bcertified_apps%25253Bcontent%25253Bindustry_solution%25253Boem%25253Butility%25253Btemplate%26q%3Dharness&amp;sl=sh">store</a>.
    For more information, see <a href="https://store.servicenow.com/appStoreAttachments.do?sys_id=1fc1632b872f4dd0970e2178cebb35ba">Installation
    Guide</a>.</p><p>To configure the Harness app in ServiceNow, you must have the
    following roles:</p><ul><li><code>x_harne_harness_ap.integration_user_role​</code>
    : to access supported APIs, view Harness support details and access Templates.</li><li><code>itil</code>​:
    for end-to-end integration with Harness platform.</li></ul><h3>Step 1: Add a ServiceNow
    Create Step</h3><p>In a Harness CD or Approval stage, in <strong>Execution</strong>,
    click <strong>Add Step</strong>.</p><figure><img src="https://files.helpdocs.io/i5nl071jo5/articles/tjkyd945nh/1652104125754/screenshot-2022-05-09-at-7-17-23-pm.png"
    style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure><p>Click
    <strong>ServiceNow Create</strong>. The ServiceNow Create settings appear.</p><figure><img
    src="https://files.helpdocs.io/i5nl071jo5/articles/tjkyd945nh/1652104150651/screenshot-2022-05-09-at-7-17-53-pm.png"
    style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure><p>In <strong>Name</strong>,
    enter a name that describes the step.</p><p>In <strong>Timeout</strong>, enter
    how long you want Harness to try to create the issue before failing (and initiating
    the stage or step <a href="https://ngdocs.harness.io/article/0zvnn5s1ph-define-a-failure-strategy-on-stages-and-steps">Failure
    Strategy</a>).</p><p>In <strong>ServiceNow Connector</strong>, create or select
    the <a href="/article/illz8off8q-connect-to-service-now">ServiceNow Connector</a>
    to use.</p><p>In <strong>Ticket Type</strong>, select a ServiceNow ticket type
    from the list.</p><figure><img src="https://files.helpdocs.io/i5nl071jo5/articles/tjkyd945nh/1652104283702/screenshot-2022-05-09-at-7-20-39-pm.png"
    style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure><h3>Option:
    Configure Fields</h3><p>Select <strong>Configure Fields</strong> to select or
    add ServiceNow Fields to your ServiceNow ticket. This option enables you to access
    multiple custom fields from your ServiceNow integration.</p><p>In <strong>Description</strong>,
    add the ticket description.</p><p>In <strong>Short Description</strong>, enter
    a description of the ticket you are creating. This will be the title of the ticket.</p><p>You
    can use Harness variables in the <strong>Short Description</strong> and <strong>Description</strong> fields.</p><p>Click
    <strong>Fields</strong>. The <strong>Add ServiceNow Fields</strong> settings appear.</p><figure><img
    src="https://files.helpdocs.io/i5nl071jo5/articles/tjkyd945nh/1652142934350/screenshot-2022-05-10-at-6-05-04-am.png"
    style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure><p>Select
    <strong>Provide Field List</strong> to add custom fields.</p><p>Enter <strong>Key</strong>
    for the field.</p><p>In <strong>Value</strong>, you can write static values, or
    variables, to these fields.</p><p>The properties are specified as key-value pairs,
    the name being the field name (not the label) in ServiceNow and a valid value.​</p><p>Click
    <strong>Add</strong>.</p><figure><img src="https://files.helpdocs.io/i5nl071jo5/articles/tjkyd945nh/1652143818349/screenshot-2022-05-10-at-6-19-41-am.png"
    style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure><p>Once
    you are done, this is how the dialog looks:</p><figure><img src="https://files.helpdocs.io/i5nl071jo5/articles/tjkyd945nh/1652145261780/screenshot-2022-05-10-at-6-39-20-am.png"
    style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure><h3>Option:
    Create From Template</h3><p>Select <strong>Create From Template</strong> to create
    a ticket using an existing template.</p><p>In <strong>Template Name</strong>,
    you can either enter the name of an existing template or provide an expression.</p><figure><img
    src="https://files.helpdocs.io/i5nl071jo5/articles/tjkyd945nh/1652155880211/screenshot-2022-05-10-at-9-36-59-am.png"
    style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure><div
    class="note-callout">If there are many templates with the same name, the most
    current one is used to create tickets.</div><p>Click <strong>Apply Changes</strong>.</p><p>Your
    ServiceNow ticket is now added to your Pipeline.</p><h3>Option: Normal and Standard
    Change Requests</h3><p>By default, Harness creates Normal Change requests, not
    Standard Change requests. If you want to create Standard or Emergency type ServiceNow
    Change request tickets, then do the following:</p><p>In <strong>Fields</strong>,
    select <strong>Type</strong>.</p><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/tjkyd945nh/1657555005861/clean-shot-2022-07-11-at-08-56-21.png"
    style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure><p>In
    <strong>Type</strong>, select <strong>Normal</strong> or <strong>Emergency</strong>.</p><p></p><figure><img
    src="https://files.helpdocs.io/kw8ldg1itf/articles/tjkyd945nh/1657554973235/clean-shot-2022-07-11-at-08-55-45.png"
    style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure><h3>See
    Also</h3><ul><li><a href="/article/ljoofj2839-update-service-now-tickets-in-cd-stages">Update
    ServiceNow Tickets in CD Stages</a></li></ul><p></p>'
  slug: create-service-now-tickets-in-cd-stages
  tags:
  - ServiceNow
  - Approvals
  - CD
  is_live: true
