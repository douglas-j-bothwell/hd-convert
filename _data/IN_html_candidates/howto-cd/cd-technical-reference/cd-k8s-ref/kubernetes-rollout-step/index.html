<p>This topic provides settings and permissions for the Kubernetes Rollout Deployment step.</p><p>In this topic:</p><ul><li><a href="#rollout_deployments">Rollout Deployments</a></li><li><a href="#review_what_workloads_can_i_deploy">Review: What Workloads Can I Deploy?</a><ul><li><a href="#multiple_managed_workloads">Multiple Managed Workloads</a></li></ul></li><li><a href="#name">Name</a></li><li><a href="#timeout">Timeout</a></li><li><a href="#skip_dry_run">Skip Dry Run</a></li><li><a href="#advanced_settings">Advanced Settings</a></li></ul><p></p><h3>Rollout Deployments</h3><p>The Rollout Deployment step performs a Kubernetes <a href="/article/0zsf97lo3c-deployment-concepts">rolling update strategy</a>. All nodes within a single environment are incrementally added one-by-one with a new service/artifact version.</p><p>The new pods are scheduled on nodes with available resources. The rolling update Deployment uses the number of pods you specified in the Service Definition <strong>Manifests</strong> (number of replicas).</p><p>Similar to application-scaling, during a rolling update of a Deployment, the Kubernetes service will load-balance the traffic only to available pods (an instance that is available to the users of the application) during the update.</p><h3>Review: What Workloads Can I Deploy?</h3><p>See <a href="/article/efnlvytc6l-what-can-i-deploy-in-kubernetes">What Can I Deploy in Kubernetes?</a>.</p><h4>Rolling vs Apply</h4><p>The following table lists the differences between the Rolling Deployment step (default in a Rolling strategy) and the Apply step (which may be used with any strategy).</p><table><tbody><tr><td><p></p></td><td><p><strong>Jobs</strong></p></td><td><p><strong>Rollback</strong></p></td></tr><tr><td><p><strong>Rolling Deployment step</strong></p></td><td><p>No</p></td><td><p>Yes</p></td></tr><tr><td><p><strong>Apply step</strong></p></td><td><p>Yes</p></td><td><p>No</p></td></tr></tbody></table><p></p><p></p><h4>Multiple Managed Workloads</h4><p>With the Rolling Deployment step, you can deploy multiple managed workloads.</p><p>For Canary and Blue/Green steps, only one managed object may be deployed per step by default.</p><p>You can deploy additional objects using the <a href="/article/00el61pzok-deploy-manifests-separately-using-apply-command">Apply Step</a>, but it is typically used for deploying Jobs controllers.</p><div class="note-callout">You can specify the multiple workload objects in a single manifest or in individual manifests, or any other arrangement.</div><p>Here is the log from a deployment where you can see both Deployment objects deployed:</p><pre>apiVersion: apps/v1<br/>kind: Deployment<br/>metadata:<br/>  name: anshul-multiple-workloads-deployment<br/>spec:<br/>  replicas: 1<br/>  selector:<br/>    matchLabels:<br/>      app: anshul-multiple-workloads<br/>  template:<br/>    metadata:<br/>      labels:<br/>        app: anshul-multiple-workloads<br/>    spec:<br/>      containers:<br/>      - name: anshul-multiple-workloads<br/>        image: registry.hub.docker.com/library/nginx:stable<br/>        envFrom:<br/>        - configMapRef:<br/>            name: anshul-multiple-workloads<br/>        - secretRef:<br/>            name: anshul-multiple-workloads<br/>---<br/>apiVersion: apps/v1<br/>kind: Deployment<br/>metadata:<br/>  name: anshul-multiple-workloads-deployment-1<br/>spec:<br/>  replicas: 3<br/>  selector:<br/>    matchLabels:<br/>      app: anshul-multiple-workloads<br/>  template:<br/>    metadata:<br/>      labels:<br/>        app: anshul-multiple-workloads<br/>    spec:<br/>      containers:<br/>      - name: anshul-multiple-workloads<br/>        image: registry.hub.docker.com/library/nginx:stable<br/>        envFrom:<br/>        - configMapRef:<br/>            name: anshul-multiple-workloads<br/>        - secretRef:<br/>            name: anshul-multiple-workloads</pre><h3>Name</h3><p>The name for the step.</p><h3>Timeout</h3><p>How long Harness should wait for this step to complete before failing it.</p><h3>Skip Dry Run</h3><p>By default, Harness uses the <code>--dry-run</code> flag on the <code>kubectl apply</code> command, which prints the object that would be sent to the cluster without really sending it. If the <strong>Skip Dry Run</strong> option is selected, Harness will not use the <code>--dry-run</code> flag.</p><h3>Advanced Settings</h3><p>See the following:</p><ul><li><a href="/article/i36ibenkq2-step-skip-condition-settings">Step Skip Condition Settings</a></li><li><a href="/article/htrur23poj-step-failure-strategy-settings">Step Failure Strategy Settings</a></li><li><a href="/article/nnuf8yv13o-select-delegates-with-selectors">Select Delegates with Selectors</a></li></ul><p></p><p></p>