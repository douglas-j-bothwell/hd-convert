type: article
article_id: pmzbtrq5qf
user_id: znazf3hcp9
category_id: dxej4ug0n5
author:
  name: Michael Cretzman
  profile_image: https://www.gravatar.com/avatar/77114bb5eef5503c5a09ad7655120b17?d=mm&s=150
title: Helm Deployments Overview
slug: helm-deployments-overview
description: The high-level steps involved in a Harness Helm deployment.
short_version: The high-level steps involved in a Harness Helm deployment.
tags:
- Helm overview
- Helm deployments
show_toc: true
is_private: false
is_published: false
is_featured: false
stale_status:
  is_stale: false
  reason: Article updated
  source: API
  triggered_at: 2020-12-21T23:52:15.071886Z
  expires_at: null
permission_groups: []
multilingual:
- language_code: en
  title: Helm Deployments Overview
  description: The high-level steps involved in a Harness Helm deployment.
  short_version: The high-level steps involved in a Harness Helm deployment.
  body: |-
    <div class="note-callout">Harness includes both Kubernetes and Helm deployments, and you can use Helm charts in both. Harness&nbsp;
      <a href="/article/u29v1uc1mh-kubernetes-deployments-overview">Kubernetes Deployments</a>&nbsp;allow you to use your own Helm chart (remote or local), and Harness executes the Kubernetes API calls to build everything without Helm and Tiller needing to be installed in the target cluster. See&nbsp;
      <a href="/article/h7r9u38ody-use-helm-charts-for-kubernetes-manifests">Use Helm Charts for Kubernetes Manifests</a>.</div>
    <p>This topic describes the concept of a Harness Helm-based Kubernetes deployment by describing the high-level steps involved.</p>
    <p>For a quick tutorial, see the&nbsp;
      <a href="/article/uqoid4c7jt-helm-deployments">Helm Deployments</a>&nbsp;tutorial.</p>
    <p>For detailed instructions on using Helm in Harness, see the&nbsp;
      <a href="/category/53l9q3zxtx-howtos-helm">Helm How-tos</a>.</p>
    <div class="note-callout">Harness supports Helm v2.x. Harness does not support Helm v3 at this time.</div>
    <p>In this topic:</p>
    <ul>
      <li>
        <a href="/article/pmzbtrq5qf-helm-deployments-overview#before_you_begin">Before You Begin</a>
      </li>
      <li>
        <a href="/article/pmzbtrq5qf-helm-deployments-overview#harness_helm_or_kubernetes_deployments">Harness Helm or Kubernetes Deployments?</a>
      </li>
      <li>
        <a href="/article/pmzbtrq5qf-helm-deployments-overview#what_does_harness_need_before_you_start">What Does Harness Need Before You Start?</a>
      </li>
      <li>
        <a href="/article/pmzbtrq5qf-helm-deployments-overview#what_does_harness_deploy">What Does Harness Deploy?</a>
      </li>
      <li>
        <a href="/article/pmzbtrq5qf-helm-deployments-overview#what_does_a_harness_helm_deployment_involve">What Does a Harness Helm Deployment Involve?</a>
      </li>
      <li>
        <a href="/article/pmzbtrq5qf-helm-deployments-overview#next_steps">Next Steps</a>
      </li>
    </ul>
    <h3>Before You Begin</h3>
    <p>Before learning about, you should have an understanding of the following:</p>
    <ul>
      <li>
        <a href="/article/hv2758ro4e-learn-harness-key-concepts">Learn Harness' Key Concepts</a>
      </li>
    </ul>
    <h3 id="harness_helm_or_kubernetes_deployments">Harness Helm or Kubernetes Deployments?</h3>
    <p>You can also use Helm with Harness Kubernetes Service and deployments and take advantage of Harness advanced Kubernetes features. See&nbsp;
      <a href="/article/u29v1uc1mh-kubernetes-deployments-overview">Kubernetes Deployments</a>.</p>
    <p>The main difference is that the Helm deployment performed using the Harness Helm Service and described in this guide uses Tiller. If you use Harness Kubernetes Service for deployment, you do not need to use Tiller.</p>
    <h3>What Does Harness Need Before You Start?</h3>
    <p>A Harness Helm deployment requires the following:</p>
    <ul>
      <li>Artifact: For example, a Docker image of NGINX from Docker Hub.</li>
      <li>Kubernetes cluster: You will need a target cluster for the Harness Delegate, your application, and your Kubernetes workloads. A Kubernetes Delegate requires at least 8GB RAM, and so your cluster should have enough RAM to host the Delegate and your applications
        and workloads.</li>
      <li>Helm and Tiller:&nbsp;Helm and Tiller installed and running on one pod in the cluster.</li>
      <li>Helm chart: For example, a Bitnami Helm chart for NGINX from their Github repo.</li>
    </ul>
    <h3>What Does Harness Deploy?</h3>
    <p>Harness takes the artifacts and Helm chart and version you provide and deploys the artifact to the target Kubernetes cluster.</p>
    <h3>What Does a Harness Helm Deployment Involve?</h3>
    <p>The following list describes the major steps of a Harness Helm deployment:</p>
    <p></p>
    <table>
      <tbody>
        <tr>
          <td>
            <p><strong>Step</strong></p>
          </td>
          <td>
            <p><strong>Name</strong></p>
          </td>
          <td>
            <p><strong>Description and Links</strong></p>
          </td>
        </tr>
        <tr>
          <td>
            <p>1</p>
          </td>
          <td>
            <p>Install the Harness Kubernetes or Helm&nbsp;<strong>Delegate</strong>.&nbsp;</p>
          </td>
          <td>
            <p>Typically, the Kubernetes or Helm Delegate is installed in the target cluster where you will deploy your application(s).</p>
            <p>You can also install the Helm Delegate using Rancher.</p>
            <p>See: </p>
            <ul>
              <li>
                <a href="/article/84hqptqpra-set-up-a-helm-delegate-in-a-kubernetes-cluster">Set Up a Helm Delegate in a Kubernetes Cluster</a>
              </li>
              <li>
                <a href="/article/cl5wpjmn9v-set-up-a-helm-delegate-using-rancher">Set Up a Helm Delegate using Rancher</a>
              </li>
              <li>
                <a href="/article/cbsjovfq74-set-up-a-kubernetes-delegate">Set Up a Kubernetes Delegate</a>
              </li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>
            <p>2</p>
          </td>
          <td>
            <p>Add a Harness&nbsp;<strong>Artifact Server</strong>.</p>
          </td>
          <td>
            <p>Add a Harness&nbsp;<strong>Artifact Server</strong>. For example, a Docker Registry Artifact Server that connects to the Docker registry where your Docker images are located, or the public Docker Hub.</p>
            <p>See
              <a href="/category/0ctql7wycs-howtos-artifact-servers">Artifact Servers</a>.</p>
          </td>
        </tr>
        <tr>
          <td>
            <p>3</p>
          </td>
          <td>
            <p>Add a Helm Chart or Source Repository.</p>
          </td>
          <td>
            <p>Add your Helm chart using a Helm Chart or Source Repository.</p>
            <p>See:</p>
            <ul>
              <li>
                <a href="/article/sh3fsr3uge-connect-to-a-helm-repository">Connect to a Helm Repository</a>
              </li>
              <li>
                <a href="/category/92fci6p8rm-howtos-source-repo-providers">Source Repo Providers</a>
              </li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>
            <p>4</p>
          </td>
          <td>
            <p>Add a&nbsp;<strong>Cloud Provider</strong>.</p>
          </td>
          <td>
            <p>A&nbsp;Cloud Provider is a connection to your Kubernetes cluster.</p>
            <p>You can add a Kubernetes Cluster Cloud Provider (recommended) or a Cloud Provider for the cloud platform where the cluster is hosted, such as a Google Cloud Platform Cloud Provider. A Kubernetes Cluster Cloud Provider will connect to any cluster
              on any platform.</p>
            <p>In you use a Kubernetes Cluster Cloud Provider, you can use the Delegate installed in your cluster for authentication.</p>
            <p>See
              <a href="/category/inwn0bqngb-howto-cloudproviders">Cloud Platforms and Physical Servers</a>.</p>
          </td>
        </tr>
        <tr>
          <td>
            <p>5</p>
          </td>
          <td>
            <p>Create the Harness&nbsp;<strong>Application</strong>&nbsp;for your Kubernetes CD Pipeline.</p>
          </td>
          <td>
            <p>The Harness Application represents a group of microservices/apps, their deployment pipelines, and all the building blocks for those pipelines. Harness represents your release process using a logical group of one or more entities: Services, Environments,
              Workflows, Pipelines, Triggers, and Infrastructure Provisioners. Applications organize all of the entities and configurations in Harness CD.</p>
            <p>See
              <a href="/article/wrtkikaksk-add-an-application">Add an Application</a>.</p>
          </td>
        </tr>
        <tr>
          <td>
            <p>6</p>
          </td>
          <td>
            <p>Create the Harness&nbsp;<strong>Service</strong>&nbsp;using the Helm Deployment Type.</p>
          </td>
          <td>
            <p>Add your Helm charts and any config variables and files.</p>
            <p>See
              <a href="/article/c51p1ufd8i-add-your-helm-chart">Add Your Helm Chart</a>.</p>
          </td>
        </tr>
        <tr>
          <td>
            <p>7</p>
          </td>
          <td>
            <p>Create the Harness&nbsp;<strong>Environment</strong>&nbsp;and Infrastructure Definition for your target Kubernetes clusters, and any overrides.</p>
          </td>
          <td>
            <p>Using the Harness Cloud Provider you set up, you can select the target Kubernetes cluster and namespace for your deployment.</p>
            <p>You can also override any Service settings, such as manifest values. This enables you to use a single Service with multiple Harness Environments.</p>
            <p>See
              <a href="/article/mz73g9k7ho-define-to-your-helm-target-environment">Define to Your Helm Target Environment</a>.</p>
          </td>
        </tr>
        <tr>
          <td>
            <p>8</p>
          </td>
          <td>
            <p>Create the Basic Helm deployment Harness&nbsp;<strong>Workflow</strong>.</p>
          </td>
          <td>
            <p>The Workflow deploys the artifact(s) and Kubernetes workloads defined in the Harness Service Helm charts to the cluster and namespace in the Harness Infrastructure Definition.</p>
            <p>See:
              <a href="/article/nb6f1n703n-create-a-helm-basic-deployment">Create a Helm Deployment</a>.</p>
          </td>
        </tr>
        <tr>
          <td>
            <p>9</p>
          </td>
          <td>
            <p>Deploy the Workflow.</p>
          </td>
          <td>
            <p>Once you've deployed a Workflow, learn how to improve your Kubernetes CD:</p>
            <ul>
              <li>
                <a href="/article/yenenrhgcs-add-workflows-to-pipelines">Add Workflows to Pipelines</a>
              </li>
              <li>
                <a href="/article/yupq093j6b-add-a-trigger">Add a Trigger</a>
              </li>
              <li>
                <a href="/article/4m5d41bzg8-provision-kubernetes-infrastructures">Provision Kubernetes Infrastructures</a>
              </li>
            </ul>
          </td>
        </tr>
      </tbody>
    </table>
    <h3>Next Steps</h3>
    <p>Read the following topics to build on what you've learned:</p>
    <ul>
      <li>
        <a href="/article/uqoid4c7jt-helm-deployments">Helm Deployments</a>&nbsp;tutorial</li>
      <li>
        <a href="/category/53l9q3zxtx-howtos-helm">Helm How-tos</a>
      </li>
      <li>Blog on Helm support in Harness Kubernetes deployments,
        <a href="https://harness.io/2019/05/helm-support-for-harness-continuous-delivery/" target="_blank">Helm Support for Harness Continuous Delivery</a>.</li>
    </ul>
    <p></p>
  slug: helm-deployments-overview
  tags:
  - Helm overview
  - Helm deployments
  is_live: true
