type: article
article_id: t8tftoab3s
user_id: znazf3hcp9
category_id: dxej4ug0n5
author:
  name: Michael Cretzman
  profile_image: https://www.gravatar.com/avatar/77114bb5eef5503c5a09ad7655120b17?d=mm&s=150
title: Artifact Build and Deploy Pipelines Overview
slug: artifact-build-and-deploy-pipelines-overview
description: The high-level steps involved in a Harness Build and Deploy Pipeline
  deployment.
short_version: The high-level steps involved in a Harness Build and Deploy Pipeline
  deployment.
tags:
- Build deployment
- Build and deploy
show_toc: true
is_private: false
is_published: false
is_featured: false
stale_status:
  is_stale: false
  reason: Article updated
  source: API
  triggered_at: 2020-12-21T23:52:15.113026Z
  expires_at: null
permission_groups: []
multilingual:
- language_code: en
  title: Artifact Build and Deploy Pipelines Overview
  description: The high-level steps involved in a Harness Build and Deploy Pipeline
    deployment.
  short_version: The high-level steps involved in a Harness Build and Deploy Pipeline
    deployment.
  body: <p>This topic describes the concept of a Harness Build and Deploy Pipeline
    deployment by describing the high-level steps involved.</p><p>In this topic:</p><ul><li><a
    href="/article/t8tftoab3s-artifact-build-and-deploy-pipelines-overview#before_you_begin">Before
    You Begin</a></li><li><a href="/article/t8tftoab3s-artifact-build-and-deploy-pipelines-overview#visual_summary">Visual
    Summary</a></li><li><a href="/article/t8tftoab3s-artifact-build-and-deploy-pipelines-overview#what_does_harness_need_before_you_start">What
    Does Harness Need Before You Start?</a></li><li><a href="/article/t8tftoab3s-artifact-build-and-deploy-pipelines-overview#what_does_harness_deploy">What
    Does Harness Deploy?</a></li><li><a href="/article/t8tftoab3s-artifact-build-and-deploy-pipelines-overview#what_does_a_harness_aws_ami_deployment_involve">What
    Does a Harness AWS AMI Deployment Involve?</a><ul><li><a href="/article/t8tftoab3s-artifact-build-and-deploy-pipelines-overview#file_based_example">File-based
    Example</a></li><li><a href="/article/t8tftoab3s-artifact-build-and-deploy-pipelines-overview#ami_example">AMI
    Example</a></li></ul></li><li><a href="/article/t8tftoab3s-artifact-build-and-deploy-pipelines-overview#next_steps">Next
    Steps</a></li></ul><h3>Before You Begin</h3><p>Before learning about, you should
    have an understanding of the following:</p><ul><li><a href="/article/hv2758ro4e-learn-harness-key-concepts">Learn
    Harness' Key Concepts</a></li></ul><h3>Visual Summary</h3><p>An Artifact Build
    and Deploy pipeline runs a build process, deposits the built artifact (or metadata)
    in Harness, and deploys the build to a deployment environment. It is a simple,
    but useful deployment commonly used for traditional file-based and AMI deployments.</p><p></p><figure><img
    src="https://files.helpdocs.io/i5nl071jo5/articles/t8tftoab3s/1578340646232/image.png"></figure><p></p><h3>What
    Does Harness Need Before You Start?</h3><p>A Harness Build and Deploy Pipeline
    deployment requires the following:</p><ul><li>Application artifact from an artifact
    server, such as Jenkins. This could be a Zip, WAR, or even an AWS AMI.</li><li>Target
    nodes for the deployment.</li></ul><h3>What Does Harness Deploy?</h3><p>Artifact
    Build and Deploy Pipelines involve two Workflows, Artifact Build and Deploy, executed
    in succession by a Pipeline.&nbsp;</p><ol><li><strong>Build Workflow</strong>&nbsp;-
    The Build Workflow connects to your Artifact Server and runs a build, such as
    a Jenkins job that creates a WAR file or an AMI and deposits it in a repo. Next,
    the Workflow connects to the repo and pulls the built artifact/metadata into Harness.
    Now the new artifact is awaiting deployment.</li><li><strong>Deploy Workflow</strong>&nbsp;-
    The Deploy Workflow obtains the new artifact from Harness and deploys it to the
    target deployment environment.</li><li><strong>Pipeline</strong>&nbsp;- The Pipeline
    runs the Build Workflow followed by the Deploy Workflow, and the latest artifact
    is deployed.</li></ol><div class="note-callout">You could simply run each Workflow
    separately, but by putting them in a Pipeline you do not have to manually select
    the latest artifact build when you run the Deploy Workflow. The Pipeline builds
    the artifact in the Build Workflow and then picks it up in the Deploy Workflow
    automatically.</div><h3>What Does a Harness Build and Deploy Pipeline Deployment
    Involve?</h3><p>To understand what is involved in a Build and Deploy Pipeline,
    let's look at a file-based example.</p><h4>File-based Example</h4><p>A simple
    Artifact Build and Deploy Deployment for a file-based artifact like a WAR file
    consists of the following components:</p><ol><li><strong>Service referencing the
    artifact repo</strong>&nbsp;- Create a Harness Service for the WAR file, including
    the Artifact Source that points to the artifact repo. Later, in the Build Workflow,
    when you set up the Artifact Collection command, you will reference this Artifact
    Source as the location of the artifact repo.</li><li><strong>Build Workflow</strong><ol><li><strong>Jenkins
    command</strong>&nbsp;- Runs the Jenkins job to build the WAR file and push it
    to the artifact repo (such as Artifactory, etc). You configure an output variable,
    such as Jenkins, so that the Artifact Collection step can get the new build number
    and collect the built artifact (typically, just the metadata). You can also use
    a Shell Script command to run a job and create an output variable. For more information
    on the Jenkins command, see&nbsp;<a href="https://docs.harness.io/article/5fzq9w0pq7-using-the-jenkins-command">Using
    the Jenkins Command</a>.</li><li><strong>Artifact Collection command</strong>&nbsp;-
    Grabs the artifact from the repo using the output variable and build environment
    variables and deposits it in Harness.</li></ol></li><li><strong>Environment</strong>&nbsp;-
    Define the target deployment infrastructure where the Deploy Workflow will deploy
    the built artifact, such as an AWS VPC.</li><li><strong>Deploy Workflow</strong><ol><li><strong>Select
    Nodes command</strong>&nbsp;- Specifies how many instances in the Environment
    to deploy.</li><li><strong>Install command</strong>&nbsp;- Installs the new artifact
    into the nodes selected by Select Nodes.</li></ol></li><li><strong>Artifact Build
    and Deploy Pipeline</strong>&nbsp;- A Pipeline that runs the Build Workflow followed
    by the Deploy Workflow.</li><li><strong>Trigger</strong>&nbsp;- A Harness Trigger
    that executes the Pipeline via a Git Webhook.</li></ol><h4 id="ami_example">AMI
    Example</h4><p>For an AMI Artifact Build and Deploy Pipeline, the only difference
    from the File-based Example is that the Harness Service is an AMI type and the
    Deploy Workflow deploys the AMI instances in an Auto Scaling Group.</p><h3>Next
    Steps</h3><p>Read the following topics to build on what you've learned:</p><ul><li><a
    href="/article/6drmbdydzr-artifact-build-and-deploy-pipelines">Artifact Build
    and Deploy Pipelines</a></li><li><a href="/category/o8mfyrikpw-howto-build-deploy">Build
    and Deploy How-tos</a></li></ul><p></p>
  slug: artifact-build-and-deploy-pipelines-overview
  tags:
  - Build deployment
  - Build and deploy
  is_live: true
