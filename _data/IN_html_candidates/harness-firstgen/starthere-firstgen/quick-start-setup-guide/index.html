<p></p><div class="tip-callout">This content is for Harness <a href="/article/1fjmm4by22">FirstGen</a>. Switch to <a href="/article/u8lgzsi7b3">NextGen</a>.</div><p>Harness includes a built-in Tour that walks you through deploying the Harness Sample App</p><p>You can use the Sample App’s Pipeline to deploy a Docker image to a Kubernetes cluster anytime.</p><p>Before you start, it&#39;s useful to review <a href="/article/4o7oqwih6h-harness-key-concepts">Harness Key Concepts</a>.</p><div class="note-callout">While we use a specific artifact and deployment environment in this guide, the steps are very similar for all the service providers and deployment environments Harness supports.</div><p>To start the Tour Guide, do the following:</p><ol><li>Log into Harness. If you do not have a Harness account, sign up for a free account <a href="https://harness.io/try-for-free-continuous-delivery-as-a-service/">here</a>.</li><li>Once you are logged in for the first time, the Tour will run.</li></ol><h3>Tour the Quick Harness Sample Application Deployment</h3><p>The sample application deployment tour takes only a few minutes. Everything has been set up in the Sample App. No input is required from you. To deploy the Harness Sample App, click <strong>Quickly deploy a sample application</strong>.</p><p>The infrastructure is prepared automatically.</p><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/9hd68pg5rs/1585239226904/quick-deploy-tour-guide.png" style="max-height:40%;max-width:40%" data-hd-height="40%" data-hd-width="40%"/></figure><p>Post this step you can deploy your sample application as described in the, <a href="https://docs.harness.io/article/9hd68pg5rs-quick-start-setup-guide#deploy_the_harness_sample_application">Deploy the Harness Sample Application</a> section.</p><h3>Review the Harness Sample Application</h3><p>The <strong>Harness Sample App</strong> shows you some of the settings that the Harness Application manages. To examine the Sample App, do the following:</p><ol><li>In Harness Manager, click <strong>Setup</strong>.</li><li>Scroll to <strong>Harness Sample App</strong>, and click it. The Sample App appears.<br/><br/>A Harness Application represents a group of microservices, their deployment pipelines, and all the building blocks for those pipelines. Harness models any release process using a logical group of one or more entities:<figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/9hd68pg5rs/1578078002844/image.png"/></figure></li></ol><ul><li><strong>Services</strong> - Services represent your microservices. You define the sources of artifacts for those services, and the services&#39; container specs, configuration variables, and files.</li><li><strong>Environments</strong> - Environments represent one or more of your deployment infrastructures, such as Dev, QA, Stage, Production, etc.</li></ul><figure><img src="https://files.helpdocs.io/stbkkpwlxk/articles/3itlbs3mmk/1556170265886/image.png"/></figure><ul><li><strong>Workflows</strong> - Workflows define the deployment orchestration steps, including how a Service is deployed, verified, rolled back, and more. Some of the common Workflow types are Canary, Blue/Green, and Rolling. An Application might have different deployment orchestration steps in different Environments.</li><li><strong>Pipelines</strong> - Pipelines define multiple workflows and approvals in sequential and/or parallel stages as a new build progresses through your release process.</li></ul><figure><img src="https://files.helpdocs.io/stbkkpwlxk/articles/3itlbs3mmk/1556170346847/image.png"/></figure><ul><li><strong>Triggers</strong> - Triggers automate deployments using a variety of conditions, such as Git events, new artifacts, schedules, and the success of other pipelines.</li><li><strong>Infrastructure Provisioners</strong> - Infrastructure Provisioners define blueprints from known Infrastructure-as-Code technologies (Terraform, Cloud Formation, etc.), and map the outputs (such as load balancers, VPCs, etc.). They enable Workflows to provision infrastructure on the fly when deploying Services.</li></ul><p>To sum up, Harness Applications organize all of the entities and configurations in Harness CI/CD. Now that you&#39;ve seen the components of a Harness Application, let&#39;s look at the Account settings that connect Harness to your platforms and enable deployment.</p><div class="hd--html"><span id="review_the_harness_sample_application"></span></div><h3>Review the Artifact and Cloud Connections</h3><p>The Harness Sample App includes two built-in connections for cloud platforms and artifact providers:</p><ul><li>Cloud Provider — <strong>Harness Sample K8s Cloud Provider</strong>: Cloud Providers represent the infrastructure of your applications, such as a Kubernetes cluster, AWS account, Google Cloud Platform account, Azure subscription, or data center. The Harness Sample K8s Cloud Provider connects Harness to the Kubernetes cluster using the installed Delegate.</li></ul><p></p><ul><li>Artifact Server — <strong>Harness Docker Hub</strong>: This connects Harness with Docker Hub, the public Docker registry. The Harness Sample App obtains its sample artifact, a To-Do List app, from Docker Hub.</li></ul><p>You can use these as models for specifying a Cloud Provider and Artifact Server in your own Harness applications.</p><h4>Review the Artifact Server Settings</h4><p>Harness can be integrated with different types of repositories and providers which are called as connectors. These connectors help you sync with repos, pull in artifacts, integrate verification and analytics tools, and leverage collaboration channels.</p><p>The Sample App uses one Artifact Server, and it is preconfigured for Docker Hub. To review the Artifact Server, do the following:</p><ol><li>In <strong>Setup</strong>, click <strong>Connectors</strong>.</li><li>Click <strong>Artifact Servers</strong>, and then click <strong>Harness Docker Hub</strong>.<figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/9hd68pg5rs/1582179163737/image.png" style="max-height:25%;max-width:25%" data-hd-height="25%" data-hd-width="25%"/></figure>The <strong>Docker Artifact Server</strong> settings appear. In this dialog, you can explore the following settings:</li></ol><table class="borderless"><tbody><tr><td><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/9hd68pg5rs/1579910102142/image.png"/></figure></td><td><ul><li><strong>Type</strong> – <strong>Docker Registry</strong> is preselected. For the Sample App, a To-Do List image is hosted on the Docker Hub repository.</li><li><strong>Display Name</strong> – This name is used to select this Artifact Server when you add an Artifact Source to a Harness Service.</li><li><strong>Docker Repository URL</strong> – This is the URL of the public Docker Hub repo.</li><li><strong>Username and Password</strong> – A username and password are not required for this repo.</li></ul></td></tr></tbody></table><ol><li style="counter-increment:li 2" start="3">Close the Docker Artifact Server dialog by clicking the <strong>Close</strong> or <strong>SUBMIT</strong> button.</li></ol><h4>Review the Cloud Provider Settings</h4><p>The sample Cloud Provider, <strong>Harness Sample K8s Cloud Provider</strong>, is a logical representation of a Kubernetes cluster. To view this Cloud Provider, do the following:</p><ol><li>In <strong>Harness Manager</strong>, click <strong>Setup</strong>.</li><li>Click <strong>Cloud Providers</strong>.<br/>On the <strong>Cloud Providers</strong> page, the built-in Cloud Provider, <strong>Harness Sample K8s Cloud Provider</strong> is listed.<figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/9hd68pg5rs/1578077917094/image.png"/></figure></li><li>Click <strong>Harness Sample K8s Cloud Provider</strong>. The <strong>Cloud Provider</strong> settings appear.</li></ol><p></p><div class="hd--html"><table class="borderless table table-responsive" border="0" bordercolor="#eee">
  <tbody>
    <tr>
      <td>
        <p></p>
        <figure><a class="lightbox" href="https://files.helpdocs.io/kw8ldg1itf/articles/9hd68pg5rs/1579910020784/image.png" tabindex="-1"><img src="https://files.helpdocs.io/kw8ldg1itf/articles/9hd68pg5rs/1579910020784/image.png" style="max-height:100%;max-width:100%" data-hd-height="100%" data-hd-width="100%"/></a></figure>
      </td>
      <td>
        <p></p>
        <ul>
          <li><strong>Type</strong> – Kubernetes Cluster is one of the many platforms supported by Harness.</li>
          <li><strong>Display Name</strong> – You will use this name to select this Cloud Provider in Harness Infrastructure Definitions, and other settings.</li>
          <li><strong>Inherit Cluster details from the selected Delegate</strong> – For this guide, we will run the Delegate as a pod in the same cluster used to deploy the container. (Harness recommends this practice.)<br/>You can also use cluster credentials such as username/password, CA certs, or Service Account Tokens.</li>
          <li><strong>Delegate Name</strong> – This is the name of the sample Delegate: <strong>harness-sample-k8s-delegate</strong>.</li>
          <li><strong>Skip Validation</strong> – You would select this option when you first create a Cloud Provider.</li>
          <li><strong>Usage Scope</strong> – You can limit the use of a Cloud Provider to specific Harness Applications and Environments. For this tour, the default scope is used.</li>
        </ul>
      </td>
    </tr>
  </tbody>
</table></div><ol><li style="counter-increment:li 3" start="4">Click the <strong>Close</strong> or <strong>SUBMIT</strong> button.</li></ol><p>We are done reviewing the Cloud Provider settings. The Sample App does not need any other connectors. </p><div class="hd--html"><span id="review_the_harness_sample_application"></span></div><h3>Harness Delegate</h3><p>As covered in the <a href="/article/4o7oqwih6h-harness-key-concepts">Harness Key Concepts</a>, the Harness Delegate is software you install in your target environment that connects to the Harness Manager and performs Continuous Delivery tasks.</p><p>A new Harness account includes a Harness Kubernetes Delegate already installed in a pod in a Kubernetes cluster managed by Harness. This is the target cluster that we will use for deployment.</p><p>To see the Delegate, do the following:</p><ol><li>Click <strong>Setup</strong>, and then click <strong>Harness Delegates</strong>.</li></ol><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/9hd68pg5rs/1582178132109/image.png" style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure><p>If the Delegate is terminated, click <strong>Provision Again</strong> to automatically install and run the Delegate. This takes approximately 2–3 minutes to complete. You might need to refresh the page once the Delegate is provisioned.</p><p>The provisioned Delegate is available to use for one hour. After that, you need to provision it again.</p><div class="hd--html"><span id="deploy_the_harness_sample_application"></span></div><h3>Deploy the Harness Sample Application</h3><p>Here&#39;s what you&#39;ve been waiting for. Let&#39;s explicitly deploy the Docker container to a Kubernetes cluster. In Harness Manager, click <strong>Continuous Deployment</strong>.</p><p>The Harness Continuous Deployment dashboard appears. If this is your account&#39;s first deployment, the dashboard will be blank.</p><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/9hd68pg5rs/1548883594504/image.png" style="max-height:70%;max-width:70%" data-hd-height="70%" data-hd-width="70%"/></figure><p>Here you will see all deployments, with their stages, successes and failures.</p><p>You can deploy a Pipeline or a Workflow. We&#39;re going to deploy the Pipeline we looked at in <a href="https://docs.harness.io/article/9hd68pg5rs-quick-start-setup-guide#review_the_harness_sample_application">Review the Harness Sample Application</a>. To do so:</p><ol><li>On the <strong>Continuous Deployment</strong> dashboard, click <strong>Start New Deployment</strong>. The <strong>Start New Deployment</strong> dialog appears.<figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/9hd68pg5rs/1579910184242/image.png" style="max-height:80%;max-width:80%" data-hd-height="80%" data-hd-width="80%"/></figure></li><li>In <strong>Application</strong>, select the <strong>Harness Sample App</strong>.</li><li>In <strong>Pipeline</strong>, select <strong>K8s Prod Pipeline</strong>.<br/><br/>After you select the Pipeline, the Artifacts section appears. Harness generates a list of all of the artifacts available in the Artifact Source for the Service being deployed.</li><li>From <strong>Build / Version</strong> menu, select any <strong>Build#</strong>.<figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/9hd68pg5rs/1579910386440/image.png" style="max-height:80%;max-width:80%" data-hd-height="80%" data-hd-width="80%"/></figure></li><li>To begin deploying your Pipeline and artifact, click <strong>SUBMIT</strong>.<br/><br/>Let&#39;s see at each of the deployment stages in detail.</li></ol><h4>Stage 1 Deploying</h4><p>The QA stage is the Pipeline&#39;s first stage of deployment. Here, you can watch the execution of each step of Stage 1 in the <strong>To-Do List K8s</strong> Workflow.</p><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/9hd68pg5rs/1578078122197/image.png" style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure><p>Once the QA stage is complete, the Approval stage starts.</p><h4>Stage 2 Approve Deployment</h4><p>Your approval is required before the Pipeline can continue the release process. Click <strong>Approve</strong>.</p><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/9hd68pg5rs/1582179381472/image.png" style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure><p>If you are the Admin for the Harness account, or are listed in the Workflow’s Notification Strategy, you will receive an email notifying you of a pending approval:</p><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/8p3sstzcjb/1556056206610/image.png" style="max-height:60%;max-width:60%" data-hd-height="60%" data-hd-width="60%"/></figure><p></p><h4>Stage 3 Deploying</h4><p>Watch Stage 3 deploy the Docker image from the <strong>To-Do List K8s</strong> Service to your Kubernetes cluster.</p><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/9hd68pg5rs/1578078168073/image.png" style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure><h4>Deployment Finished!</h4><p>To see your deployed <strong>To-Do List</strong> app running in your browser, click the <strong>Rollout Deployment</strong> node in <strong>Stage 3 Prod</strong>, and then click the link to the right of <strong>Load Balancer</strong>.</p><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/9hd68pg5rs/1553034946129/image.png" style="max-height:60%;max-width:60%" data-hd-height="60%" data-hd-width="60%"/></figure><div class="note-callout">If the deployment timed out trying to set up the load balancer, it is most likely because the cloud account used for the Kubernetes cluster has reached its load balancer quota. For an example, see <a href="https://cloud.google.com/compute/quotas" target="_blank">Resource Quotas</a> from Google Cloud.</div><p>The <strong>To-Do List</strong> app opens in a new tab. Once you see the app, return to the browser tab for <strong>Continuous Deployment</strong>.</p><p>The <strong>To-Do List</strong> app is deployed and running in your Kubernetes cluster. This tour is now complete.</p><p></p><div class="hd--md" data-hd-markdown="&lt;span id=&#34;tour_the_harness_sample_app&#34;&gt;&lt;/span&gt;"><p><span id="tour_the_harness_sample_app"></span></p>
</div><h3>Next Steps</h3><p>Now that you&#39;ve installed the Harness Sample App, proceed to our <a href="/article/xldc13iv1y-meet-harness">Tour Harness Manager</a> topic or one of the <a href="/category/kx4hs8bn38-getting-started">Quickstarts</a>.</p><p></p>