<p>When you use a Terragrunt Provision step in a Workflow, any of the Terragrunt config source&#39;s Terraform script outputs can be used in Workflow settings that follow the step.</p><p>You reference an output with a Harness variable expression in the format <code>${terragrunt.output_name}</code>.</p><div class="note-callout">You can reference the output regardless of whether the Terragrunt Infrastructure Provisioner is used in the Infrastructure Definition in the Workflow settings.</div><p>This topic demonstrates how to use these expressions in other Workflow steps.</p><p>In this topic:</p><ul><li><a href="#before_you_begin">Before You Begin</a></li><li><a href="#limitations">Limitations</a></li><li><a href="#step_1_add_a_workflow_step">Step 1: Add a Workflow Step</a></li><li><a href="#step_2_enter_the_output_variable_expression">Step 2: Enter the Output Variable Expression</a></li><li><a href="#notes">Notes</a></li></ul><h3>Before You Begin</h3><p>This topic assumes you have read the following:</p><ul><li><a href="/article/a6onutvbem-terragrunt-provisioning-with-harness">Terragrunt Provisioning with Harness</a></li><li><a href="/article/ulhl7sjxva-set-up-your-harness-account-for-terragrunt">Set Up Your Harness Account for Terragrunt</a></li><li><a href="/article/mkjxbkglih-add-terragrunt-configuration-files">Add Terragrunt Configuration Files</a></li><li><a href="/article/tphb27opry-map-terragrunt-infrastructure">Map Dynamically Provisioned Infrastructure using Terragrunt</a></li><li><a href="/article/jbzxpljhlo-provision-using-the-terragrunt-provision-step">Provision using the Terragrunt Provision Step</a></li></ul><p>Other useful topics:</p><ul><li><a href="/article/rbw96hdr1c-perform-a-terragrunt-dry-run">Perform a Terragrunt Dry Run</a></li><li><a href="/article/1zmz2vtdo2-remove-provisioned-infra-with-terragrunt-destroy">Remove Provisioned Infra with Terragrunt Destroy</a></li></ul><h3>Limitations</h3><p>You can only reference a Terraform output once the Terraform plan has been applied by the Terragrunt Provision step.</p><p>If a Terragrunt Provision step is set to run as a plan, you cannot reference its Terraform outputs.</p><p>Once the plan has been applied by another Terragrunt Provision step, you can reference the Terraform script outputs.</p><p>See <a href="/article/rbw96hdr1c-perform-a-terragrunt-dry-run">Perform a Terragrunt Dry Run</a>.</p><h3>Step 1: Add a Workflow Step</h3><p>This topic assumes you have a Workflow that uses a Terragrunt Provision step.</p><p>Add a Workflow step after the Terragrunt Provision step where you want to use the Terraform script outputs.</p><p>Typically, you add a <a href="/article/1fjrjbau7x-capture-shell-script-step-output">Shell Script</a> step.</p><h3>Step 2: Enter the Output Variable Expression</h3><p>You can reference any Terraform output using the variable expression in the format <code>${terragrunt.output_name}</code>.</p><p>For example, let&#39;s say the Terraform script source of the Terragrunt config file in the Terragrunt Infrastructure Provisioner has a Kubernetes cluster name output.</p><p>You can add a Shell Script step in your Workflow and use <code>echo ${terragrunt.clusterName}</code> to print the value.</p><p>In the following diagram, you can see two outputs in the Terraform script referenced and echoed in a Shell Script step and then resolved in the logs:</p><p></p><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/rbw96hdr1c/1619473150732/image.png"/></figure><p>The Shell Script step simply contains:</p><pre>echo &#34;Terragrunt outputs: &#34; <br/><br/>echo &#34;clusterName: &#34; ${terragrunt.clusterName}<br/><br/>echo &#34;sleepoutputModule3: &#34; ${terragrunt.sleepoutputModule3}</pre><p></p><p></p><h3>Notes</h3><p>Terragrunt output expressions cannot be evaluated or published under the following conditions:</p><ul><li>The Shell Script step script uses <code>exit 0</code>. Bash exit prevents outputs from being published.</li><li>No Terragrunt apply is performed by the Terragrunt Provision step. In some cases, a Terragrunt plan might be run using the <a href="/article/rbw96hdr1c-perform-a-terragrunt-dry-run">Set Terragrunt as Plan</a> option, but no further step performs the Terragrunt apply. If there is no Terragrunt apply, there are no output values.</li></ul><p></p>