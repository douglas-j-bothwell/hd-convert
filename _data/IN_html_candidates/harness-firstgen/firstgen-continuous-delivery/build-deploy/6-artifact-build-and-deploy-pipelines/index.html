<p>Pipelines define your release process using multiple Workflows and approvals in sequential and/or parallel stages. </p><p>An Artifact Build and Deploy Pipeline simply runs your Build Workflow followed by your Deploy Workflow. The Deploy Workflow uses the Harness Service you set up to get the new build number.</p><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/slkhuejdkw/1620840169896/su-mg-mj-gxrbxp-lwx-cuvar-u-15-gx-ywdekkrz-cesw-8-qy-jxcy-eyb-ky-3-b-ni-16-icx-pbdrg-no-8-o-x-vw-n-1-t-4-mxy-72-zzftyfdz-7-myw-pj-lyo-2-f-0-fd-10-0-jmd-bphg-do-4-wwvgd-wn-tyb-2-h-dxpfo-wh" style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure><p></p><p>In this topic:</p><ul><li><a href="https://docs.harness.io/article/slkhuejdkw-6-artifact-build-and-deploy-pipelines#review_use_build_workflows_in_a_pipeline">Review: Use Build Workflows in a Pipeline</a></li><li><a href="https://docs.harness.io/article/slkhuejdkw-6-artifact-build-and-deploy-pipelines#step_create_the_build_and_deploy_pipeline">Step: Create the Build and Deploy Pipeline</a></li><li><a href="https://docs.harness.io/article/slkhuejdkw-6-artifact-build-and-deploy-pipelines#step_add_the_build_workflow">Step: Add the Build Workflow</a></li><li><a href="https://docs.harness.io/article/slkhuejdkw-6-artifact-build-and-deploy-pipelines#see_also">See Also</a></li></ul><h3>Before You Begin</h3><ul><li><a href="/article/wqytbv2bfd-ci-cd-with-the-build-workflow">CI/CD with the Build Workflow</a></li></ul><h3>Review: Use Build Workflows in a Pipeline</h3><p>Here are some important things to remember when using a Build Workflow in a Pipeline:</p><ul><li><strong>No Artifact Selection</strong> — If you use a Build Workflow in a Pipeline, you cannot select an artifact when you deploy the Pipeline. A Build Workflow tells Harness you will be building and collecting the artifact for the Pipeline. Harness will use that artifact for the Pipeline deployment.</li><li><strong>Don&#39;t Execute in Parallel</strong> — Do not execute a Build Workflow in a Pipeline in parallel with a Workflow that deploys the artifact built by the Build Workflow. The Build Workflow must complete before another Workflow in the Pipeline can deploy the artifact.</li><li><strong>Always Put Build Workflow First</strong> — The Build Workflow should always be the first stage in the Pipeline. This enables the rest of the Pipeline to use the artifact it builds and collects.</li></ul><h3>Step: Create the Build and Deploy Pipeline</h3><p>To create the Artifact Build and Deploy Pipeline, do the following:</p><ol><li>In your Harness Application, click <strong>Pipelines</strong>, and then click <strong>Add Pipeline</strong>. The <strong>Add Pipeline</strong> settings appear.</li><li>In <strong>Name</strong>, enter a name for your Pipeline, such as <strong>Artifact Build and Deploy</strong>.</li><li>Click <strong>Submit</strong>. The new Pipeline is created.</li></ol><h3>Step: Add the Build Workflow</h3><p>Add the Build Workflow as the first stage in the Pipeline:</p><ol><li>In <strong>Pipeline Stages</strong>, click the <strong>plus</strong> button. The <strong>Pipeline Stage</strong> settings appear.<figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/slkhuejdkw/1620840170023/u-7-mhdfl-cq-cla-3-k-1-a-xnmc-aofga-o-68-n-0-xg-fz-zi-vs-rpk-0-ov-gnl-5-wp-9-m-otim-h-7-em-fbwqp-3-gfc-nxh-cbp-2-eq-4-zu-hgw-0-t-bz-t-mai-pg-vetm-rwzx-x-1-s-kdua-35-k-qkt-6-zh-bkpifq-wp-sgung" style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure></li><li>In <strong>Step Name</strong>, enter a name for the Build Stage, such as <strong>Build Artifact</strong>.</li><li>In <strong>Execute Workflow</strong>, select the Build Workflow you created. When you are done, it will look something like this:<figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/slkhuejdkw/1620840170184/s-dsbpayel-o-9-oi-hvvb-64-u-2-bu-p-6-t-1-lzrdhjd-ork-9-nkfeka-bfy-4-orgh-qp-5-ha-8-n-d-7-m-5-f-ss-1-jyqfmgecxx-hpfrzdjsxb-poed-gu-3-ntmc-2-tl-9-hwduvuvmsjn-jwrk-1-zir-ged-t-h-2-i-t-1-pe-o" style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure></li><li>Click <strong>Submit</strong>. The stage is added to the Pipeline.</li><li>Use the same steps to add the Deploy Workflow to the Pipeline. When you are done, it will look something like this.<figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/slkhuejdkw/1620840170496/hr-jn-hdp-2-g-pwpd-oi-6-at-lwuix-f-5-uu-trmiact-2-s-qld-4-y-pi-6-b-1-px-6-zyj-jq-nx-jgrjba-kay-a-7-nyk-b-hs-nhg-eo-x-0-r-1-e-3-er-nsqm-lpz-vfd-erxi-9-umi-1-ve-vkpsc-14-x-3-vq-j-6-h-3-k-ru-5-u-1" style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure></li><li>Click <strong>Deploy</strong> to run the Pipeline. Note that you do not need to select an artifact build number as the Deploy Workflow will obtain the latest build.</li><li>Click <strong>Submit</strong>.<br/><br/>The Workflows are run in succession. First, the Build Workflow is run. Click the <strong>Artifact Collection</strong> step to see the metadata collected by Harness, including the build number.<figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/slkhuejdkw/1620840170854/s-hrvq-3-pcr-9-vblg-7-c-or-yqwcj-sih-gz-gg-dsxg-wx-n-ypybo-ril-iwx-bnx-r-40-u-qw-agt-mih-v-6-j-4-qi-ej-3-o-1-wv-7-e-5-shym-mo-s-3-u-6-qt-gmxe-zi-ftksr-grv-hf-s-7-q-gm-e-3-bk-ot-1-zay-fcndki-l-1-t"/></figure>You can see the same build number in Jenkins.<br/>In this document, Jenkins job artifact is used as an example but Harness supports all the common <a href="/article/7dghbx1dbl-configuring-artifact-server">artifact source</a> and <a href="/article/jizsp5tsms-custom-artifact-source">custom sources</a>.<figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/slkhuejdkw/1620840171288/mq-0-ez-zc-uxqdiie-tcylgdi-hs-wna-ylo-4-foot-qsk-j-9-rcal-dqi-vi-k-0-b-ak-15-t-0-wk-2-yxl-nlh-qrq-svru-5-y-2-qg-3-u-1-e-jszbm-p-4-uisa-xamkp-57-hrm-35-o-s-zy-h-8-b-zm-u-g-9-yx-yuczro-ivc-tl-ex" style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure>Next, the Deploy Workflow is run. Click the <strong>Artifact Check</strong> step to see the same build number that was collected by the <strong>Artifact Collection</strong> step. You can also see the build number next to the <strong>Artifacts</strong> heading.<figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/slkhuejdkw/1620840171670/xyq-b-7-cdb-gt-ln-uqooxn-btkrj-6-q-qk-omg-iyv-1291-yeeg-ucza-6-l-obcfiwe-jqwke-lbb-qd-0-hh-ciifa-smbr-aeut-yyrxl-7-mgw-bpb-m-81-kvgf-ne-0-m-9-mqcf-j-3-zhe-q-9-n-0-dd-35-w-ii-moqw-ok"/></figure>The Pipeline has run successfully. You can now build and deploy artifacts by running a single Pipeline.</li></ol><h3>See Also</h3><p><a href="/article/xerirloz9a-add-a-trigger-2">Trigger Workflows and Pipelines</a> — Triggers automate deployments using a variety of conditions, such as Git events, new artifacts, schedules, and the success of other Pipelines.</p><p>Now that you have an Artifact Build and Deploy Pipeline, you can create a Harness Trigger that runs the Pipeline in response to a Git push to the source repo. The Trigger provides a Webhook URL you can add to your Git repo.</p><p>When the push event happens, Git sends a HTTP POST payload to the Webhook&#39;s configured URL. The Trigger then executes Artifact Build and Deploy Pipeline.</p><div class="note-callout">Do not use <strong>On New Artifact</strong> Trigger to trigger a Build and Deploy Pipeline because you need to Build Workflow to build a new artifact.</div><p></p><p></p>