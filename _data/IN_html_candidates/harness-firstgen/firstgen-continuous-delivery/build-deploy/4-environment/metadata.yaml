type: article
article_id: fav3v3jx3d
user_id: mfr0nxh4be
category_id: j1q21aler1
author:
  name: Michael Cretzman
  profile_image: https://www.gravatar.com/avatar/2e8616837f4ee92be5d19ffe9b9ccba9?d=mm&s=150
title: Define Your Build and Deploy Pipeline Target Infrastructure
slug: 4-environment
description: Define the target deployment Environment for your artifacts.
short_version: Define the target deployment Environment for your artifacts.
tags:
- Build and Deploy
- Jenkins
- Environment
- Infrastructure Definition
- Service Infrastructure
show_toc: true
is_private: false
is_published: true
is_featured: false
stale_status:
  is_stale: false
  reason: Article updated
  source: API
  triggered_at: 2021-05-12T17:22:52.242428Z
  expires_at: null
permission_groups: []
multilingual:
- language_code: en
  title: Define Your Build and Deploy Pipeline Target Infrastructure
  description: Define the target deployment Environment for your artifacts.
  short_version: Define the target deployment Environment for your artifacts.
  body: '<p>Environments represent one or more of your deployment infrastructures,
    such as Dev, QA, Stage, Production, etc. For Artifact Build and Deploy Pipelines,
    the Environment specifies the Service containing the new artifact for the Deploy
    Workflow to use and the target deployment infrastructure where the new build will
    be deployed.</p><p>In this topic:</p><ul><li><a href="https://docs.harness.io/article/fav3v3jx3d-4-environment#before_you_begin">Before
    You Begin</a></li><li><a href="https://docs.harness.io/article/fav3v3jx3d-4-environment#step_set_up_environment">Step:
    Set Up Environment</a></li><li><a href="https://docs.harness.io/article/fav3v3jx3d-4-environment#step_set_up_infrastructure_definition">Step:
    Set Up Infrastructure Definition</a></li><li><a href="https://docs.harness.io/article/fav3v3jx3d-4-environment#next_step">Next
    Step</a></li></ul><h3>Before You Begin</h3><ul><li><a href="/article/wqytbv2bfd-ci-cd-with-the-build-workflow">CI/CD
    with the Build Workflow</a></li></ul><h3>Step: Set Up Environment</h3><p>To set
    up the Environment, do the following:</p><ol><li>In your Harness Application,
    click <strong>Environments</strong>, and then click <strong>Add Environment</strong>.
    The <strong>Environment</strong> settings appear.<figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/fav3v3jx3d/1580234081830/image.png"
    style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure></li><li>In
    <strong>Name</strong>, enter a name for the Environment that identifies it to
    your colleagues. In this example, File-Based is used as the name for the Environment.</li><li>In
    <strong>Environment Type</strong>, select <strong>Production</strong> or <strong>Non-Production</strong>,
    and click <strong>Submit</strong>. The new Environment is added.</li></ol><p>Next,
    we will add an Infrastructure Definition to provide the Deploy Workflow with the
    target deployment environment.</p><h3>Step: Set Up Infrastructure Definition</h3><div
    class="note-callout">Infrastructure Definitions specify the target deployment
    infrastructure for your Harness Services, and the specific infrastructure details
    for the deployment, like VPC settings. </div><p>For Artifact Build and Deploy
    Pipelines, you will scope the ​Infrastructure Definition to the Service you added
    earlier where you identified the Artifact Source for your artifact. You will also
    use the Cloud Provider you set up in <a href="/article/xiys9djs0h-1-harness-account-setup">Harness
    Account Setup</a> to configure the ​Infrastructure Definition. Then you will specify
    the target infrastructure for the deployment. In this example, an AWS EC2 instance
    is used.</p><p>To set up the ​Infrastructure Definition, do the following:</p><ol><li>In
    <strong>Environment</strong>, click <strong>Add ​Infrastructure Definition</strong>.
    The <strong>​Infrastructure Definition</strong> settings appear.</li><li>In <strong>Display
    Name</strong>, enter a name for the Infrastructure Definition. In this example,
    ToDo List WAR is used as a name for the Infrastructure Definition.</li><li>In
    <strong>Cloud Provider Type</strong>, select the type of Cloud Provider you used
    in <a href="/article/xiys9djs0h-1-harness-account-setup">Harness Account Setup</a>.</li><li>In
    Deployment Type, select <strong>Secure Shell (SSH)</strong>.</li><li>Click <strong>Use
    Already Provisioned Infrastructure</strong>. If you were using a Harness <a href="/article/o22jx8amxb-add-an-infra-provisioner">Infrastructure
    Provisioner</a>, you would select <strong>Map Dynamically Provisioned Infrastructure</strong>.</li><li>In
    <strong>Cloud Provider</strong>, select the Cloud Provider you set up in <a href="/article/xiys9djs0h-1-harness-account-setup">Harness
    Account Setup</a>.</li><li>Fill out the remaining infrastructure settings for
    your target deployment infrastructure.</li><li>In <strong>Scope to specific Services</strong>,
    select the Service you created in <a href="/article/xhh8oi4bkh-2-service-and-artifact-source">Service
    and Artifact Source</a>.<br/><br/>Here is an example that targets an AWS EC2 instance.<figure><img
    src="https://files.helpdocs.io/kw8ldg1itf/other/1568330631693/image.png" style="max-height:50%;max-width:50%"
    data-hd-height="50%" data-hd-width="50%"/></figure></li><li>Click <strong>Submit</strong>.<br/><br/>The
    Infrastructure Definition is added. You will select this Infrastructure Definition
    when you create the Deploy Workflow.</li></ol><h3>Next Step</h3><ul><li><a href="/article/q6rtl33634-5-deploy-workflow">Create
    the Deploy Workflow for Build and Deploy Pipelines</a></li></ul><p></p>'
  slug: 4-environment
  tags:
  - Build and Deploy
  - Jenkins
  - Environment
  - Infrastructure Definition
  - Service Infrastructure
  is_live: true
