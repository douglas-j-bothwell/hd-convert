type: article
article_id: i5jxqsbkt7
user_id: wz6xkfcc9i
category_id: emle05cclq
author:
  name: Chakravarthy Tenneti
  profile_image: https://www.gravatar.com/avatar/790db061bb8f8fb094e4d4b19a390f3b?d=mm&s=150
title: Upload Local and Remote Tanzu Resource Files
slug: upload-local-and-remote-pcf-resource-files
description: You can upload local and remote Manifest and Variable files.
short_version: You can upload local and remote Manifest and Variable files.
tags: []
show_toc: true
is_private: false
is_published: true
is_featured: false
stale_status:
  is_stale: false
  reason: Article updated
  source: API
  triggered_at: 2022-03-10T21:29:02.906487Z
  expires_at: null
permission_groups: []
multilingual:
- language_code: en
  title: Upload Local and Remote Tanzu Resource Files
  description: You can upload local and remote Manifest and Variable files.
  short_version: You can upload local and remote Manifest and Variable files.
  body: '<p>You can upload local and remote Tanzu Application Service (TAS, formerly
    PCF) Manifest and Variable files to your Harness TAS Service.</p><p>In this topic:</p><ul><li><a
    href="#before_you_begin">Before You Begin</a></li><li><a href="#step_1_upload_local_manifest_and_variable_files">Step
    1: Upload Local Manifest and Variable Files</a></li><li><a href="#step_2_upload_remote_manifest_and_variable_files">Step
    2: Upload Remote Manifest and Variable Files</a></li><li><a href="#next_steps">Next
    Steps</a></li></ul><p></p><h3>Before You Begin</h3><ul><li>See <a href="/article/nh4afrhvkl">Connect
    to Your Target Tanzu Account</a>.</li><li>See <a href="/article/jxsna1a0mi">Add
    Container Images for Tanzu Deployments</a>.</li><li>See <a href="/article/3ekpbmpr4e">Adding
    and Editing Inline Tanzu Manifest Files</a>.</li></ul><p></p><h3>Step 1: Upload
    Local Manifest and Variable Files</h3><p>You can upload <code>manifest.yml</code>
    and <code>vars.yml</code>files from your local drive into your Harness Service.</p><p>Harness
    allows one manifest file and one or more variable files. At runtime, Harness will
    evaluate the files to identify which is the manifest file and which are the variable
    files.</p><p>From the options menu, click <strong>Upload Local Manifest Files</strong>.</p><p></p><figure><img
    src="https://files.helpdocs.io/kw8ldg1itf/other/1572291857584/image.png" style="max-height:50%;max-width:50%"
    data-hd-height="50%" data-hd-width="50%"/></figure><p>The <strong>Upload Local
    Manifest Files</strong> dialog appears.</p><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/other/1572291677393/image.png"
    style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure><p>Choose
    the local folder or files using your file explorer or drag and drop the files
    into the dialog. The selected files are listed.</p><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/other/1572291980190/image.png"
    style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure><p>Click
    <strong>Submit</strong> to add the files.</p><p>If you are uploading a manifest.yml
    or vars.yml file into the same folder with the default manifest.yml and vars.yml
    files, you will see the following warning.</p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/other/1572292265840/image.png"
    style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure><p>Simply
    click <strong>Overwrite All</strong> and then <strong>Submit</strong> to replace
    the default files.</p><h3>Step 2: Upload Remote Manifest and Variable Files</h3><p></p><div
    class="note-callout">Harness checks out manifest files from your repo at deployment
    runtime. If any files in the repository contain non UTF-8 characters (binary,
    zip, etc), the checkout fails. For example, sometimes an operating system file
    such as .DS_Store files get added to a repo.</div><p>Once you have set up a Harness
    <a href="/article/ay9hlwbgwa-add-source-repo-providers">Source Repro Provider</a>
    using your remote Git repo, you can use TAS files from the remote repo in your
    TAS Service <strong>Manifests</strong> section.</p><p>To use remote files, do
    the following:</p><ol><li>Create a <a href="/article/ay9hlwbgwa-add-source-repo-providers">Harness
    Source Repro Provider</a> that connects to the branch where your remote files
    are located.<br/><br/>When you set up the Source Repro Provider, you specify the
    repo URL and branch name:<figure><img src="https://files.helpdocs.io/kw8ldg1itf/other/1572298148272/image.png"
    style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure></li><li>In
    the TAS Service, in <strong>Manifests</strong>, click the options button, and
    then click <strong>Link Remote Manifests</strong>.<figure><img src="https://files.helpdocs.io/kw8ldg1itf/other/1572298373582/image.png"
    style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure>The
    <strong>Remote Manifests</strong> dialog appears.<figure><img src="https://files.helpdocs.io/kw8ldg1itf/other/1572298421272/image.png"
    style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure></li><li>In
    <strong>Source Repository</strong>, select the Source Repo Provider you set up,
    and that points to the remote Git repo containing your manifest files.</li><li>In
    <strong>Commit ID</strong>, select <strong>Latest from Branch</strong> or <strong>Specific
    Commit ID</strong>.<br/><br/><strong>Which one should I pick?</strong> Make your
    selection based on what you want to happen at runtime. If you want to always use
    the latest files from a repo branch at runtime, select <strong>Latest from Branch</strong>.
    If you want to use the files as they were at a specific commit, select <strong>Specific
    Commit ID</strong>. Any changes from additional commits will not be used at runtime.
    To use changes from additional commits, you will have to update commit ID.</li></ol><h4>File/Folder
    Path Current Functionality</h4><p>The file path you enter in <strong>File/Folder
    Path</strong> will be used as the manifest for this Service.</p><div class="note-callout"><strong>Avoid
    listing a folder only:</strong> If you enter a folder path only, Harness does
    not know which file in the folder to use, so Harness will list the files using
    Git and then select the last file listed. If the last file is invalid, Harness
    will select the second to last file, and so on. The order in which files are returned
    from Git is not constant, and so selecting the correct file is not always possible.
    Instead, provide the full path to the file.</div><p></p><ol><li>If you selected
    <strong>Latest from Branch</strong>, specify the <strong>Branch</strong> and <strong>File/Folder</strong>
    path to the remote manifest file (typically, a vars.yml file).<figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/i5jxqsbkt7/1646947545034/clean-shot-2022-03-10-at-13-25-29.png"/></figure></li><li>If
    you selected <strong>Specific Commit ID</strong>, specify the <strong>Commit ID</strong>
    and <strong>File/Folder</strong> path to the remote manifest files.</li></ol><p>Click
    <strong>Submit</strong>. Your remote git repo is added as the source for <strong>Manifests</strong>.</p><h4>File/Folder
    Path New Functionality</h4><p></p><div class="note-callout">Currently, this feature
    is behind the feature flag <code>SINGLE_MANIFEST_SUPPORT</code>. Contact <a href="mailto:support@harness.io"
    target="_blank">Harness Support</a> to enable the feature.</div><p>The file path
    you enter in <strong>File/Folder Path</strong> will be used as the manifest for
    this Service.</p><p>Harness requires the path to the manifest or vars file you
    are using. </p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/i5jxqsbkt7/1646947704933/clean-shot-2022-03-10-at-13-25-29.png"/></figure><div
    class="note-callout">If you enter a folder path and <strong>no file</strong>,
    deployment will fail.</div><h3>Next Steps</h3><ul><li><a href="/article/mutc1hz25o-using-harness-config-variables-in-pcf-manifests">Using
    Harness Config Variables in Tanzu Manifests</a></li><li><a href="/article/r1crlrpjk4">Define
    Your Tanzu Target Infrastructure</a></li></ul><p></p>'
  slug: upload-local-and-remote-pcf-resource-files
  tags: []
  is_live: true
