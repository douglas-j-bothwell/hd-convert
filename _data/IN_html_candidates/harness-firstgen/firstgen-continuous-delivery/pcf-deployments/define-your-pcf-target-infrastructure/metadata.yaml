type: article
article_id: r1crlrpjk4
user_id: wz6xkfcc9i
category_id: emle05cclq
author:
  name: Chakravarthy Tenneti
  profile_image: https://www.gravatar.com/avatar/790db061bb8f8fb094e4d4b19a390f3b?d=mm&s=150
title: Define Your Tanzu Target Infrastructure
slug: define-your-pcf-target-infrastructure
description: Create Infrastructure Definitions that describe your target deployment
  environments in the Environment.
short_version: Create Infrastructure Definitions that describe your target deployment
  environments in the Environment.
tags: []
show_toc: true
is_private: false
is_published: true
is_featured: false
stale_status:
  is_stale: false
  reason: Article updated
  source: API
  triggered_at: 2021-06-16T23:35:57.226721Z
  expires_at: null
permission_groups: []
multilingual:
- language_code: en
  title: Define Your Tanzu Target Infrastructure
  description: Create Infrastructure Definitions that describe your target deployment
    environments in the Environment.
  short_version: Create Infrastructure Definitions that describe your target deployment
    environments in the Environment.
  body: '<p>In the Environment, you create <a href="/article/v3l3wqovbe-infrastructure-definitions">Infrastructure
    Definitions</a> that describe your target deployment environments. Tanzu Application
    Service (TAS, formerly PCF) Infrastructure Definitions specify the following:</p><ul><li>The
    TAS deployment type.</li><li>The TAS Cloud Provider that you added, as described
    in <a href="/article/whwnovprrb-infrastructure-providers#pivotal_cloud_foundry_pcf">Add
    Cloud Providers</a>.</li><li>The TAS organization to use.</li><li>The target TAS
    space that the app you are deploying is scoped to.</li><li>Any specific Harness
    Services that you want to scope the Infrastructure Definition to. If you choose
    not to scope to specific Services, the Infrastructure Definition may be used with
    any TAS Service.</li></ul><p>In this topic:</p><ul><li> <a href="#before_you_begin">Before
    You Begin</a></li><li> <a href="https://docs.harness.io/article/r1crlrpjk4-define-your-pcf-target-infrastructure#step_1_add_infrastructure_definition">Step
    1: Add Infrastructure Definition</a></li><li> <a href="#step_2_name">Step 2: Name</a></li><li>
    <a href="#step_3_cloud_provider_type">Step 3: Cloud Provider Type</a></li><li>
    <a href="#step_4_deployment_type">Step 4: Deployment Type</a></li><li> <a href="#step_5_cloud_provider">Step
    5: Cloud Provider</a></li><li> <a href="#step_6_organization">Step 6: Organization</a></li><li>
    <a href="#step_7_space">Step 7: Space</a></li><li> <a href="#step_8_scope_to_specific_services">Step
    8: Scope to Specific Services</a></li><li> <a href="#option_use_variables_in_the_infrastructure_definition">Option:
    Use Variables in the Infrastructure Definition</a></li><li> <a href="#next_steps">Next
    Steps</a></li></ul><p></p><h3>Before You Begin</h3><ul><li>See <a href="/article/nh4afrhvkl">Connect
    to Your Target Tanzu Account</a>.</li><li>See <a href="/article/r1crlrpjk4">Define
    Your Tanzu Target Infrastructure</a>.</li></ul><p></p><h3>Step 1: Add Infrastructure
    Definition</h3><p>To add an Infrastructure Definition, do the following:</p><ol><li>In
    your Environment, click <strong>Add Infrastructure Definition</strong>. The <strong>Infrastructure
    Definition</strong> dialog appears.</li></ol><p>The <strong>Infrastructure Definition</strong>
    dialog has the following fields.</p><h3>Step 2: Name</h3><p>Enter a name for your
    Infrastructure Definition. You will use this name to select this Infrastructure
    Definition when you create Harness Workflows.</p><h3>Step 3: Cloud Provider Type</h3><p>Select
    <strong>Pivotal Cloud Foundry</strong>.</p><h3>Step 4: Deployment Type</h3><p>Select
    <strong>Pivotal Cloud Foundry</strong>.</p><h3>Step 5: Cloud Provider</h3><p>Select
    the Cloud Provider to use to connect to the foundation. This will be one of the
    TAS Cloud Providers you set up in <a href="/article/whwnovprrb-infrastructure-providers#pivotal_cloud_foundry_pcf">Add
    Cloud Providers</a>.</p><p>The roles associated with the TAS user account used
    in the Cloud Provider determine what orgs will appear in the <strong>Organization</strong>
    setting.</p><h3>Step 6: Organization</h3><p>The active TAS orgs available to the
    TAS user account used in the Cloud Provider are listed. Select the TAS org for
    the development account.</p><h3>Step 7: Space</h3><p>Select the space where the
    application you are deploying is scoped.</p><h3>Step 8: Scope to Specific Services</h3><p>Select
    this option to scope this Infrastructure Definition to the Harness TAS Service
    you want to deploy.</p><p>If you do not select this setting, you can select this
    Infrastructure Definition when you create a Workflow for <strong>any</strong>
    TAS Service.</p><h3>Option: Use Variables in the Infrastructure Definition</h3><p>You
    can use Service variables in the TAS Infrastructure Definition <strong>Organization</strong>
    and <strong>Space</strong> settings:</p><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/other/1572374732589/image.png"/></figure><p>This
    allows you to set the orgs and spaces in a Service, and have the Infrastructure
    Definition act as a template that multiple Services can use.</p><div class="note-callout">The
    orgs specified must be available to the TAS user account used to set up the TAS
    Cloud Provider used in the Infrastructure Definition.</div><h3>Next Steps</h3><ul><li><a
    href="/article/r0vp331jnq-override-pcf-manifests-and-config-variables-and-files">Override
    Tanzu Manifests and Config Variables and Files</a></li><li><a href="/article/c92izkztka-create-a-basic-pcf-deployment">Create
    a Basic Tanzu Deployment</a></li><li><a href="/article/99bxiqfi1u-create-a-canary-pcf-deployment">Create
    a Canary Tanzu Deployment</a></li><li><a href="/article/52muxcsr1v-create-a-blue-green-pcf-deployment">Create
    a Blue/Green Tanzu Deployment</a></li></ul><p></p>'
  slug: define-your-pcf-target-infrastructure
  tags: []
  is_live: true
