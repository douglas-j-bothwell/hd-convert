type: article
article_id: m5ra1x7qa0
user_id: mfr0nxh4be
category_id: 3pyb3kmkbs
author:
  name: Michael Cretzman
  profile_image: https://www.gravatar.com/avatar/2e8616837f4ee92be5d19ffe9b9ccba9?d=mm&s=150
title: 5 - Verifications and Troubleshooting
slug: 5-verifications-and-troubleshooting
description: Verify and troubleshoot Lambda deployments and production functions.
short_version: Verify and troubleshoot Lambda deployments and production functions.
tags:
- Lambda
- Lambda Verification
- CloudWatch
- lambda:GetFunction
- ' AWSLambdaRole'
- nodejs6.10
show_toc: true
is_private: true
is_published: true
is_featured: false
stale_status:
  is_stale: false
  reason: Article updated
  source: API
  triggered_at: 2021-05-12T17:22:47.83885Z
  expires_at: null
permission_groups: []
multilingual:
- language_code: en
  title: 5 - Verifications and Troubleshooting
  description: Verify and troubleshoot Lambda deployments and production functions.
  short_version: Verify and troubleshoot Lambda deployments and production functions.
  body: '<p>This topic discusses how to verify your Lambda deployments, the live,
    production Lambda functions, and troubleshooting steps for issues you might encounter
    during deployment.</p><ul><li><a href="https://docs.harness.io/article/m5ra1x7qa0-5-verifications-and-troubleshooting#lambda_verifications">Lambda
    Verifications</a></li><li><a href="https://docs.harness.io/article/m5ra1x7qa0-5-verifications-and-troubleshooting#troubleshooting">Troubleshooting</a></li><li><a
    href="https://docs.harness.io/article/m5ra1x7qa0-5-verifications-and-troubleshooting#next_steps">Next
    Steps</a></li></ul><h3>Lambda Verifications</h3><p>You can verify your live, production
    Lambda functions using Harness 24/7 Service Guard; or you can verify your Lambda
    deployments using Deployment Verifications. In both cases, you use AWS CloudWatch.</p><p>For
    steps on setting up CloudWatch Verification in Harness, see <a href="/article/q6ti811nck-cloud-watch-verification-overview">CloudWatch
    Verification</a>.</p><h3>Troubleshooting</h3><p>The following troubleshooting
    steps should help address common issues.</p><h4>User is not authorized to perform:
    lambda:GetFunction</h4><p>When you deploy your Workflow you might receive this
    error:</p><pre>Exception: User: arn:aws:sts::XXXXXXXXXXXX:assumed-role/iamRole_forDelegate/i-XXXXXXXXXXXX
    <br/>is not authorized to perform: lambda:GetFunction on resource: <br/>arn:aws:lambda:us-east-1:XXXXXXXXXXXX:function:ExampleApp-aws-lambda-Lambda-test
    <br/>(Service: AWSLambda; Status Code: 403; Error Code: AccessDeniedException;
    <br/>Request ID: 1e93ab96-985f-11e9-92b1-f7629978142c) while deploying function:
    ExampleApp-aws-lambda-Lambda-test</pre><p>This error occurs because the IAM role
    attached to your EC2 or ECS Delegate host does not have the <strong>AWSLambdaRole</strong>
    (arn:aws:iam::aws:policy/service-role/AWSLambdaRole) role attached. The role contains
    the <code>lambda:InvokeFunction</code> needed:</p><pre>{<br/>    &#34;Version&#34;:
    &#34;2012-10-17&#34;,<br/>    &#34;Statement&#34;: [<br/>        {<br/>            &#34;Effect&#34;:
    &#34;Allow&#34;,<br/>            &#34;Action&#34;: [<br/>                &#34;lambda:InvokeFunction&#34;<br/>            ],<br/>            &#34;Resource&#34;:
    [<br/>                &#34;*&#34;<br/>            ]<br/>        }<br/>    ]<br/>}</pre><p>Attach
    the AWSLambdaRole (arn:aws:iam::aws:policy/service-role/AWSLambdaRole) policy
    to the IAM role used by your Delegate host(s).</p><p>For more information, see
    <a href="https://docs.aws.amazon.com/lambda/latest/dg/access-control-identity-based.html">Identity-based
    IAM Policies for AWS Lambda</a> from AWS.</p><h4>Exception: The runtime parameter
    of nodejs6.10 is no longer supported</h4><p>If you choose Node,js version 6.10
    as the runtime for your Lambda function, you might receive this error.</p><p>AWS
    Lambda no longer supports Node,js version 6.10. Use a newer version.</p><h3>Next
    Steps</h3><ul><li><a href="/article/q6ti811nck-cloud-watch-verification-overview">CloudWatch
    Verification</a> â€“ Learn how to use AWS CloudWatch to verify your deployments
    and monitor your production services.</li></ul><p></p>'
  slug: 5-verifications-and-troubleshooting
  tags:
  - Lambda
  - Lambda Verification
  - CloudWatch
  - lambda:GetFunction
  - ' AWSLambdaRole'
  - nodejs6.10
  is_live: true
