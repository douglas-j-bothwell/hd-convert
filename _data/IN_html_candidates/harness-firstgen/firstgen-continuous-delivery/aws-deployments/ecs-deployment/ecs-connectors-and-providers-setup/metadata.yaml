type: article
article_id: gpu36fl1y0
user_id: mfr0nxh4be
category_id: df9vj316ec
author:
  name: Michael Cretzman
  profile_image: https://www.gravatar.com/avatar/2e8616837f4ee92be5d19ffe9b9ccba9?d=mm&s=150
title: 2 - ECS Connectors and Providers Setup
slug: ecs-connectors-and-providers-setup
description: Add Harness Artifact Servers to connect to your artifact repo. Add Harness
  Cloud Providers to connect to AWS.
short_version: Describes how to connect Harness to your artifact repository and to
  your target AWS ECS cluster.
tags:
- ECS Cloud Provider
- AWS Cloud Provider
- Artifact Server
- ECS Cluster
- Cloud Provider
show_toc: true
is_private: false
is_published: true
is_featured: false
stale_status:
  is_stale: false
  reason: Article updated
  source: API
  triggered_at: 2021-05-12T17:23:02.672961Z
  expires_at: null
permission_groups: []
multilingual:
- language_code: en
  title: 2 - ECS Connectors and Providers Setup
  description: Add Harness Artifact Servers to connect to your artifact repo. Add
    Harness Cloud Providers to connect to AWS.
  short_version: Describes how to connect Harness to your artifact repository and
    to your target AWS ECS cluster.
  body: <p>This topic describes how to set up Harness to connect to your artifact
    repository and to the target AWS ECS cluster.</p><ul><li><strong>Artifact Repository</strong>
    - To connect Harness to your artifact repository, you set up an Artifact Server
    in Harness.</li><li><strong>AWS ECS Cluster</strong> - To connect Harness to your
    ECS environment, you need to set up an AWS Cloud Provider in Harness. The AWS
    Cloud Provider you set up below uses Delegate Selectors as described in <a href="/article/wrm6hpyrjl-harness-ecs-delegate">Harness
    ECS Delegate</a>.</li></ul><div class="note-callout">If your artifacts are in
    AWS along with your target ECS cluster, you can simply add a Harness AWS Cloud
    Provider and use it for all ECS deployment connections.</div><h3>Add an Artifact
    Server</h3><p>Harness integrates with many different types of repositories and
    artifact providers. We call these Artifact Servers, and they help you pull your
    artifacts into your Harness Applications.</p><p>Add an Artifact Server for your
    artifact repository to your Harness account as described in <a href="/article/7dghbx1dbl-configuring-artifact-server">Add
    Artifact Servers</a>.</p><p>Later, when you set up a Harness Service, you will
    use the Artifact Server to select the artifact you want to deploy:</p><p></p><figure><img
    src="https://files.helpdocs.io/kw8ldg1itf/articles/gpu36fl1y0/1562104463271/image.png"
    style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure><div
    class="note-callout">If you are using Amazon Elastic Container Registry (ECR)
    for your artifacts, you can simply add an AWS Cloud Provider to manage your artifact
    and AWS deployment environment connections. Setting up an AWS Cloud Provider is
    described below.</div><h3>Add an AWS Cloud Provider</h3><p>Harness Cloud Providers
    represent the infrastructure of your applications, such as your ECS cluster. In
    this section, we will cover how to add an AWS Cloud Provider that uses the IAM
    role of the Harness ECS Delegate by using the Delegate Selectors.</p><div class="note-callout">Adding
    a Delegate Selector to your Delegate was discussed earlier in <a href="/article/wrm6hpyrjl-harness-ecs-delegate">Harness
    ECS Delegate</a>.</div><ol><li>In <strong>Harness</strong>, click <strong>Setup</strong>.</li><li>Click
    <strong>Cloud Providers</strong>. The <strong>Cloud Providers</strong> page appears.</li><li>Click
    <strong>Add Cloud Provider</strong>. The <strong>Cloud Provider</strong> dialog
    appears.</li><li>In <strong>Type</strong>, select <strong>Amazon Web Services</strong>.</li><li>In
    <strong>Display Name</strong>, enter a name for the Cloud Provider, such as <strong>aws-ecs</strong>.</li><li>Select
    the <strong>Assume IAM Role on Delegate</strong> option.</li><li>In <strong>Delegate
    Selector</strong>, enter the Selector you gave the ECS Delegate listed in the
    <strong>Harness Installations</strong> page.</li><li>Click <strong>SUBMIT</strong>.
    The Cloud Provider is added.</li></ol><p>For more information about setting up
    an AWS Cloud Provider, see <a href="/article/whwnovprrb-cloud-providers">Add Cloud
    Providers</a>.</p><h3>Next Step</h3><p>Now that you have an Artifact Server and
    AWS Cloud Provider, you can create your Harness Application and define your ECS
    service in its Harness Service:</p><ul><li><a href="/article/riu73ehy2m-ecs-services">3
    - ECS Services</a></li></ul><p></p>
  slug: ecs-connectors-and-providers-setup
  tags:
  - ECS Cloud Provider
  - AWS Cloud Provider
  - Artifact Server
  - ECS Cluster
  - Cloud Provider
  is_live: true
