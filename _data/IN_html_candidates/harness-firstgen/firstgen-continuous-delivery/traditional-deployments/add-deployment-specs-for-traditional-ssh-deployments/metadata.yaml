type: article
article_id: ih779z9kb6
user_id: mfr0nxh4be
category_id: td451rmlr3
author:
  name: Michael Cretzman
  profile_image: https://www.gravatar.com/avatar/2e8616837f4ee92be5d19ffe9b9ccba9?d=mm&s=150
title: Add Scripts for Traditional (SSH) Deployments
slug: add-deployment-specs-for-traditional-ssh-deployments
description: When you create the Harness Secure Shell (SSH) Service, Harness automatically
  generates the commands and scripts needed to install the app and stack on the target
  host, copy the file(s) to the correc…
short_version: When you create the Harness Secure Shell (SSH) Service, Harness automatically
  generates the commands and scripts needed to install the app and stack on the target
  host, copy the file(s) to the correc…
tags: []
show_toc: true
is_private: false
is_published: true
is_featured: false
stale_status:
  is_stale: false
  reason: Article updated
  source: API
  triggered_at: 2021-05-12T17:21:18.404342Z
  expires_at: null
permission_groups: []
multilingual:
- language_code: en
  title: Add Scripts for Traditional (SSH) Deployments
  description: ""
  short_version: ""
  body: '<p>When you create the Harness Secure Shell (SSH) Service, Harness automatically
    generates the commands and scripts needed to install the app and stack on the
    target host, copy the file(s) to the correct folder, and start the app.</p><p>In
    this topic, we will discuss the default commands and scripts, their processing
    order, and how to add additional scripts:</p><ul><li> <a href="#before_you_begin">Before
    You Begin</a></li><li> <a href="#visual_summary">Visual Summary</a></li><li> <a
    href="#review_script_execution_order">Review: Script Execution Order</a></li><li>
    <a href="#step_1_add_commands_and_scripts">Step 1: Add Commands and Scripts</a></li><li>
    <a href="#undefined">Review: Download Artifact and Exec Scripts</a></li><li> <a
    href="#undefined">Review: Harness and Custom Variables</a></li><li> <a href="#see_also">See
    Also</a></li><li> <a href="#configure_as_code">Configure As Code</a></li></ul><h3>Before
    You Begin</h3><ul><li> <a href="/article/mk5pjqyugc-connect-to-your-target-ssh-platform">Connect
    to Your Repos and Target SSH Platforms</a></li><li> <a href="/article/6pwni5f9el-traditional-deployments-overview">Traditional
    Deployments Overview</a></li><li> <a href="/article/umpe4zfnac-add-artifacts-for-ssh-deployments">Add
    Artifacts and App Stacks for Traditional (SSH) Deployments</a></li></ul><h3>Visual
    Summary</h3><p>Here is an example of the default scripts and commands Harness
    generates when you first create your Secure Shell (SSH) Service:</p><p></p><figure><img
    src="https://files.helpdocs.io/kw8ldg1itf/articles/ih779z9kb6/1598399100086/image.png"/></figure><h3>Review:
    Script Execution Order</h3><p>When you look at the default commands in a file-based
    Service, their order of execution might be confusing. For example, it looks like
    they are executed like this: </p><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/ih779z9kb6/1598399230051/image.png"/></figure><p>But
    they are actually executed like this: </p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/ih779z9kb6/1598399242531/image.png"/></figure><p>The
    order is clearer when you see the deployment in the <strong>Deployments</strong> page:</p><p></p><figure><img
    src="https://files.helpdocs.io/kw8ldg1itf/articles/ih779z9kb6/1598399260632/image.png"/></figure><p></p><h3>Step
    1: Add Commands and Scripts</h3><p>The default scripts Harness generates will
    deploy the artifact and app package you add to the Service. No further changes
    are required.</p><p>If you like, you can add commands and scripts using the <strong>Add
    Command</strong> settings, and by clicking the plus icon in the commands.</p><p></p><figure><img
    src="https://files.helpdocs.io/kw8ldg1itf/articles/ih779z9kb6/1598399287929/image.png"/></figure><p>All
    of the scripts include tooltips to explain how to use them:</p><p></p><figure><img
    src="https://files.helpdocs.io/kw8ldg1itf/articles/ih779z9kb6/1598399301934/image.png"/></figure><p></p><h3
    id="undefined">Review: Download Artifact and Exec Scripts</h3><p>The Download
    Artifact script is supported for Amazon S3, Artifactory, SMB (PowerShell-only),
    SFTP (PowerShell-only), Azure DevOps artifacts, Nexus, Jenkins, and Bamboo. For
    other artifact sources, add a new command and use the Exec script to download
    the artifact. For more information, see  <a href="/article/qluiky79j8-service-types-and-artifact-sources#exec_script">Exec
    Script</a>.</p><h3 id="undefined">Review: Harness and Custom Variables</h3><p>You
    can use Harness built-in variables in your Service scripts, or add your own variables
    and reference them in your scripts.</p><p>For information on Harness built-in
    variables, see  <a href="/article/9dvxcegm90-variables">What is a Harness Variable
    Expression?</a>. For information on using variables in your scripts, see  <a href="/article/q78p7rpx9u-add-service-level-config-variables">Add
    Service Config Variables</a> and <a href="/article/iwtoq9lrky-add-service-level-configuration-files">Add
    Service Config Files</a>.</p><h3>See Also</h3><ul><li> <a href="/article/lgg12f0yry-set-default-application-directories-as-variables">Set
    Default Application Directories as Variables</a></li><li> <a href="/article/cc59hfou9c-override-variables-per-infrastructure-definition">Override
    Variables at the Infrastructure Definition Level</a></li></ul><h3>Configure As
    Code</h3><p>To see how to configure the settings in this topic using YAML, configure
    the settings in the UI first, and then click the YAML editor button (<span style="color:#fb9e00"
    data-hd-color="#fb9e00"><strong>&lt;/&gt;</strong></span>).</p>'
  slug: add-deployment-specs-for-traditional-ssh-deployments
  tags: []
  is_live: true
