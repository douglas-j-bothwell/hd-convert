type: article
article_id: 2vcxg26xiu
user_id: mfr0nxh4be
category_id: n03qfofd5w
author:
  name: Michael Cretzman
  profile_image: https://www.gravatar.com/avatar/2e8616837f4ee92be5d19ffe9b9ccba9?d=mm&s=150
title: Upload Kubernetes Resource Files
slug: upload-kubernetes-resource-files
description: Upload Kubernetes files and folders and manage them in Harness.
short_version: Upload Kubernetes files and folders and manage them in Harness.
tags:
- upload maifests
show_toc: true
is_private: false
is_published: true
is_featured: false
stale_status:
  is_stale: false
  reason: Article updated
  source: API
  triggered_at: 2022-07-18T22:52:29.269078Z
  expires_at: null
permission_groups: []
multilingual:
- language_code: en
  title: Upload Kubernetes Resource Files
  description: Upload Kubernetes files and folders and manage them in Harness.
  short_version: Upload Kubernetes files and folders and manage them in Harness.
  body: '<div class="tip-callout">This content is for Harness <a href="/article/1fjmm4by22">FirstGen</a>.
    Switch to <a href="/category/qfj6m1k2c4">NextGen</a>.</div><p></p><p>Harness includes
    default Kubernetes resource files you can edit and add to, and the ability to
    <a href="/article/yjkkwi56hl-link-resource-files-or-helm-charts-in-git-repos">link
    to remote Git and Helm repo files</a>, but you might also have resource files
    you want to upload into Harness.</p><p>Harness enables you to upload files and
    folders and manage them in the Service <strong>Manifests</strong> section.</p><p>In
    this topic:</p><ul><li> <a href="#before_you_begin">Before You Begin</a></li><li>
    <a href="#step_1_delete_the_default_files">Step 1: Delete the Default Files</a></li><li>
    <a href="#step_2_upload_resource_files">Step 2: Upload Resource Files</a></li><li>
    <a href="#option_1_use_namespace_alternatives">Option 1: Use Namespace Alternatives</a></li><li>
    <a href="#next_steps">Next Steps</a></li></ul><h3>Before You Begin</h3><ul><li><a
    href="/article/pfexttk6dr-adding-and-editing-inline-kubernetes-manifest-files">Adding
    and Editing Inline Kubernetes Manifest Files</a></li></ul><h3>Step 1: Delete the
    Default Files</h3><ol><li>In your Harness Kubernetes Service, in <strong>Manifests</strong>,
    click the more options button (<strong>︙</strong>) and click <strong>Delete All
    Manifest Files</strong>.</li><li>Click <strong>Confirm</strong>.</li></ol><h3>Step
    2: Upload Resource Files</h3><ol><li>Click the more options button (<strong>︙</strong>)
    again, and then click <strong>Upload Inline Manifest Files</strong>. The <strong>Upload
    Inline Manifest Files</strong> settings appear.<figure><img src="https://files.helpdocs.io/i5nl071jo5/articles/wnimgh83sz/1580685868349/image.png"
    style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure></li><li>Click <strong>Choose</strong> and
    select folders and files or drag and drop files into the dialog. If you select
    a folder, all subordinate folders and files are copied.</li><li>Click <strong>SUBMIT</strong>.
    Your files are added to the <strong>Manifests</strong> section of the Service.</li></ol><p>The
    files are added to the root folder. You can create folders and add the files into
    them. Simply select a file, click the more options button (︙) and click <strong>Rename
    File</strong>. Add the folder name before the file name, using a forward slash,
    like <strong>folderA/filename.yaml</strong>. The file is moved into the folder.</p><h3>Option
    1: Use Namespace Alternatives</h3><p>You might have existing manifest files from
    other deployments that you want to add to your <strong>Manifests</strong> section,
    but you do not want to use the same namespace settings, such as the namespace
    in a Service object:</p><pre>apiVersion: v1<br/>kind: Service<br/>metadata:<br/>  name:
    my-service<br/>  namespace: prod<br/>spec:<br/>  type: ExternalName<br/>  externalName:
    my.database.example.com</pre><p>You can remove existing <code>namespace</code> settings
    in the files you upload into Manifests by selecting the <strong>Remove hard-coded
    namespaces from resource metadata</strong> option in the <strong>Upload Inline
    Manifest Files</strong> dialog.</p><figure><a href="https://files.helpdocs.io/kw8ldg1itf/articles/zmca0zai3s/1559853577803/image.png"><img
    src="https://files.helpdocs.io/kw8ldg1itf/articles/zmca0zai3s/1559853577803/image.png"
    style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></a></figure><p>The
    uploaded files will have their <code>namespace</code> key and value removed. Using
    our Service example, you can see <code>namespace: prod</code> is gone:</p><pre>apiVersion:
    v1<br/>kind: Service<br/>metadata:<br/>  name: my-service<br/>spec:<br/>  type:
    ExternalName<br/>  externalName: my.database.example.com</pre><p>Harness will
    use the namespace you enter in the Infrastructure Definition <strong>Namespace</strong> field
    as the namespace for these manifests.</p><p>Here is an Infrastructure Definition
    with its <strong>Namespace</strong> field:</p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/2vcxg26xiu/1620840109462/9-ulwimvwoy-fufa-4-vcd-pvk-iv-468-si-0-hg-82-wv-mfi-5-zq-snio-42-fhbm-dki-agj-g-7-qer-5-as-2-au-z-8-ydpy-clvecpfcxw-hlwxlylopuira-qks-rsfjxtq-iptv-1-en-p-6-2-mm-7-lg-9-rojzr-xyhq-7-k"
    style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure><p>You
    can also use the expression <code>namespace: ${infra.kubernetes.namespace}</code> in
    your manifest files and Harness will use the namespace you enter in the Infrastructure
    Definition <strong>Namespace</strong> field as the namespace for these manifests.</p><figure><img
    src="https://files.helpdocs.io/kw8ldg1itf/other/1568657341862/image.png"/></figure><p></p><p>Another
    option is to add <code>namespace: ${infra.kubernetes.namespace}</code> in the <strong>values.yaml</strong> file
    and refer it in your manifest with <code>namespace: {{ .Values.namespace }}</code>.</p><h3>Next
    Steps</h3><ul><li><a href="/article/yjkkwi56hl-link-resource-files-or-helm-charts-in-git-repos">Link
    Resource Files or Helm Charts in Git Repos</a></li></ul><p></p>'
  slug: upload-kubernetes-resource-files
  tags:
  - upload maifests
  is_live: true
