type: article
article_id: vv25jkq4d7
user_id: mfr0nxh4be
category_id: n03qfofd5w
author:
  name: Michael Cretzman
  profile_image: https://www.gravatar.com/avatar/2e8616837f4ee92be5d19ffe9b9ccba9?d=mm&s=150
title: Ignore a Manifest File During Deployment
slug: ignore-a-manifest-file-during-deployment
description: Ignore manifests or then apply them separately using the Harness Apply
  step.
short_version: Ignore manifests or then apply them separately using the Harness Apply
  step.
tags:
- ignore workload
- skip-file-for-deploy
show_toc: true
is_private: false
is_published: true
is_featured: false
stale_status:
  is_stale: false
  reason: Article updated
  source: API
  triggered_at: 2021-12-09T21:14:16.07249Z
  expires_at: null
permission_groups: []
multilingual:
- language_code: en
  title: Ignore a Manifest File During Deployment
  description: Ignore manifests or then apply them separately using the Harness Apply
    step.
  short_version: Ignore manifests or then apply them separately using the Harness
    Apply step.
  body: '<p>You might have manifest files for resources that you do not want to deploy
    as part of the main deployment.</p><p>Instead, you tell Harness to ignore these
    files and then apply them separately using the Harness Apply step.</p><p>Or you
    can simply ignore them until you wish to deploy them as part of the main deployment.</p><p>In
    this topic:</p><ul><li> <a href="#before_you_begin">Before You Begin</a></li><li>
    <a href="#visual_summary">Visual Summary</a></li><li> <a href="#step_1_ignore_a_manifest">Step
    1: Ignore a Manifest</a></li><li> <a href="#option_1_apply_ignored_resource">Option
    1: Apply Ignored Resource</a></li><li> <a href="#next_steps">Next Steps</a></li></ul><h3>Before
    You Begin</h3><ul><li><a href="/article/2j2vi5oxrq-define-kubernetes-manifests">Define
    Kubernetes Manifests</a></li><li><a href="/article/wnr5n847b1-kubernetes-overview">Kubernetes
    Deployments Overview</a></li><li><a href="/article/ttn8acijrz-versioning-and-annotations">Kubernetes
    Versioning and Annotations</a></li></ul><h3>Visual Summary</h3><p>The following
    image shows how you can ignore a Jobs manifest and then apply it separately using
    the Apply step.</p><p></p><figure><img src="https://files.helpdocs.io/i5nl071jo5/articles/jyv7jbr8pg/1580759097095/image.png"/></figure><p></p><h3>Step
    1: Ignore a Manifest</h3><p>To have a Workflow ignore a resource file in a Service <strong>Manifests</strong> section,
    you add the comment <code># harness.io/skip-file-for-deploy</code> to the <strong>top</strong> of
    the file.</p><div class="note-callout">For more information on <code>harness.io/skip-file-for-deploy</code>,
    see <a href="/article/ttn8acijrz-versioning-and-annotations">Kubernetes Versioning
    and Annotations</a>.</div><p>For example, here is a ConfigMap file using the comment:</p><figure><a
    href="https://files.helpdocs.io/kw8ldg1itf/articles/zmca0zai3s/1559861831088/image.png"><img
    src="https://files.helpdocs.io/kw8ldg1itf/articles/zmca0zai3s/1559861831088/image.png"
    style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></a></figure><p>Now,
    when this Service is deployed by a Workflow, this ConfigMap resource will not
    be applied.</p><div class="note-callout">The comment <code># harness.io/skip-file-for-deploy</code> must
    be at the <strong>top</strong> of the file. If it is on the second line it will
    not work and the resource will be deployed as part of the main Workflow rollout.</div><h3>Option
    1: Apply Ignored Resource</h3><p>The Workflow Apply step will apply any resource
    in a Service <strong>Manifest</strong> section explicitly. You must provide the
    path and name of the file in <strong>Apply</strong>, and Harness will deploy the
    resource.</p><p>For details on the Apply Step, see <a href="/article/4vjgmjcj6z-deploy-manifests-separately-using-apply-step">Deploy
    Manifests Separately using Apply Step</a>.</p><p>For example, the following image
    shows a Jobs resource in a Service <strong>Manifest</strong> section that uses
    the ignore comment <code># harness.io/skip-file-for-deploy</code> so that the
    Workflow does not apply it as part of its main <strong>Deploy</strong> steps,
    and the <strong>Apply</strong> step that specifies the same Jobs resource:</p><p></p><figure><img
    src="https://files.helpdocs.io/kw8ldg1itf/articles/crzdm3458j/1580256082187/image.png"/></figure><p>The <strong>File
    paths</strong> field in the Apply step must include the folder name and the file
    name. In the above example, the folder <strong>templates</strong> is included
    with the file name <strong>jobs.yaml</strong>: <code>templates/jobs.yaml</code>.</p><p>You
    can include multiple resource files in the Apply step <strong>File paths</strong> field
    by separating them with commas, for example: <code>templates/jobs.yaml, templates/statefulSet.yaml</code>.</p><div
    class="note-callout">If you apply the ignore comment <code># harness.io/skip-file-for-deploy</code> to
    a resource but do not use the resource in an Apply step, the resource is never
    deployed.</div><h3>Next Steps</h3><ul><li><a href="/article/78oginrhsh-delete-kubernetes-resources">Delete
    Kubernetes Resources</a></li></ul><p></p>'
  slug: ignore-a-manifest-file-during-deployment
  tags:
  - ignore workload
  - skip-file-for-deploy
  is_live: true
