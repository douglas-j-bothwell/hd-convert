<p>Hardcoding the namespaces in Harness Service manifests forces you to have separate Services for each namespace.</p><p>Instead of setting namespaces in the manifests in a Harness Service, you can use a Harness variable expression to reference Kubernetes namespaces in Harness Infrastructure Definitions. When a Workflow is run, the namespace in the Infrastructure Definition is applied to all manifests in the Service.</p><p>This allows you to set up a <em>single</em> Harness Kubernetes Service to be used with multiple namespaces.</p><p>In this topic:</p><ul><li><a href="#before_you_begin">Before You Begin</a></li><li><a href="#step_1_add_the_namespace_expression">Step 1: Add the Namespace Expression</a></li><li><a href="#step_2_enter_the_namespace_in_the_infrastructure_definition">Step 2: Enter the Namespace in the Infrastructure Definition</a></li><li><a href="#next_steps">Next Steps</a></li></ul><h3>Before You Begin</h3><ul><li><a href="/article/2j2vi5oxrq-define-kubernetes-manifests">Define Kubernetes Manifests</a></li><li><a href="/article/5xm4z4q3d8-create-kubernetes-namespaces-based-on-infra-mapping">Create Kubernetes Namespaces based on InfraMapping</a></li></ul><h3>Step 1: Add the Namespace Expression</h3><ol><li>In your Harness Kubernetes Service, click <strong>values.yaml</strong>.</li><li>In the <code>namespace</code> key, use the variable expression <code>${infra.kubernetes.namespace}</code>:</li></ol><pre class="hljs cpp">namespace: ${infra.kubernetes.<span class="hljs-keyword" style="box-sizing:inherit;color:rgb(167, 29, 93)" data-hd-color="rgb(167, 29, 93)">namespace</span>}</pre><p>In a manifest file for the Kubernetes Namespace object, use the namespace value like this:</p><pre class="hljs makefile">apiVersion: v1<br/>kind: Namespace<br/>metadata:<br/>  name: {{.Values.namespace}}</pre><p></p><div class="note-callout">If you omit the <code>namespace</code> key and value from a manifest in your Service, Harness automatically uses the namespace you entered in the Harness Environment <a href="https://docs.harness.io/article/n39w05njjv-environment-configuration#add_an_infrastructure_definition">Infrastructure Definition</a> settings <strong>Namespace</strong> field.</div><p>The Harness variable <code>${infra.kubernetes.namespace}</code> refers to the namespace entered in the Harness Environment Infrastructure Definition settings <strong>Namespace</strong> field.</p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/other/1568657341862/image.png"/></figure><h3>Step 2: Enter the Namespace in the Infrastructure Definition</h3><ol><li>In each Infrastructure Definition <strong>Namespace</strong> setting, enter the namespace you want to use.</li></ol><p>When the Service using <code>${infra.kubernetes.namespace}</code> is deployed, Harness will replace <code>${infra.kubernetes.namespace}</code> with the value entered in the Infrastructure Definition <strong>Namespace</strong> setting, creating a Kubernetes Namespace object using the name.</p><p>Next, Harness will deploy the other Kubernetes objects to that namespace.</p><h3>Next Steps</h3><ul><li><a href="/article/nhlzsni30x-create-kubernetes-namespaces-with-workflow-variables">Create Kubernetes Namespaces with Workflow Variables</a></li></ul><p></p>