type: article
article_id: lk57k7irla
user_id: mfr0nxh4be
category_id: n03qfofd5w
author:
  name: Michael Cretzman
  profile_image: https://www.gravatar.com/avatar/2e8616837f4ee92be5d19ffe9b9ccba9?d=mm&s=150
title: Upgrade to Helm 3 Charts in Kubernetes Services
slug: upgrade-to-helm-3-charts-in-kubernetes-services
description: Upgrade your Harness Kubernetes Service to use Helm 3 charts.
short_version: Upgrade your Harness Kubernetes Service to use Helm 3 charts.
tags:
- helm 3
show_toc: true
is_private: false
is_published: true
is_featured: false
stale_status:
  is_stale: false
  reason: Article updated
  source: API
  triggered_at: 2022-03-25T18:37:16.951412Z
  expires_at: null
permission_groups: []
multilingual:
- language_code: en
  title: Upgrade to Helm 3 Charts in Kubernetes Services
  description: Upgrade your Harness Kubernetes Service to use Helm 3 charts.
  short_version: Upgrade your Harness Kubernetes Service to use Helm 3 charts.
  body: '<p>This topic describes how to upgrade your Harness Kubernetes Service to
    use Helm 3 charts.</p><p>You can use Helm 3 charts in both Kubernetes and native
    Helm Services. For information on upgrading native Helm Services, see <a href="/article/cqidzwbzaa-upgrade-native-helm-2-deployments-to-helm-3">Upgrade
    Native Helm 2 Deployments to Helm 3</a>.</p><div class="note-callout"><strong>What&#39;s
    a native Helm deployment in Harness?</strong> Harness provides Kubernetes deployments
    that use Helm charts without requiring Helm or Tiller be installed in your target
    environment. These are called Harness Kubernetes deployments. This is the recommended
    method. If you want to deploy to a Kubernetes cluster using Helm explicitly, you
    can use native Helm deployments. You simply choose <strong>Helm</strong> as the <strong>Deployment
    Type</strong> when you create a Harness Service.</div><p>In this topic:</p><ul><li><a
    href="#review_custom_helm_binaries">Review: Custom Helm Binaries</a></li><li><a
    href="#option_1_upgrade_helm_version_number_in_the_harness_ui">Option 1: Upgrade
    Helm Version Number in the Harness UI</a></li><li><a href="#option_2_upgrade_helm_version_number_in_yaml">Option
    2: Upgrade Helm Version Number in YAML</a></li><li><a href="https://docs.harness.io/article/lk57k7irla-upgrade-to-helm-3-charts-in-kubernetes-services#option_3_use_helm_v3_8_0_binary">Option
    3: Use Helm v3.8.0 Binary</a></li><li><a href="#step_2_add_your_helm_3_charts">Step
    2: Add Your Helm 3 Charts</a></li><li><a href="#notes">Notes</a></li><li><a href="#next_steps">Next
    Steps</a></li></ul><h3>Review: Custom Helm Binaries</h3><p>Harness ships Helm
    binaries with all Harness Delegates.</p><p>If you want the Delegate to use a specific
    Helm binary, do the following:</p><ol><li>In the installed Harness Delegate folder
    <strong>harness-delegate</strong>, open the file <strong>config-delegate.yml</strong>.<ol><li>For
    a Helm 2 binary, add <code>helmPath</code>.</li><li>For a Helm 3 binary, add <code>helm3Path</code>.</li></ol></li><li>Next,
    enter the path to the binary. For example: <code>helm3Path: /usr/local/bin/helm_3</code>.</li></ol><h3>Option
    1: Upgrade Helm Version Number in the Harness UI</h3><ol><li>In Harness, locate
    a Kubernetes Service that uses Helm charts, or where you plan on using Helm charts.</li><li>In
    <strong>Manifests</strong>, click <strong>Link Remote Manifests</strong>. The <strong>Remote
    Manifests</strong> settings appear.</li><li>In <strong>Manifest Format</strong>,
    <strong>Helm Chart from Helm Repository</strong> will be selected already if you
    are upgrading an existing Service. For steps on configuring all of these settings,
    see <a href="/article/hddm3rgf1y-use-a-helm-repository-with-kubernetes">Use a
    Helm Repository with Kubernetes</a>.</li><li>In <strong>Helm Version</strong>,
    select the Helm version of your chart, such as <strong>v3</strong>.<figure><img
    src="https://files.helpdocs.io/kw8ldg1itf/articles/lk57k7irla/1591394568217/image.png"
    style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure></li><li>Click
    <strong>Submit</strong>.</li></ol><p>You can now use Helm 3 charts.</p><h3>Option
    2: Upgrade Helm Version Number in YAML</h3><ol><li>In Harness, locate a Service
    that uses Helm charts, or where you plan on using Helm charts.</li><li>In your
    Harness Kubernetes Service, click the <strong>Configure As Code</strong> button
    (<span style="color:#fb9e00" data-hd-color="#fb9e00"><strong>&lt;/&gt;</strong></span>).
    The index.yaml for your Service contains the current Helm version used as <code>helmVersion:
    V2</code>:<figure><img src="https://files.helpdocs.io/i5nl071jo5/articles/53lkzi37n0/1580750786738/image.png"
    style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure>If
    <code>helmVersion</code> is not listed, do not worry. You can add it.</li><li>Click
    <strong>Edit</strong>.</li><li>Do one of the following:</li></ol><ul><li>Change
    <code>helmVersion: V2</code> to <code>helmVersion: V3</code>.</li><li>Add <code>helmVersion:
    V3</code>.</li></ul><ol><li style="counter-increment:li 4" start="5">Click <strong>Save</strong>.</li></ol><p>You
    can now use Helm 3 charts.</p><h3>Option 3: Use Helm v3.8.0 Binary</h3><p></p><div
    class="note-callout">Currently, this feature is behind the feature flag <code>HELM_VERSION_3_8_0</code>.
    Contact <a href="mailto:support@harness.io" target="_blank">Harness Support</a>
    to enable the feature.</div><p>You can use Helm v3.8.0 binary by having Harness
    enable the feature flag <code>HELM_VERSION_3_8_0</code>.</p><p>When this feature
    flag is enabled and you have selected <strong>V3</strong> in <strong>Helm Version
    </strong>in <strong>Remote Manifests</strong>, Harness will use Helm version v3.8.0
    by default.</p><h3>Step 2: Add Your Helm 3 Charts</h3><p>You can add charts using
    one of the following options:</p><ul><li><a href="/article/yjkkwi56hl-link-resource-files-or-helm-charts-in-git-repos">Link
    Resource Files or Helm Charts in Git Repos</a></li><li><a href="/article/hddm3rgf1y-use-a-helm-repository-with-kubernetes">Use
    a Helm Repository with Kubernetes</a></li></ul><p></p><h3>Notes</h3><ul><li>You
    do not need to add a Delegate Profile for Helm 3. Harness includes Helm 3 support
    in any Delegate that can connect to the target Kubernetes cluster.</li></ul><h3>Next
    Steps</h3><ul><li><a href="/article/htvzryeqjw-configuration-as-code">Configuration
    as Code</a></li></ul><p></p>'
  slug: upgrade-to-helm-3-charts-in-kubernetes-services
  tags:
  - helm 3
  is_live: true
