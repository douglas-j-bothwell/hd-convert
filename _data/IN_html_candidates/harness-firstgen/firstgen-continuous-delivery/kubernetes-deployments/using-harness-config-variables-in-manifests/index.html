<div class="tip-callout">This content is for Harness <a href="/article/1fjmm4by22">FirstGen</a>. Switch to <a href="/category/qfj6m1k2c4">NextGen</a>.</div><p></p><p>You can create a variable in the Harness Kubernetes Service <strong>Config Variables</strong> section and then use it in your <strong>Manifests</strong> files, such as in the ConfigMap definition.</p><p>In this topic:</p><ul><li><a href="#before_you_begin">Before You Begin</a></li><li><a href="#review_config_variable_reference_scope">Review: Config Variable Reference Scope</a></li><li><a href="#step_1_create_the_service_variable_in_config_variables">Step 1: Create the Service Variable in Config Variables</a></li><li><a href="#step_2_reference_the_service_variable_in_values_yaml">Step 2: Reference the Service Variable in values.yaml</a></li><li><a href="#step_3_reference_the_variable_in_the_manifest">Step 3: Reference the Variable in the Manifest</a></li><li><a href="#notes">Notes</a></li><li><a href="#next_steps">Next Steps</a></li></ul><h3>Before You Begin</h3><ul><li><a href="/article/eb3kfl8uls-service-configuration">Services</a></li><li><a href="/article/2j2vi5oxrq-define-kubernetes-manifests">Define Kubernetes Manifests</a></li></ul><div class="note-callout">In Harness Kubernetes version 1 implementation, Harness would create the ConfigMap automatically using the <code>${CONFIG_MAP_NAME}</code> expression and all unencrypted Service <strong>Config Variables</strong> and <strong>Config Files</strong>. In the current Harness Kubernetes implementation, you define your ConfigMap manually using the values.yaml and <strong>Config Variables</strong> and <strong>Config Files</strong>.</div><h3>Review: Config Variable Reference Scope</h3><p>You cannot reference a Service&#39;s Config Variable in the <u>Pre-Deployment</u> Phase of a Workflow. Canary and Multi-Service Workflows are the only Workflow types with the <u>Pre-Deployment</u> Phase.</p><p>The Pre-Deployment Phase does not use a Service and so it has no access to Service Config Variables (or Config Files).</p><p>You can reference a Service&#39;s Config Variable in the Deployment Phase of the Workflow.</p><h3>Step 1: Create the Service Variable in Config Variables</h3><p>For this explanation, we&#39;ll create a variable that indicates the database to use for a ConfigMap.</p><ol><li>In <strong>Config Variables</strong>, click <strong>Add Variable</strong>.</li><li>In <strong>Config Variable</strong>, add a variable named <code>database</code> with the value <code>mongodb</code>.</li></ol><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/t6zrgqq0ny/1576018190215/image.png" style="max-height:50%;max-width:50%;display:block;margin-left:auto;margin-right:auto" data-hd-height="50%" data-hd-width="50%" data-hd-align="center"/></figure><ol><li style="counter-increment:li 2" start="3">Click <strong>Submit</strong>. The variable is added to the <strong>Config Variables</strong> section.</li></ol><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/t6zrgqq0ny/1576018287775/image.png" style="max-height:75%;max-width:75%;display:block;margin-left:auto;margin-right:auto" data-hd-height="75%" data-hd-width="75%" data-hd-align="center"/></figure><p></p><h3>Step 2: Reference the Service Variable in values.yaml</h3><ol><li>In <strong>values.yaml</strong>, create a new variable named <code>databaseType</code> that references the Service variable <code>database</code>:</li></ol><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/t6zrgqq0ny/1576018415745/image.png" style="max-height:50%;max-width:50%;display:block;margin-left:auto;margin-right:auto" data-hd-height="50%" data-hd-width="50%" data-hd-align="center"/></figure><h3>Step 3: Reference the Variable in the Manifest</h3><ol><li>In the manifest file containing you object (in this example, ConfigMap), reference the values.yaml variable in the ConfigMap <code>data</code> section.</li></ol><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/t6zrgqq0ny/1576019570848/image.png" style="max-height:50%;max-width:50%;display:block;margin-left:auto;margin-right:auto" data-hd-height="50%" data-hd-width="50%" data-hd-align="center"/></figure><p>When the Service is deployed, the Service variable will be used to provide the value <code>mongodb</code> to the <code>data</code> label in ConfigMap.</p><h3>Notes</h3><ul><li>You can also overwrite the Service variable in an Environment <strong>Service Configuration Override.</strong> When a Workflow using that Service and Environment deploys, the Service variable for the ConfigMap <code>data</code> value will be overwritten. See <a href="/article/ycacqs7tlx-override-harness-kubernetes-service-settings">Override Harness Kubernetes Service Settings</a>.</li></ul><h3>Next Steps</h3><ul><li><a href="/article/2j2vi5oxrq-define-kubernetes-manifests">Define Kubernetes Manifests</a></li></ul><p></p>