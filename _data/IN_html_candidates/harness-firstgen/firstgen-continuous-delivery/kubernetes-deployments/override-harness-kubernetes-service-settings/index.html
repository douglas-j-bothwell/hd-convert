<div class="tip-callout">This content is for Harness <a href="/article/1fjmm4by22">FirstGen</a>. Switch to <a href="/article/t57uzu1i41">NextGen</a>.</div><p>Harness Kubernetes Service <strong>Config Variables</strong>, <strong>Config Files</strong>, and <strong>values.yaml</strong> settings can be overwritten by Harness Environments <strong>Service Configuration Overrides</strong>.</p><p>This enables you to have a Service keep its settings but change them when the Service is deployed to the Environment.</p><p>For example, you might have a single Service but an Environment for QA and an Environment for Production, and you want to overwrite the <code>namespace</code> setting in the Service values.yaml depending on the Environment.</p><div class="note-callout">You can also overwrite Service variables at the Phase-level of a multiple Phase Workflow.</div><h3>Before You Begin</h3><ul><li><a href="/article/2j2vi5oxrq-define-kubernetes-manifests">Define Kubernetes Manifests</a></li><li><a href="/article/qy6zw1u0y2-using-harness-config-variables-in-manifests">Using Harness Config Variables in Manifests</a></li><li><a href="/article/q71d8kurhz-using-harness-config-files-in-manifests">Using Harness Config Files in Manifests</a></li></ul><h3>Step 1: Select the Service to Override</h3><ol><li>In the Harness Environment, in the <strong>Service Configuration Overrides</strong> section, click <strong>Add Configuration Overrides</strong>. The <strong>Service Configuration Override</strong> settings appear.</li></ol><p></p><figure><img src="https://files.helpdocs.io/i5nl071jo5/articles/z4b962oaqk/1580774592425/image.png" style="max-height:50%;max-width:50%;display:block;margin-left:auto;margin-right:auto" data-hd-height="50%" data-hd-width="50%" data-hd-align="center"/></figure><ol><li style="counter-increment:li 1" start="2">In <strong>Service</strong>, select the Service you are using for your Kubernetes deployment.</li><li>Select one of the <strong>Override Type</strong> options.</li></ol><h3>Option: Variable Override</h3><ol><li>In <strong>Override Type</strong>, select <strong>Variable Override</strong>. The <strong>Variable Override</strong> options appear.</li><li>In <strong>Configuration Variable</strong>, select a variable configured in the Service&#39;s <strong>Config Variables</strong> settings.</li><li>In <strong>Type</strong>, select <strong>Text</strong> or <strong>Encrypted Text</strong>.</li><li>In <strong>Override Value</strong>, enter the value to overwrite the variable value in the Service. If you selected <strong>Encrypted Text</strong> in Type, you can select an Encrypted Text values defined in <a href="/article/au38zpufhr-secret-management">Secrets Management</a>.</li></ol><h3>Option: File Override</h3><ol><li>In <strong>Override Type</strong>, select <strong>File Override</strong>.</li><li>In <strong>File Name</strong>, select a file configured in the Service&#39;s <strong>Config Files</strong> settings.</li><li>In <strong>File</strong>, select the file to overwrite the Service&#39;s <strong>Config Files</strong> file.</li></ol><h3>Option: Values YAML</h3><ol><li>In <strong>Override Type</strong>, select <strong>Values YAML</strong>. Click <strong>Local</strong> or <strong>Remote</strong>.</li><li><strong>Local</strong> - Enter in the values.yaml variables and values just as your would in a Service <strong>Manifests</strong> values.yaml. Ensure the name of the variable you want to overwrite is identical.</li><li><strong>Remote</strong> - See <a href="/article/p453sikbqt-override-remote-values-yaml-files">Override Remote Values YAML Files</a>.</li></ol><h3>Option: Helm Chart for Specific Service</h3><ol><li>In <strong>Override Type</strong>, select <strong>Helm Chart</strong>.</li><li>In <strong>Helm Repository</strong>, select a Helm Chart Repo that you have set up as a <a href="/article/0hrzb1zkog-add-helm-repository-servers">Helm Repository Artifact Server</a>. See <a href="/article/hddm3rgf1y-use-a-helm-repository-with-kubernetes">Use a Helm Repository with Kubernetes</a>.</li></ol><h4>Notes</h4><ul><li>You can use some overrides together. For example, you can use both Helm Chart Overrides with Values YAML Overrides for the same Harness Service. Harness will merge the overrides.</li></ul><h3>Option: Helm Chart for All Services</h3><p>You can use a specific Helm chart to override All Services deployed to this Environment.</p><ol><li>In <strong>Service</strong>, select <strong>All Services</strong>.</li><li>In <strong>Override Type</strong>, select <strong>Helm Chart Repository</strong>.</li><li>In <strong>Helm Repository</strong>, select the Helm Repository containing the Helm chart that you want to override all Service&#39;s Helm Charts, and then click <strong>Submit</strong>.</li></ol><p></p><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/ycacqs7tlx/1587684044134/image.png"/></figure><h3>Example</h3><p>Here is an example of overwriting a Service values.yaml with a <strong>Service Configuration Override</strong>.</p><p>In the Service values.yaml, we have a variable for <code>replicas</code>:</p><pre class="hljs http">replicas: 1</pre><p>This is used in the manifest file like this:</p><pre class="hljs cpp">...<br/>spec:<br/>  replicas: {{int .Values.replicas}}<br/>...</pre><p>Now, in <strong>Service Configuration Override</strong>, you can overwrite the Service values.yaml <code>replicas</code> value using the <strong>Local</strong> option:</p><p></p><figure><img src="https://files.helpdocs.io/i5nl071jo5/articles/z4b962oaqk/1580774862908/image.png" style="max-height:50%;max-width:50%;display:block;margin-left:auto;margin-right:auto" data-hd-height="50%" data-hd-width="50%" data-hd-align="center"/></figure><p>At deployment runtime to this Environment, the overwritten <code>replicas</code> values is used:</p><pre>kind: Deployment<br/>metadata:<br/>  name: nginx-deployment<br/>  labels:<br/>    app: nginx<br/>spec:<br/>  replicas: 3</pre><p></p><h3>Option: OpenShift Template for Specific Service</h3><ol><li>In <strong>Service</strong>, select the specific service that you want to override.</li><li>In <strong>Override Type</strong>, select <strong>OpenShift Param</strong>.</li><li>Select <strong>Inline</strong> or <strong>Remote</strong>.<ol><li>If you select <strong>Inline,</strong> then enter the value inline. If you select <strong>Remote</strong>, perform the following steps.</li></ol><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/ycacqs7tlx/1588679835373/screenshot-2020-05-05-at-5-26-54-pm.png" style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure></li><li>Select the <strong>Git Connector</strong>.</li><li>Select either <strong>Use latest commit from branch</strong> or <strong>Use specific commit ID.</strong><br/>- If you select <strong>Use</strong> <strong>latest commit from branch</strong>, enter the branch name where the file is located, such as <code>master</code>, <code>dev</code>, or <code>myAppName</code>. Do not provide the full URL to the branch.<br/>- If you select <strong>Use specific commit ID</strong>, enter the commit ID.</li><li>In <strong>File path</strong>, enter the full path to the file in the repo.</li><li>Click <strong>Submit</strong>.</li></ol><h3>Option: OpenShift Template for All Services</h3><ol><li>In <strong>Service</strong>, select <strong>All Services</strong>.</li><li>In <strong>Override Type</strong>, select <strong>OpenShift Param</strong>.</li><li>Select <strong>Inline</strong> or <strong>Remote</strong>.<ol><li>If you select <strong>Inline,</strong> then enter the value inline. If you select <strong>Remote</strong>, perform the following steps.</li></ol><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/ycacqs7tlx/1588676781533/screenshot-2020-05-05-at-4-35-24-pm.png" style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure></li><li>Select the <strong>Git Connector</strong>.</li><li>Select either <strong>Use latest commit from branch</strong> or <strong>Use specific commit ID.</strong><br/>- If you select <strong>Use</strong> <strong>latest commit from branch</strong>, enter the branch name where the file is located, such as <code>master</code>, <code>dev</code>, or <code>myAppName</code>. Do not provide the full URL to the branch.<br/>- If you select <strong>Use specific commit ID</strong>, enter the commit ID.</li><li>In <strong>File path</strong>, enter the full path to the file in the repo.</li><li>Click <strong>Submit</strong>.</li></ol><h3>Next Steps</h3><ul><li><a href="/article/wnr5n847b1-kubernetes-overview">Kubernetes Deployments Overview</a></li></ul><p></p>