type: article
article_id: nf19np91sg
user_id: mfr0nxh4be
category_id: cwefyz0jos
author:
  name: Michael Cretzman
  profile_image: https://www.gravatar.com/avatar/2e8616837f4ee92be5d19ffe9b9ccba9?d=mm&s=150
title: View the Delegates Used in a Deployment
slug: view-the-delegates-used-in-a-deployment
description: This content is for Harness FirstGen. Switch to NextGen. Each task performed
  by a Harness deployment is assigned to a Delegate. Knowing which Delegate was used
  for a task can be useful when diagnosin…
short_version: This content is for Harness FirstGen. Switch to NextGen. Each task
  performed by a Harness deployment is assigned to a Delegate. Knowing which Delegate
  was used for a task can be useful when diagnosin…
tags: []
show_toc: true
is_private: false
is_published: true
is_featured: false
stale_status:
  is_stale: false
  reason: Article updated
  source: API
  triggered_at: 2022-07-18T21:04:47.467523Z
  expires_at: null
permission_groups: []
multilingual:
- language_code: en
  title: View the Delegates Used in a Deployment
  description: ""
  short_version: ""
  body: '<p></p><div class="tip-callout">This content is for Harness <a href="/article/1fjmm4by22">FirstGen</a>.
    Switch to <a href="/article/0slo2gklsy">NextGen</a>.</div><p>Each task performed
    by a Harness deployment is assigned to a Delegate. Knowing which Delegate was
    used for a task can be useful when diagnosing issues, or when planning on infrastructure
    changes.</p><p>Harness displays which Delegate performed a task in the Deployments
    page. You simply click on a command in a deployment&#39;s graph and select <strong>View
    Delegate Selection</strong> in its details.</p><p>This topic will walk you through
    the process.</p><p></p><h3>Before You Begin</h3><ul><li> <a href="/article/4o7oqwih6h-harness-key-concepts">Harness
    Key Concepts</a></li><li> <a href="/article/h9tkwmkrm7-delegate-installation">Delegate
    Installation and Management</a></li></ul><p></p><h3>Visual Summary</h3><p>The
    following illustration shows you how to view Delegate selection for each deployment
    task:</p><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/nf19np91sg/1591650849669/image.png"/></figure><ol><li>Select
    a command in the deployment graph.</li><li>Click the <em>more options</em> button
    (<strong>︙</strong>) in the command&#39;s details</li><li>Select <strong>View
    Delegate Selection</strong>.</li><li>Click the Delegate name to see the Delegate
    on the <strong>Harness Delegates</strong> page.</li></ol><p></p><h3>Review: How
    Does Harness Pick Delegates?</h3><p>When a task is ready to be assigned, the Harness
    Manager first validates its list of Delegates to see which Delegate should be
    assigned the task.</p><p>The following information describes how the Harness Manager
    validates and assigns tasks to a Delegate:</p><ul><li><strong>Heartbeats</strong> -
    Running Delegates send heartbeats to the Harness Manager in 1 minute intervals.
    If the Manager does not have a heartbeat for a Delegate when a task is ready to
    be assigned, it will not assign the task to that Delegate.</li><li><strong>Selectors
    and Scoping</strong> - For more information, see  <a href="/article/h9tkwmkrm7-delegate-installation#delegate_selectors">Delegate
    Selectors</a> and  <a href="/article/h9tkwmkrm7-delegate-installation#delegate_scope">Delegate
    Scope</a>.</li><li><strong>Whitelisting</strong> - Once a Delegate has been validated
    for a task, it is whitelisted for that task and will likely be used again for
    that task. The whitelisting criteria is the URL associated with the task, such
    as a connection to a cloud platform, repo, or API. A Delegate is whitelisted for
    all tasks using that URL. The Time-To-Live (TTL) for the whitelisting is 6 hours,
    and the TTL is reset with each successful task validation.</li><li><strong>Blacklisting</strong> -
    If a Delegate fails to perform a task that Delegate is blacklisted for that task
    and will not be tried again. TTL is 5 minutes. This is true if there is only one
    Delegate and even if the Delegate is selector for that task with a Selector, such
    as with a Shell Script command in a Workflow.</li></ul><h3>Step 1: Select a Deployment
    Command</h3><p>In Harness, click <strong>Continuous Deployment</strong> to see
    the Harness <strong>Deployments</strong> page.</p><p>Click on a <strong>deployment</strong>.
    You can use the filter options to located specific deployments by Tag, Application
    name, date range, and so on.</p><p>In the deployment, click a command. The details
    for the command appear.</p><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/nf19np91sg/1591648901164/image.png"
    style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure><h3>Step
    2: Select View Delegate Selection</h3><p>In the details pane for the command,
    click the more options button (<strong>︙</strong>) and select <strong>View Delegate
    Selection</strong>.</p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/nf19np91sg/1591648868750/image.png"
    style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure><p></p><p></p><h3>Step
    3: View the Delegate Selection for the Command</h3><p>The Delegate selection information
    contains the Delegate(s) used for the command, their assessment (Selected, etc),
    details about how the Delegate was used, and the timestamp of the log entry.</p><p></p><figure><img
    src="https://files.helpdocs.io/kw8ldg1itf/articles/nf19np91sg/1591401009532/image.png"/></figure><p>The
    <strong>Assessment</strong> and <strong>Details</strong> sections explain why
    a Delegate was or wasn&#39;t selected.</p><h4>Delegate selection logs do not apply</h4><p>If
    you see the message <code>Delegate selection logs do not apply</code>, it means
    that the Workflow step does not require a Delegate or that there is no information
    in the database.</p><h3>Step 4: View the Delegate Status and Settings</h3><p>In
    the <strong>Delegate</strong> column you will see the Delegate name. You can click
    the name to go to the Harness Delegates page and see the Delegates.</p><p></p><figure><img
    src="https://files.helpdocs.io/kw8ldg1itf/articles/nf19np91sg/1591650312072/image.png"/></figure><h3>Limitations</h3><p>Full
    support for all Workflow steps will be added soon. A tooltip in <strong>View Delegate
    Selection</strong> will indicate any currently unsupported Workflow steps.</p><h3>Deployments
    Prior to Enabling View Delegate Selection</h3><p>For deployments that occurred
    before the View Delegate Selection feature was enabled, you will see the message
    <code>There are no records available</code>:</p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/nf19np91sg/1594317421900/image.png"
    style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure><p>After
    View Delegate Selection is enabled (the Feature Flag is removed), <u>only subsequent
    deployments</u> will display Delegate selection records for supported steps.</p>'
  slug: view-the-delegates-used-in-a-deployment
  tags: []
  is_live: true
