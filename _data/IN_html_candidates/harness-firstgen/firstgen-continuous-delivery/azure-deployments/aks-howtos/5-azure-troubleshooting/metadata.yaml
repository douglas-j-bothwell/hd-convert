type: article
article_id: mesbafbntm
user_id: mfr0nxh4be
category_id: mkyr84ulx3
author:
  name: Michael Cretzman
  profile_image: https://www.gravatar.com/avatar/2e8616837f4ee92be5d19ffe9b9ccba9?d=mm&s=150
title: 5 - Azure ACR to AKS Troubleshooting
slug: 5-azure-troubleshooting
description: General troubleshooting steps for Azure AKS (Azure Kubernetes Service)
  deployments.
short_version: General troubleshooting steps for Azure AKS deployments.
tags:
- Azure
- Troubleshooting
- createImagePullSecret
show_toc: false
is_private: false
is_published: true
is_featured: false
stale_status:
  is_stale: false
  reason: Article updated
  source: API
  triggered_at: 2022-07-18T22:29:24.414571Z
  expires_at: null
permission_groups: []
multilingual:
- language_code: en
  title: 5 - Azure ACR to AKS Troubleshooting
  description: General troubleshooting steps for Azure AKS (Azure Kubernetes Service)
    deployments.
  short_version: General troubleshooting steps for Azure AKS deployments.
  body: '<div class="tip-callout">This content is for Harness <a href="/article/1fjmm4by22">FirstGen</a>.
    Switch to <a href="/article/m7nkbph0ac">NextGen</a>.</div><p></p><p>The following
    troubleshooting steps should help address common issues.</p><h4>Failed to pull
    image</h4><p>Kubernetes might fail to pull the Docker image set up in your Service:</p><pre>Event  :
    Pod   harness-example-deployment-6b8794c59-2z99v   Error: ErrImagePull   Failed<br/>Event  :
    Pod   harness-example-deployment-6b8794c59-2z99v   Failed to pull image <br/>&#34;harnessexample.azurecr.io/todolist-sample:latest&#34;:
    rpc error: code = Unknown desc = Error response from daemon: <br/>Get https://harnessexample.azurecr.io/v2/todolist-sample/manifests/latest:
    unauthorized: authentication required   Failed</pre><p>This is caused by the <code>createImagePullSecret</code>
    setting set to <code>false</code> in the values.yaml file in Service <strong>Manifests</strong>.</p><p>To
    fix this, set the <code>createImagePullSecret</code> setting set to <code>true</code>,
    as described in <a href="https://docs.harness.io/article/jjd1wrre7g-2-service-and-artifact-source#modify_image_pull_secret">Modify
    ImagePullSecret</a>:</p><pre>createImagePullSecret: true</pre><h3>Next Steps</h3><ul><li><a
    href="/category/n03qfofd5w-kubernetes-deployments">Kubernetes Deployments</a></li><li><a
    href="/article/au38zpufhr-secret-management">Secrets Management</a></li><li><a
    href="/article/myw4h9u05l-verification-providers-list">Continuous Verification</a></li></ul><p></p>'
  slug: 5-azure-troubleshooting
  tags:
  - Azure
  - Troubleshooting
  - createImagePullSecret
  is_live: true
