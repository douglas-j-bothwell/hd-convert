<p>This topic describes how to add your Azure ARM templates to Harness using Harness <u>Infrastructure Provisioners</u>. This involves providing the Git repo location of the ARM template and setting its scope in Harness.</p><p>Once you&#39;ve added the template as an Infrastructure Provisioner, you can do the following:</p><ul><li><strong>Target the Azure infrastructure:</strong> use the Infrastructure Provisioner in a Harness Infrastructure Definition. Next, you add this Infrastructure Definition to a Workflow to define the ARM template&#39;s resources as the target infrastructure for the deployment. See <a href="/article/idqiy49prl-target-azure-arm-or-blueprint-provisioned-infrastructure">Target an Azure ARM Provisioned Infrastructure</a>.</li><li><strong>Provision the Azure infrastructure:</strong> use the Infrastructure Provisioner in a Harness Workflow to provision the Azure resources. This will run your ARM template and create its Azure resources. These resources could be the target infrastructure for a deployment from the Infrastructure Definition or simply other Azure resources. See <a href="/article/qlvrdq7uv6-provision-using-the-arm-blueprint-create-resource-step">Provision using a Harness ARM Infrastructure Provisioner</a>.</li></ul><p>In this topic:</p><ul><li><a href="#before_you_begin">Before You Begin</a></li><li><a href="#visual_summary">Visual Summary</a></li><li><a href="#undefined">Supported Platforms and Technologies</a></li><li><a href="#step_1_add_harness_delegate">Step 1: Add Harness Delegate</a></li><li><a href="#step_2_add_source_source_provider">Step 2: Add Source Source Provider</a></li><li><a href="#step_3_add_the_infrastructure_provisioner">Step 3: Add the Infrastructure Provisioner</a></li><li><a href="#configure_as_code">Configure As Code</a></li></ul><p></p><h3>Before You Begin</h3><ul><li>Get an overview of provisioning with ARM in <a href="/article/c7bzn7vjwn-azure-arm-and-blueprint-provision-with-harness">Azure ARM and Blueprint Provisioning with Harness</a>.</li><li><a href="/article/l3do0np70h-set-up-your-harness-account-for-azure-arm">Set Up Your Harness Account for Azure ARM</a></li><li><a href="/article/o22jx8amxb-add-an-infra-provisioner">Infrastructure Provisioners Overview</a></li></ul><h3>Visual Summary</h3><p>The following video shows you how to add an ARM template from <a href="https://github.com/Azure/azure-quickstart-templates" target="_blank">Azure&#39;s ARM templates GitHub account</a> to Harness as a Harness Infrastructure Provisioner.</p><div class="hd--embed" data-provider="YouTube" data-thumbnail="https://i.ytimg.com/vi/R7F6NZUEaZQ/hqdefault.jpg"><iframe width="200" height="150" src="https://www.youtube.com/embed/R7F6NZUEaZQ?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div><p></p><h3 id="undefined">Supported Platforms and Technologies</h3><p>See <a href="/article/220d0ojx5y-supported-platforms">Supported Platforms and Technologies</a>.</p><h3>Step 1: Add Harness Delegate</h3><p>Make sure you have set up a Harness Delegate as described in <a href="/article/l3do0np70h-set-up-your-harness-account-for-azure-arm">Set Up Your Harness Account for Azure ARM</a>.</p><p>The Delegate must be able to connect to your Git provider to add the ARM template, and to pull it at deployment runtime.</p><h3>Step 2: Add Source Source Provider</h3><p>Harness Source Repo Providers connect your Harness account with your Git platform accounts.</p><p>For Azure ARM templates, you add a Harness Source Repo Provider and connect it to the Git repo for your ARM templates.</p><p>For steps on setting up a Source Repo Provider, see <a href="/article/ay9hlwbgwa-add-source-repo-providers">Add Source Repo Providers</a>.</p><p>For example, here an Azure ARM template created my Azure and hosted on Harness&#39; Docs repo at <code>https://github.com/wings-software/harness-docs/101-vm-simple-windows/azuredeploy.json</code>.</p><p>Here is a Harness Source Repo Provider that uses the URL of the repo and the master branch:</p><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/naj2d3ra4n/1644347841066/clean-shot-2022-02-08-at-11-17-03.png"/></figure><p>Next, you use this Source Repo Provider as the source of your Harness Infrastructure Provisioner.</p><h3>Step 3: Add the Infrastructure Provisioner</h3><p>In your Harness Application, click <strong>Infrastructure Provisioners</strong>.</p><p>Click <strong>Add Infrastructure Provisioner</strong>, and then click <strong>ARM Template</strong>.</p><p>In <strong>Azure Resource Type</strong>, click <strong>ARM</strong>.</p><p>Enter a name and description.</p><p>In <strong>Scope</strong>, enter the scope for the template. The schema link in the template identifies the template scope:</p><ul><li>Resource group: <code>&#34;$schema&#34;: &#34;https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#&#34;</code></li><li>Subscription: <code>&#34;$schema&#34;: &#34;https://schema.management.azure.com/schemas/2018-05-01/subscriptionDeploymentTemplate.json#&#34;</code></li><li>Management group: <code>&#34;$schema&#34;: &#34;https://schema.management.azure.com/schemas/2019-08-01/managementGroupDeploymentTemplate.json#&#34;</code></li><li>Tenant: <code>&#34;$schema&#34;: &#34;https://schema.management.azure.com/schemas/2019-08-01/tenantDeploymentTemplate.json#&#34;</code></li></ul><p>In <strong>Source Type</strong>, select <strong>Git Repository</strong> or <strong>Template Body</strong>.</p><p>If you select <strong>Template Body</strong>, paste the template in <strong>Template Body</strong>, and click <strong>Submit</strong>.</p><div class="note-callout">If you are using templates from a third-party, ensure that the templates are formatted correctly.</div><p>If you select <strong>Git Repository</strong>, select the Harness Source Repo Provider you set up to connect Harness to your Git repo.</p><p>In <strong>Commit</strong>, enter the branch or commit ID for the repo.</p><p>Enter the branch name or commit ID.</p><p>In <strong>File Path</strong>, enter path to the template JSON file in the Git repo. You don&#39;t need to enter the repo name, as that is set up in the Harness Source Repo Provider.</p><p>Let&#39;s look at an example:</p><ul><li>I have a Harness Source Repo Provider for the repo <code>https://github.com/wings-software/harness-docs</code>.</li><li>My template is located at <code>https://github.com/wings-software/harness-docs/blob/main/101-vm-simple-windows/azuredeploy.json</code>.</li><li>In <strong>File Path</strong>, I enter <code>101-vm-simple-windows/azuredeploy.json</code>.</li></ul><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/naj2d3ra4n/1644348310406/clean-shot-2022-02-08-at-11-24-50.png"/></figure><p>Click <strong>Submit</strong>.</p><p>The Infrastructure Provisioner is added.</p><p>Now you can use the Infrastructure Provisioner, you can:</p><ul><li><strong>Target the Azure infrastructure:</strong> use the Infrastructure Provisioner in a Harness Infrastructure Definition. Next, you add this Infrastructure Definition to a Workflow to define the ARM template&#39;s resources as the target infrastructure for the deployment. See <a href="/article/idqiy49prl-target-azure-arm-or-blueprint-provisioned-infrastructure">Target an Azure ARM Provisioned Infrastructure</a>.</li><li><strong>Provision the Azure infrastructure:</strong> use the Infrastructure Provisioner in a Harness Workflow to provision the Azure resources. This will run your ARM template and create its Azure resources. These resources could be the target infrastructure for a deployment or simply other Azure resources. See <a href="/article/qlvrdq7uv6-provision-using-the-arm-blueprint-create-resource-step">Provision using a Harness ARM Infrastructure Provisioner</a>.</li></ul><h3>Configure As Code</h3><p>To see how to configure the settings in this topic using YAML, configure the settings in the UI first, and then click the YAML editor button (<span style="color:#fb9e00" data-hd-color="#fb9e00"><strong>&lt;/&gt;</strong></span>).</p><p></p>