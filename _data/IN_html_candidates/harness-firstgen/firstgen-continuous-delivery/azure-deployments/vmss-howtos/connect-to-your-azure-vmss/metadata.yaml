type: article
article_id: d5hob1zuip
user_id: mfr0nxh4be
category_id: 4o8zim2tfr
author:
  name: Michael Cretzman
  profile_image: https://www.gravatar.com/avatar/2e8616837f4ee92be5d19ffe9b9ccba9?d=mm&s=150
title: Connect to Azure for VMSS Deployments
slug: connect-to-your-azure-vmss
description: Currently, this feature is behind the Feature Flag AZURE_VMSS. Contact
  Harness Support to enable the feature.. You connect Harness to your Azure account
  to deploy virtual machine scale sets using a H…
short_version: Currently, this feature is behind the Feature Flag AZURE_VMSS. Contact
  Harness Support to enable the feature.. You connect Harness to your Azure account
  to deploy virtual machine scale sets using a H…
tags: []
show_toc: true
is_private: false
is_published: true
is_featured: false
stale_status:
  is_stale: false
  reason: Article updated
  source: API
  triggered_at: 2021-11-15T22:36:21.856617Z
  expires_at: null
permission_groups: []
multilingual:
- language_code: en
  title: Connect to Azure for VMSS Deployments
  description: ""
  short_version: ""
  body: '<p></p><div class="note-callout">Currently, this feature is behind the Feature
    Flag <code>AZURE_VMSS</code>. Contact <a href="https://mail.google.com/mail/?view=cm&amp;fs=1&amp;tf=1&amp;to=support@harness.io"
    target="_blank">Harness Support</a> to enable the feature. </div><p></p><p>You
    connect Harness to your Azure account to deploy <a href="https://docs.microsoft.com/en-us/azure/virtual-machine-scale-sets/overview"
    target="_blank">virtual machine scale sets</a> using a Harness Azure Cloud Provider.</p><p>In
    this topic:</p><ul><li> <a href="#before_you_begin">Before You Begin</a></li><li>
    <a href="#undefined">Supported Platforms and Technologies</a></li><li> <a href="#review_azure_connection_options">Review:
    Azure Connection Options</a></li><li> <a href="#step_1_install_a_harness_delegate">Step
    1: Install a Harness Delegate</a></li><li> <a href="#step_2_set_up_the_azure_cloud_provider">Step
    2: Set Up the Azure Cloud Provider</a></li><li> <a href="#next_steps">Next Steps</a></li></ul><h3>Before
    You Begin</h3><ul><li> <a href="/article/1h0723zsvm-azure-virtual-machine-scale-set-deployments">Azure
    Virtual Machine Scale Set Deployments Overview</a></li><li> <a href="/article/h9tkwmkrm7-delegate-installation">Harness
    Delegate Overview</a></li><li> <a href="/article/4o7oqwih6h-harness-key-concepts">Harness
    Key Concepts</a></li></ul><h3 id="undefined">Supported Platforms and Technologies</h3><p>See 
    <a href="/article/220d0ojx5y-supported-platforms">Supported Platforms and Technologies</a>.</p><h3>Review:
    Azure Connection Options</h3><p>As covered in <a href="/article/4o7oqwih6h-harness-key-concepts">Harness
    Key Concepts</a>, you need to install a Harness Delegate in your target infrastructure
    before setting up your Harness deployment.</p><p>There are several types of Delegates
    you can use for a virtual machine scale set deployment, described in <a href="/article/igftn7rrtg-delegate-installation-overview">Delegate
    Installation Overview</a>.</p><p>Shell Script, Docker, Kubernetes, and Helm Delegates
    are all options.</p><p>The simplest option for most users is to install the Harness
    Shell Script Delegate on a VM in the same resource group, virtual network, and
    subnet where your virtual machine scale set will be deployed.</p><h3>Step 1: Install
    a Harness Delegate</h3><p>Follow the installation steps for the Harness Delegate
    you want to install. See <a href="/article/igftn7rrtg-delegate-installation-overview">Delegate
    Installation Overview</a> for the available options.</p><p>Ensure this Delegate
    is in or can connect to the resource group, virtual network, and subnet where
    your virtual machine scale set will be deployed.</p><h3>Step 2: Set Up the Azure
    Cloud Provider</h3><p>A Harness Azure Cloud Provider connects to your Azure using
    your Client ID and Tenant ID.</p><p>Follow the steps in <a href="/article/4n3595l6in-add-microsoft-azure-cloud-provider">Add
    Microsoft Azure Cloud Provider</a> to connect Harness to Azure.</p><p>That&#39;s
    all the setup you need to connect Harness to your account and start your virtual
    machine scale set deployment.</p><p>A virtual machine scale set deployment uses
    an Azure Shared Image Gallery and image. Access to those resources use the same
    Azure Cloud Provider.</p><h3>Next Steps</h3><ul><li> <a href="/article/c43hmoj6ic-add-your-azure-vm-image-for-deployment">Add
    Your Azure VM Image for Deployment</a></li></ul><h3>See Also</h3><p>See the following
    docs from Azure:</p><ul><li><a href="https://docs.microsoft.com/en-us/azure/virtual-machines/troubleshooting-shared-images"
    target="_blank">Troubleshooting shared image galleries in Azure</a></li><li><a
    href="https://docs.microsoft.com/en-us/azure/virtual-machines/windows/shared-image-galleries"
    target="_blank">Shared Image Gallery overview</a></li><li><a href="https://docs.microsoft.com/en-us/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-faq"
    target="_blank">Azure virtual machine scale sets FAQs</a></li></ul><p></p>'
  slug: connect-to-your-azure-vmss
  tags: []
  is_live: true
