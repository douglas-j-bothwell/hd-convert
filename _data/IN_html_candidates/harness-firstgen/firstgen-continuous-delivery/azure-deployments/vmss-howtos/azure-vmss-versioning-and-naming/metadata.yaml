type: article
article_id: w67zx6mv87
user_id: mfr0nxh4be
category_id: 4o8zim2tfr
author:
  name: Michael Cretzman
  profile_image: https://www.gravatar.com/avatar/2e8616837f4ee92be5d19ffe9b9ccba9?d=mm&s=150
title: Azure VMSS Versioning and Naming
slug: azure-vmss-versioning-and-naming
description: Currently, this feature is behind the Feature Flag AZURE_VMSS. Contact
  Harness Support to enable the feature.. In this topic, we cover how Harness names,
  tags, and versions the VMSS and instances you…
short_version: Currently, this feature is behind the Feature Flag AZURE_VMSS. Contact
  Harness Support to enable the feature.. In this topic, we cover how Harness names,
  tags, and versions the VMSS and instances you…
tags: []
show_toc: true
is_private: false
is_published: true
is_featured: false
stale_status:
  is_stale: false
  reason: Article updated
  source: API
  triggered_at: 2021-11-15T22:34:21.271794Z
  expires_at: null
permission_groups: []
multilingual:
- language_code: en
  title: Azure VMSS Versioning and Naming
  description: ""
  short_version: ""
  body: <p></p><div class="note-callout">Currently, this feature is behind the Feature
    Flag <code>AZURE_VMSS</code>. Contact <a href="https://mail.google.com/mail/?view=cm&amp;fs=1&amp;tf=1&amp;to=support@harness.io"
    target="_blank">Harness Support</a> to enable the feature. </div><p></p><p>In
    this topic, we cover how Harness names, tags, and versions the VMSS and instances
    you deploy.</p><p>In this topic:</p><ul><li><a href="#before_you_begin">Before
    You Begin</a></li><li><a href="#vmss_and_instance_names">VMSS and Instance Names</a></li><li><a
    href="#harness_revision_tags">Harness Revision Tags</a></li></ul><h3>Before You
    Begin</h3><ul><li> <a href="/article/74htogyjad-create-an-azure-vmss-basic-deployment">Create
    an Azure VMSS Basic Deployment</a></li><li> <a href="/article/ebq6gwgs5r-create-an-azure-vmss-canary-deployment">Create
    an Azure VMSS Canary Deployment</a></li><li> <a href="/article/9op1u6dgks-create-an-azure-vmss-blue-green-deployment">Create
    an Azure VMSS Blue/Green Deployment</a></li><li> <a href="/article/1h0723zsvm-azure-virtual-machine-scale-set-deployments">Azure
    Virtual Machine Scale Set Deployments Overview</a></li><li> <a href="/article/2976rmk4kd-define-your-azure-vmss-target-infrastructure">Define
    Your Azure VMSS Target Infrastructure</a></li><li> <a href="/article/c43hmoj6ic-add-your-azure-vm-image-for-deployment">Add
    Your Azure VM Image for Deployment</a></li><li> <a href="/article/d5hob1zuip-connect-to-your-azure-vmss">Connect
    to Your Azure VMSS</a></li><li> <a href="/article/h9tkwmkrm7-delegate-installation">Harness
    Delegate Overview</a></li><li> <a href="/article/4o7oqwih6h-harness-key-concepts">Harness
    Key Concepts</a></li></ul><h3>VMSS and Instance Names</h3><p>The VMSS and its
    new instances created by Harness are named using the VMSS name you entered in
    the <strong>Azure Virtual Machine Scale Set Setup</strong> Workflow step, and
    given an incremental suffix.</p><p>For example, if the VMSS is named <code>doc__basic</code>,
    the first instance is named <code>doc__basic__1</code>, and the second <code>doc__basic__2</code>.</p><p>Each
    subsequent deployment using the same Harness Infrastructure Definition will increment
    the suffix on the name of the deployed VMSS, regardless of the name of VMSS.</p><p>For
    example, here are three VMSS deployments:</p><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/74htogyjad/1602700829023/image.png"/></figure><p>The
    first two <code>doc__basic</code> deployments are Basic Workflows and the <code>doc__canary</code>
    VMSS is a Canary Workflow. The <code>doc__canary</code> VMSS has the suffix <code>__3</code>
    because it used the same Infrastructure Definition as the <code>doc__basic</code>
    Workflows.</p><h3>Harness Revision Tags</h3><p>Harness adds three Azure tags to
    each VMSS it deploys. These tags are used for revision tracking.</p><div class="warning-callout">Do
    not delete these tags.</div><p>You can see the tags on the VMSS:</p><figure><img
    src="https://files.helpdocs.io/kw8ldg1itf/articles/74htogyjad/1602629635220/image.png"/></figure><p>The
    tags are:</p><ul><li><code>HARNESS_REVISION</code> — The unique revision number
    of the VMSS, with an incremental suffix.</li><li><code>Name</code> — The name
    of the VMSS, with an incremental suffix.</li><li><code>Created</code> — The timestamp
    of the VMSS creation.</li></ul><p>With each deployment of a VMSS using the same
    Harness Infrastructure Definition, the suffixes of <code>HARNESS_REVISION</code>
    and <code>Name</code> tags are incremented:</p><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/74htogyjad/1602629600479/image.png"/></figure><p></p><p></p>
  slug: azure-vmss-versioning-and-naming
  tags: []
  is_live: true
