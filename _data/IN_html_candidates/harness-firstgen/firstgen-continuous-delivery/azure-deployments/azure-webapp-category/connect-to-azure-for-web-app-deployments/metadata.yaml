type: article
article_id: e9k7ngaqiu
user_id: mfr0nxh4be
category_id: mfdyp6tf0v
author:
  name: Michael Cretzman
  profile_image: https://www.gravatar.com/avatar/2e8616837f4ee92be5d19ffe9b9ccba9?d=mm&s=150
title: Connect to Azure and Artifact Repo for Your Web App Deployments
slug: connect-to-azure-for-web-app-deployments
description: Currently, this feature is behind the Feature Flag AZURE_WEBAPP. Contact
  Harness Support to enable the feature. You connect Harness to your Azure account
  to deploy Azure Web Apps. You make the connec…
short_version: Currently, this feature is behind the Feature Flag AZURE_WEBAPP. Contact
  Harness Support to enable the feature. You connect Harness to your Azure account
  to deploy Azure Web Apps. You make the connec…
tags: []
show_toc: true
is_private: false
is_published: true
is_featured: false
stale_status:
  is_stale: false
  reason: Article updated
  source: API
  triggered_at: 2022-01-26T22:25:11.666962Z
  expires_at: null
permission_groups: []
multilingual:
- language_code: en
  title: Connect to Azure and Artifact Repo for Your Web App Deployments
  description: ""
  short_version: ""
  body: '<p></p><div class="note-callout">Currently, this feature is behind the Feature
    Flag <code>AZURE_WEBAPP</code>. Contact <a href="https://mail.google.com/mail/?view=cm&amp;fs=1&amp;tf=1&amp;to=support@harness.io"
    target="_blank">Harness Support</a> to enable the feature.</div><p>You connect
    Harness to your Azure account to deploy Azure Web Apps. You make the connection
    using a Harness Cloud Provider.</p><p>You deploy your Web App using a Docker image
    or non-containerized artifact. You connect to your image or artifact&#39;s repo
    using a Harness Artifact Server or Cloud Provider (for AWS S3 or Azure ACR). </p><p>In
    this topic:</p><ul><li><a href="#before_you_begin">Before You Begin</a></li><li><a
    href="#supported_platforms_and_technologies">Supported Platforms and Technologies</a></li><li><a
    href="#review_azure_connection_options">Review: Azure Connection Options</a></li><li><a
    href="#step_1_install_a_harness_delegate">Step 1: Install a Harness Delegate</a></li><li><a
    href="#step_2_set_up_the_azure_cloud_provider">Step 2: Set Up the Azure Cloud
    Provider</a></li><li><a href="#step_3_set_up_the_harness_artifact_server">Step
    3: Set Up the Harness Artifact Server</a></li><li><a href="#next_steps">Next Steps</a></li><li><a
    href="#see_also">See Also</a></li></ul><h3>Before You Begin</h3><ul><li><a href="/article/lluikqw7q7-azure-web-app-deployments-overview">Azure
    Web App Deployments Overview</a></li><li><a href="/article/h9tkwmkrm7-delegate-installation">Harness
    Delegate Overview</a></li><li><a href="/article/4o7oqwih6h-harness-key-concepts">Harness
    Key Concepts</a></li></ul><h3>Supported Platforms and Technologies</h3><p>See  <a
    href="/article/220d0ojx5y-supported-platforms">Supported Platforms and Technologies</a>.</p><h3>Review:
    Azure Connection Options</h3><p>As covered in <a href="/article/4o7oqwih6h-harness-key-concepts">Harness
    Key Concepts</a>, you need to install a Harness Delegate in your infrastructure
    before setting up your Harness deployment.</p><p>There are several types of Delegates
    you can use for an Azure App Service deployment, described in <a href="/article/igftn7rrtg-delegate-installation-overview">Delegate
    Installation Overview</a>.</p><p>Shell Script, Docker, Kubernetes, and Helm Delegates
    are all options.</p><h3>Step 1: Install a Harness Delegate</h3><p>Follow the installation
    steps for the Harness Delegate you want to install. See <a href="/article/igftn7rrtg-delegate-installation-overview">Delegate
    Installation Overview</a> for the available options.</p><p>Make sure this Delegate
    is in, or can connect to, the resource group for your Azure Web App.</p><h3>Step
    2: Set Up the Azure Cloud Provider</h3><p>A Harness Azure Cloud Provider connects
    to your Azure subscription using your Client ID and Tenant ID.</p><p>Follow the
    steps in <a href="/article/4n3595l6in-add-microsoft-azure-cloud-provider">Add
    Microsoft Azure Cloud Provider</a> to connect Harness to Azure.</p><p>That&#39;s
    all the setup you need to connect Harness to your account and start your deployment.</p><div
    class="note-callout">If you store the Docker image in Azure Container Registry,
    then you can use this Azure Cloud Provider you set up and skip the next step.</div><h3>Step
    3: Set Up the Harness Artifact Server</h3><div class="note-callout">If you store
    the Docker image in Azure Container Registry, then you can use the Azure Cloud
    Provider you set up and skip the Artifact Server setup.</div><p>A Harness Azure
    Web App deployment uses a Docker image or non-containerized artifact. You connect
    Harness to the same repo you use in your Web App in Azure. You made this connection
    using a Harness Artifact Server or Cloud Provider.</p><p>The Harness Azure Web
    Application Service type supports the following repos:</p><p></p><ul><li><strong>Docker
    Registry:</strong> see <a href="/article/tdj2ghkqb0-add-docker-registry-artifact-servers">Add
    Docker Registry Artifact Servers</a>.</li><li><strong>Artifactory:</strong> see
    <a href="/article/nj3p1t7v3x-add-artifactory-servers">Add Artifactory Servers</a>.</li><li><strong>Azure
    Container Registry:</strong> see <a href="/article/4n3595l6in-add-microsoft-azure-cloud-provider">Add
    Microsoft Azure Cloud Provider</a>. You can use the Azure Cloud Provider you set
    up in the previous step.</li><li><strong>Amazon S3:</strong> see <a href="/article/wt1gnigme7-add-amazon-web-services-cloud-provider">Add
    Amazon Web Services (AWS) Cloud Provider</a>.</li><li><strong>Jenkins:</strong>
    see <a href="/article/qa7lewndxq-add-jenkins-artifact-servers">Add Jenkins Artifact
    Servers</a>.</li></ul><p>For example, here are the Docker Hub settings in an Azure
    Web App:</p><div class="note-callout">Container Settings is deprecated and will
    be removed in March of 2021. The Deployment Center replaces it. Both options are
    below.</div><p></p><table><tbody><tr><td><p><strong>Container Settings</strong></p></td><td><p><strong>Deployment
    Center</strong></p></td></tr><tr><td><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/e9k7ngaqiu/1611873166606/image.png"/></figure></td><td><figure><img
    src="https://files.helpdocs.io/kw8ldg1itf/articles/e9k7ngaqiu/1611873098987/image.png"/></figure></td></tr></tbody></table><p></p><p>Here&#39;s
    the Harness <a href="/article/tdj2ghkqb0-add-docker-registry-artifact-servers">Docker
    Registry Artifact Server</a>:</p><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/e9k7ngaqiu/1611872765502/image.png"
    style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure><p>The
    above example uses a public repo, and it requires no username or password.</p><p>Later,
    in the Harness Service, you&#39;ll add an Artifact Source that uses this Artifact
    Server and points to the Docker Image Name:</p><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/e9k7ngaqiu/1611872861939/image.png"
    style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure><div
    class="note-callout">The above example uses a <a href="https://hub.docker.com/r/harness/todolist-sample/tags?page=1&amp;ordering=last_updated"
    target="_blank">publicly available Docker image from Harness</a>. You might want
    to use that the first time you set up an Azure Web App deployment.</div><h3>Next
    Steps</h3><ul><li><a href="/article/8s766bhiec-add-your-docker-image-for-azure-web-app-deployment">Add
    Your Docker Image for Azure Web App Deployment</a></li><li><a href="/article/rflkjqxod2-add-a-non-containerized-artifacts-for-azure-web-app-deployment">Add
    Non-Containerized Artifacts for Azure Web App Deployment</a></li></ul><h3>See
    Also</h3><ul><li><a href="https://docs.microsoft.com/en-us/azure/app-service/quickstart-custom-container?pivots=container-linux"
    target="_blank">Run a custom container in Azure</a> from Azure.</li></ul><p></p><p></p>'
  slug: connect-to-azure-for-web-app-deployments
  tags: []
  is_live: true
