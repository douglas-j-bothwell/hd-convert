type: article
article_id: 2n35dber6l
user_id: mfr0nxh4be
category_id: mfdyp6tf0v
author:
  name: Michael Cretzman
  profile_image: https://www.gravatar.com/avatar/2e8616837f4ee92be5d19ffe9b9ccba9?d=mm&s=150
title: Define Your Azure Web App Infrastructure
slug: define-your-azure-web-app-infrastructure
description: Currently, this feature is behind the Feature Flag AZURE_WEBAPP. Contact
  Harness Support to enable the feature. The target Azure environment for your Harness
  Web App deployment is defined in a Harnes…
short_version: Currently, this feature is behind the Feature Flag AZURE_WEBAPP. Contact
  Harness Support to enable the feature. The target Azure environment for your Harness
  Web App deployment is defined in a Harnes…
tags: []
show_toc: true
is_private: false
is_published: true
is_featured: false
stale_status:
  is_stale: false
  reason: Article updated
  source: API
  triggered_at: 2022-08-26T22:51:42.034658Z
  expires_at: null
permission_groups: []
multilingual:
- language_code: en
  title: Define Your Azure Web App Infrastructure
  description: ""
  short_version: ""
  body: '<p></p><div class="note-callout">Currently, this feature is behind the Feature
    Flag <code>AZURE_WEBAPP</code>. Contact <a href="https://mail.google.com/mail/?view=cm&amp;fs=1&amp;tf=1&amp;to=support@harness.io"
    target="_blank">Harness Support</a> to enable the feature.</div><p></p><p>The
    target Azure environment for your Harness Web App deployment is defined in a Harness
    Environment&#39;s Infrastructure Definition.</p><p>You simply select the Web App&#39;s
    Subscription and Resource Group.</p><p>You can also provision the infrastructure
    and Web App as part of your Workflow.</p><h3>Before You Begin</h3><p></p><ul><li><a
    href="/article/lluikqw7q7-azure-web-app-deployments-overview">Azure Web App Deployments
    Overview</a></li><li>Make sure that you have connected Harness to your Azure subscription
    as described in <a href="/article/e9k7ngaqiu-connect-to-azure-for-web-app-deployments">Connect
    to Azure and Artifact Repo for Your Web App Deployments</a>.</li><li><a href="/article/8s766bhiec-add-your-docker-image-for-azure-web-app-deployment">Add
    Your Docker Image for Azure Web App Deployment</a></li><li><a href="/article/rflkjqxod2-add-a-non-containerized-artifacts-for-azure-web-app-deployment">Add
    Non-Containerized Artifacts for Azure Web App Deployment</a></li></ul><h3>Visual
    Summary</h3><p></p><p></p><div class="hd--embed" data-provider="YouTube" data-thumbnail="https://i.ytimg.com/vi/ou_1Xwvw7QQ/hqdefault.jpg"><iframe
    width="200" height="113" src="https://www.youtube.com/embed/ou_1Xwvw7QQ?feature=oembed"
    frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media;
    gyroscope; picture-in-picture" allowfullscreen=""></iframe></div><h3>Supported
    Platforms and Technologies</h3><p>See <a href="/article/220d0ojx5y-supported-platforms">Supported
    Platforms and Technologies</a>.</p><h3>Step 1: Create an Environment</h3><p>In
    your Harness Application, click <strong>Environments</strong>.</p><p>Click <strong>Add
    Environment</strong>.</p><p>Enter a name and select an <strong>Environment Type</strong>
    for your Environment, and click <strong>Submit</strong>.</p><p>The Environment
    Type here doesn&#39;t relate to the production or non-production slots of your
    Web App.</p><p>A Harness Environment Type is simply a way to organize your work
    environments.</p><h3>Step 2: Create an Infrastructure Definition</h3><p>In the
    new Environment, click <strong>Add Infrastructure Definition</strong>.</p><p>Enter
    the following settings:</p><h4>Name</h4><p>Provide a name for the Infrastructure
    Definition. You&#39;ll select this name when defining target infrastructures for
    Workflows and their Phases.</p><h4>Cloud Provider Type</h4><p>Select <strong>Microsoft
    Azure</strong>.</p><h4>Deployment Type</h4><p>Select <strong>Azure Web Application</strong>.</p><h4>Cloud
    Provider</h4><p>Select the Azure Cloud Provider you set up for your Azure Web
    App deployment. The Cloud Provider determines which subscriptions and resource
    groups appear in the other settings.</p><p>See <a href="/article/e9k7ngaqiu-connect-to-azure-for-web-app-deployments">Connect
    to Azure and Artifact Repo for Your Web App Deployments</a>.</p><h4>Subscription</h4><p>Select
    the Azure subscription used by your Web App.</p><p>The subscription is located
    in the Web App <strong>Overview</strong> section of the Azure portal.</p><p></p><figure><img
    src="https://files.helpdocs.io/kw8ldg1itf/articles/2n35dber6l/1611962714393/image.png"/></figure><p></p><h4>Resource
    Group</h4><p>Select the resource group used by your Web App.</p><p>The resource
    group is located in the Web App <strong>Overview</strong> section of the Azure
    portal.</p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/2n35dber6l/1611962563771/image.png"/></figure><p></p><div
    class="note-callout">Within the same resource group, you can&#39;t mix Windows
    and Linux apps in the same region. See <a href="https://docs.microsoft.com/en-us/azure/app-service/overview#limitations"
    target="_blank">Limitations</a> from Azure.</div><h3>Option 1: Scope to Specific
    Services</h3><p>The <strong>Scope to specific Services</strong> setting in the
    Infrastructure Definition enables you to scope this Infrastructure Definition
    to specific Harness Services.</p><p>See <a href="/article/v3l3wqovbe-infrastructure-definitions">Add
    an Infrastructure Definition</a>.</p><h3>Option: Dynamically Provision Infrastructure</h3><p>You
    can use Terraform scripts to provision the target Azure environment and Web App
    for your Harness Web App deployment.</p><p>See <a href="https://docs.harness.io/article/a2f2bh35el-mapgcp-kube-terraform-infra#option_7_map_an_azure_web_app">Map
    an Azure Web App</a>.</p><h3>Next Steps</h3><ul><li><a href="/article/x0etkdg62q-create-an-azure-web-app-canary-deployment">Create
    an Azure Web App Canary Deployment</a></li><li><a href="/article/qpfddekbax-create-an-azure-web-app-blue-green-deployment">Create
    an Azure Web App Blue/Green Deployment</a></li></ul><p></p><h3>Configure As Code</h3><p>To
    see how to configure the settings in this topic using YAML, configure the settings
    in the UI first, and then click the YAML editor button (<strong>&lt;/&gt;</strong>).</p>'
  slug: define-your-azure-web-app-infrastructure
  tags: []
  is_live: true
