type: article
article_id: duu0gbhejn
user_id: slcpusem6b
category_id: a8jhf8hizv
author:
  name: Archana Singh
  profile_image: https://www.gravatar.com/avatar/e323facc5a711ac44c46e58dcb52aa3e?d=mm&s=150
title: Add a Workflow Notification Strategy
slug: add-notification-strategy-new-template
description: Specify a notification strategy for a Workflow (or for a Workflow phase
  in a Canary or Multi-Service Workflow) that send notifications.
short_version: Specify a notification strategy for a Workflow (or for a Workflow phase
  in a Canary or Multi-Service Workflow) that send notifications.
tags: []
show_toc: true
is_private: false
is_published: true
is_featured: false
stale_status:
  is_stale: false
  reason: Article updated
  source: API
  triggered_at: 2021-11-24T19:03:08.769625Z
  expires_at: null
permission_groups: []
multilingual:
- language_code: en
  title: Add a Workflow Notification Strategy
  description: Specify a notification strategy for a Workflow (or for a Workflow phase
    in a Canary or Multi-Service Workflow) that send notifications.
  short_version: Specify a notification strategy for a Workflow (or for a Workflow
    phase in a Canary or Multi-Service Workflow) that send notifications.
  body: |-
    <p>You can specify a notification strategy for a Workflow (or for a Workflow phase in a Canary or Multi-Service Workflow) that send notifications using different criteria.</p><p>In this topic:</p><ul><li> <a href="#before_you_begin">Before You Begin</a></li><li> <a href="#add_notification">Step: Add Notification</a></li></ul><div class="hd--md" data-hd-markdown="&lt;span id=&#34;before_you_begin&#34;&gt;&lt;/span&gt;"><p><span id="before_you_begin"></span></p>
    </div><h3>Before You Begin</h3><ul><li><a href="/article/o86qyexcab-tags-how-tos">Add a Workflow</a></li></ul><div class="hd--md" data-hd-markdown="&lt;span id=&#34;add_notification&#34;&gt;&lt;/span&gt;"><p><span id="add_notification"></span></p>
    </div><h3>Step: Add Notification</h3><p>To add a notification strategy, do the following:</p><ol><li>In a Workflow, click <strong>Notification Strategy</strong>. The default notification step appears.<figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/m220i1tnia/1533235528973/notification-strategy-default.png"/></figure></li><li>To edit the default strategy, click the pencil icon next to the strategy item.</li><li>To add a new notification strategy, click <strong>Add Notification Strategy</strong>. The <strong>Notification Strategy</strong> settings appear.<figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/m220i1tnia/1580334524648/image.png" style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure><table><tbody><tr><td><p><strong>Field</strong></p></td><td><p><strong>Description</strong></p></td></tr><tr><td><p><strong>Condition</strong></p></td><td><p>Click the drop-down to select the condition that will execute the notification strategy (Failure, Success, Paused). Click all the conditions that apply.</p></td></tr><tr><td><p><strong>Scope</strong></p></td><td><p>Select Workflow or Workflow Phase (for Canary or Multi-Service) as the scope for the condition(s) you selected.</p><ul><li>If you select <strong>Workflow</strong>, it applies to all Workflow settings, including Pre-deployment, Post-deployment, and all Workflow Phases.</li><li>If you select <strong>Workflow Phase</strong>, it applies to Phases only. Pre-deployment, Post-deployment, and any settings outside of the Phases are not used.</li></ul></td></tr><tr><td><p><strong>User Group</strong></p></td><td><div class="note-callout">The default User Group is Account Administrator. You can change this, but it is always the default when a new Workflow is created.</div><p>Select the User Group to notify when the condition is met within the scope. For information on setting up the notification channels for a User Group, see <a href="/article/kf828e347t-notification-groups">User Notifications and Alert Settings</a>.</p><p>You can also enter variable expressions for Workflow variables.</p><p>You could create a Workflow variable named <code>StageOpsAdmin</code> and use that in <strong>User Group</strong>.</p><p>For the <strong>Workflow</strong> and <strong>Workflow Phase</strong> scopes, you can select <a href="/article/766iheu1bk-add-workflow-variables-new-template">Workflow variables</a> using a <code>${workflow.variables.varName}</code> expression.</p><div class="note-callout">You cannot use Service or Environment <strong>Service Variables Overrides</strong> in <strong>User Group</strong>.</div></td></tr></tbody></table></li></ol><h4>Slack Notification Example</h4><p>Once Slack has been configured in the Harness User Group <a href="/article/kf828e347t-notification-groups">Notification Settings</a>, you can add the User Group in the Workflow <strong>Notification Settings</strong>:</p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/m220i1tnia/1584638057214/image.png" style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure><p></p><p>When the Workflow deployment is completed, the Slack channel is notified:</p><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/m220i1tnia/1584638167387/image.png" style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure><p>In the event of a failure, the Slack is notified because we selected <strong>Failure</strong> as a <strong>Condition</strong>.</p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/m220i1tnia/1584638945834/image.png"/></figure><p>Notice that the error message is included in the Slack message. If multiple steps failed, they are included in the message:</p><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/m220i1tnia/1584639018410/image.png"/></figure><p></p><p></p>
  slug: add-notification-strategy-new-template
  tags: []
  is_live: true
