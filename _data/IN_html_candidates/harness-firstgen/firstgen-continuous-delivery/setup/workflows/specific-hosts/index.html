<p>You can choose to deploy to specific hosts when you start or rerun a Workflow whose Service uses the <a href="/article/6pwni5f9el-traditional-deployments-overview">Secure Shell (SSH) Deployment Type</a> or <a href="/article/2oo63r9rwb-iis-net-quickstart">Windows Remote Management (WinRM)</a> deployment types.</p><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/3ecctnq3p9/1573511249568/image.png" style="max-height:100%;max-width:100%" data-hd-height="100%" data-hd-width="100%"/></figure><p></p><div class="note-callout">Manual host selection is behind a feature flag. Contact Harness Support to enable this feature.</div><p></p><h3>Review: Target Specific Hosts</h3><p>By default, when you deploy an SSH or WinRM Service, Harness automatically selects target hosts in the VPC (Virtual Private Cloud) that you&#39;ve specified in your Infrastructure Definition.</p><p>You can use the <strong>Tags</strong> field here to identify specific hosts, but you&#39;ll need to have these hosts available for every deployment, and to ensure that the Tags are applied to them. Harness cannot query the hosts before deployment.</p><p>Also, if you are doing frequent ad-hoc deployments, managing the Tags for your target hosts can be time-consuming, and you&#39;ll need to repeatedly update your Infrastructure Definitions.</p><p>With the <strong>Target to specific hosts only</strong> alternative outlined below, when you deploy a Workflow for an SSH or WinRM  Service, you can select specific target hosts in the dialog that starts or restarts the deployment.</p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/3ecctnq3p9/1573256363922/image.png" style="max-height:75%;max-width:75%" data-hd-height="75%" data-hd-width="75%"/></figure><p>This option enables you to manually select hosts even within templatized Workflows, and to redeploy specific Services without creating new Infrastructure Definition mappings.</p><h3>Review: Restrictions</h3><p>The <strong>Target to specific hosts only</strong> option is restricted to the following circumstances where it is practical:</p><ul><li>Available only in Workflows that deploy SSH Services (see <a href="/article/6pwni5f9el-traditional-deployments-overview">Traditional Deployments</a>) or WinRM Services (see <a href="/article/2oo63r9rwb-iis-net-quickstart">IIS (.NET) Quickstart</a>), and that therefore contain a <a href="/article/9h1cqaxyp9-select-nodes-workflow-step">Select Nodes</a> step.</li><li>Available only in direct Workflow execution—not in Pipeline or Trigger execution.</li><li>Available only in Basic, Canary, or Rolling Workflows that deploy a <em>single</em> Harness SSH or WinRM Service.</li><li>Unavailable with <a href="/article/o22jx8amxb-add-an-infra-provisioner">dynamically provisioned</a> Infrastructure Definitions, relying on Terraform or CloudFormation (where selecting nodes/hosts is not possible).</li><li>In a multi-phase Workflow, your selected hosts will override only the first phase. Harness will skip remaining phases.</li><li>Overrides any <a href="/article/9h1cqaxyp9-select-nodes-workflow-step">Select Nodes</a> count, percentage, or specific hosts statically configured in the Workflow.</li><li>Overrides the option to <strong>Skip instances with the same artifact version already deployed.</strong></li><li>Defaults to no selected hosts each time you start or rerun a Workflow deployment.</li></ul><h3>Step 1: Selecting Hosts</h3><p>When you click the <strong>Deploy</strong>, <strong>Start New Deployment</strong>, or <strong>Rerun Workflow</strong> option for a Workflow set up with an SSH Service, the resulting dialog displays the option highlighted below, labeled <strong>Target to specific hosts only</strong>:</p><p></p><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/3ecctnq3p9/1573458408742/image.png" style="max-height:75%;max-width:75%" data-hd-height="75%" data-hd-width="75%"/></figure><p>Clicking this check box overrides the adjacent option labeled <strong>Skip instances with the same artifact version already deployed</strong>. (This option grays out, as shown below.)</p><p>More importantly, clicking the check box displays a new <strong>Select Hosts</strong> drop-down:</p><p></p><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/3ecctnq3p9/1573259315357/image.png" style="max-height:75%;max-width:75%" data-hd-height="75%" data-hd-width="75%"/></figure><p></p><p>Click <strong>Select Hosts</strong> to open the controls shown below.</p><div class="tip-callout">Each time you start or rerun the Workflow, the upper selection field will be empty. Regardless of your selections during prior deployments, you must manually select target hosts for each new deployment.</div><p></p><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/3ecctnq3p9/1573259670854/image.png" style="max-height:75%;max-width:75%" data-hd-height="75%" data-hd-width="75%"/></figure><p>These controls provide the following options for selecting target hosts:</p><ul><li>Scroll the drop-down list to select individual hosts&#39; check boxes.</li><li>Click <strong>Select All</strong> to select all hosts in the list. (This is a toggle: Empty the check box to deselect all hosts.)</li><li>Type substrings into the <strong>Search</strong> box to scroll directly to individual hosts.</li></ul><p></p><h4>Searching for Hosts</h4><p>In this example, we&#39;ve searched on a substring to locate—and select—one matching host:</p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/3ecctnq3p9/1573455544496/image.png" style="max-height:75%;max-width:75%" data-hd-height="75%" data-hd-width="75%"/></figure><p></p><h4>Confirming Hosts</h4><p>After you&#39;ve selected your desired target hosts, click or tab out of the selection field. The field&#39;s label now reads <strong>Selected Hosts</strong>, and summarizes the number of hosts you&#39;ve selected:</p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/3ecctnq3p9/1573455944580/image.png" style="max-height:75%;max-width:75%" data-hd-height="75%" data-hd-width="75%"/></figure><p>To double-check that you&#39;ve selected individual hosts, you can reopen the <a href="#search">Search</a> box, and find these hosts by substring.</p><p>When you&#39;re satisfied with your selections, click <strong>Submit</strong> to deploy the Workflow.</p><h3>Option: Select Host Not in Infrastructure Definition</h3><div class="note-callout">Currently, this feature is behind the feature flag <code>DEPLOY_TO_INLINE_HOSTS</code> and available in SSH or WinRM deployments only. Contact <a href="mailto:support@harness.io" target="_blank">Harness Support</a> to enable the feature.</div><p>When your Workflow deploys an SSH Service or WinRM using an Infrastructure Definition of Deployment Type <strong>Secure Shell (SSH)</strong> or <strong>Windows Remote Management (WinRM)</strong>, you can select target hosts that were not selected in the Workflow&#39;s Infrastructure Definition.</p><p>In <strong>Start New Deployment</strong>, in the <strong>Target to specific hosts only</strong> option, enter additional hosts.</p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/3ecctnq3p9/1643931282347/clean-shot-2022-02-03-at-15-34-35-2-x.png"/></figure><p>Enter the target host name or IP address and click <strong>Create option</strong>.</p><p><strong>Target to specific hosts only</strong> allows you to select hosts that are listed in the Workflow&#39;s Infrastructure Definition, enter additional hosts manually, or use Workflow variable expressions.</p><h3>Review: Selected Hosts in Deployment</h3><p>Using the example configuration above, deployment proceeds as normal to the <strong>Select Nodes</strong> step:</p><p></p><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/3ecctnq3p9/1573457091928/image.png" style="max-height:100%;max-width:100%" data-hd-height="100%" data-hd-width="100%"/></figure><p>As that step completes, the <strong>Details</strong> panel confirms that our execution-time selections have overridden the Workflow&#39;s <strong>Select Nodes</strong> defaults:</p><p></p><p></p><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/3ecctnq3p9/1574755370246/image.png" style="max-height:100%;max-width:100%" data-hd-height="100%" data-hd-width="100%"/></figure><p>Once the <strong>Install</strong> step executes, its log confirms connections to the host(s) we&#39;ve specified:</p><p></p><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/3ecctnq3p9/1573457744063/image.png" style="max-height:100%;max-width:100%" data-hd-height="100%" data-hd-width="100%"/></figure><p>Assuming that all selected hosts are available, your deployment should conclude successfully:</p><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/3ecctnq3p9/1573458107751/image.png" style="max-height:100%;max-width:100%" data-hd-height="100%" data-hd-width="100%"/></figure><p></p><h3>Review: Rerunning Workflows</h3><p>When you select the Workflow&#39;s <strong>Rerun Workflow</strong> link, the resulting dialog will display the same <strong>Target to specific hosts only</strong> check box and selection controls, in the same location:</p><p></p><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/3ecctnq3p9/1573458506433/image.png" style="max-height:75%;max-width:75%" data-hd-height="75%" data-hd-width="75%"/></figure><p>As with the first deployment, the selection drop-down list will initially be empty. It will not pre-populate with any of the hosts selected in the previous run of the Workflow.</p><p></p>