<p>For <a href="/article/wqytbv2bfd-ci-cd-with-the-build-workflow">Build Workflows</a> or a  <a href="/article/0tphhkfqx8-artifact-build-and-deploy-pipelines-overview">Build and Deploy Pipeline</a>, you can trigger deployments in response to a Git event using Webhooks. This is described in <a href="/article/ys3cvwm5gc-trigger-a-deployment-on-git-event">Trigger Deployments using Git Events</a>.</p><p>Once you have created a Harness <a href="/article/ys3cvwm5gc-trigger-a-deployment-on-git-event">On Webhook Event</a> Trigger, Harness creates a Manual Trigger for it.</p><p>You can do the following with a Manual Trigger:</p><ul><li>Start a deployment using a URL provided by Harness. See <a href="/article/3key6nybou-trigger-a-deployment-using-a-url">Trigger a Deployment using a URL</a>.</li><li>Start a deployment using a curl command. See <a href="/article/mc2lxsas4c-trigger-a-deployment-using-c-url">Trigger a Deployment using cURL</a>.</li><li>Use a REST call to get deployment status.</li></ul><p>In this topic, we will cover using a REST call to get deployment status.</p><h3>Before You Begin</h3><ul><li> <a href="/article/smloyragsm-api-keys">API Keys</a></li><li> <a href="https://docs.harness.io/article/wqytbv2bfd-ci-cd-with-the-build-workflow">Build Workflows</a></li><li> <a href="/article/0tphhkfqx8-artifact-build-and-deploy-pipelines-overview">Build and Deploy Pipeline</a></li><li> <a href="/article/eb3kfl8uls-service-configuration">Add a Service</a></li><li> <a href="/article/m220i1tnia-workflow-configuration">Workflows</a></li><li> <a href="/article/n39w05njjv-environment-configuration">Add Environment</a></li><li> <a href="/article/zc1u96u6uj-pipeline-configuration">Create a Pipeline</a></li></ul><h3>Step 1: Create Harness API Key</h3><p>To use a REST call to get deployment status, you need to generate a Harness API key first.</p><p>The API key is used in the cURL command GET call for deployment status, described below.</p><ol><li>In Harness Manager, click <strong>Security</strong>, and then click <strong>Access Management</strong>.</li><li>Click <strong>API Keys</strong>.</li><li>Click <strong>Add API Key</strong>.</li><li>In the <strong>Add API Key</strong> settings, enter a name and select your User Group.</li><li>Click <strong>Submit</strong>. The new API key is created.</li><li>To copy the API key, first click the Eye icon to reveal the key&#39;s value.</li><li>Next, click the Copy icon beside the key. This copies the key&#39;s value to your clipboard.</li><li>To delete an API key, click the <strong>Delete</strong> icon.</li></ol><p></p><h3>Step 2: Show cURL Command</h3><p>The cURL command for executing a deployment is provided by every Trigger of type <strong>On Webhook Event</strong>.</p><p>In <strong>Triggers</strong>, locate the Trigger you want run.</p><p>Click <strong>Manual Trigger</strong>.</p><p>In the <strong>Manual Trigger</strong> settings, click <strong>Show Curl Command</strong>. The cURL command is displayed.</p><p>When you created a Trigger, if you selected values for parameters that are represented by placeholders in the cURL command, you do not need to add values for the cURL placeholders.</p><p>If you add values for the cURL placeholders, you will override manual settings in the Trigger.</p><p>This is also true for Triggers that execute templated Workflows and Pipelines. If you create a Trigger that executes a templated Workflow or Pipeline, you can select values for the templated settings in the Trigger, but you can still override them in the cURL command.</p><p>Let&#39;s look at a placeholder example:</p><pre class="hljs makefile">curl -X POST -H &#39;content-type: application/json&#39; \<br/> --url https://app.harness.io/api/webhooks/xxxxxx \<br/> -d &#39;{&#34;application&#34;:&#34;xxxxxx&#34;,&#34;artifacts&#34;:[{&#34;service&#34;:&#34;micro-service&#34;,&#34;buildNumber&#34;:&#34;micro-service_BUILD_NUMBER_PLACE_HOLDER&#34;}]}&#39;</pre><p>For <code>service</code>, enter the name of the Harness Service.</p><p>For <code>buildNumber</code>, enter the artifact build number from the Artifact History in the Service.</p><figure><a href="https://files.helpdocs.io/kw8ldg1itf/articles/xerirloz9a/1582094031206/image.png"><img src="https://files.helpdocs.io/kw8ldg1itf/articles/xerirloz9a/1582094031206/image.png" style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></a></figure><p>For example:</p><pre class="hljs makefile">curl -X POST -H &#39;content-type: application/json&#39; \<br/> --url https://app.harness.io/api/webhooks/xxxxxx \<br/> -d &#39;{&#34;application&#34;:&#34;xxxxxx&#34;,&#34;artifacts&#34;:[{&#34;service&#34;:&#34;Service-Example&#34;,&#34;buildNumber&#34;:&#34;1.17.8-perl&#34;}]}&#39;</pre><p></p><h3>Step 3: Run cURL Command</h3><p>Once you have replaced the placeholders, run the cURL command.</p><p>The output will be something like this (private information has been replaced with <strong>xxxxxx</strong>):</p><pre class="hljs json">{<br/> &#34;requestId&#34;:&#34;-tcjMxQ_RJuDUktfl4AY0A&#34;,<br/> &#34;status&#34;:&#34;RUNNING&#34;,<br/> &#34;error&#34;:null,<br/> &#34;uiUrl&#34;:&#34;https://app.harness.io/#/account/xxxxxx/app/xxxxxx/pipeline-execution/-xxxxxx/workflow-execution/xxxxxx/details&#34;,<br/> &#34;apiUrl&#34;:&#34;https://app.harness.io/gateway/api/external/v1/executions/-xxxxxx/status?accountId=xxxxxx&amp;appId=xxxxxx&#34;<br/> }<br/></pre><p>The <strong>uiUrl</strong> can be used directly in a browser. <strong>apiUrl</strong> can be used to track deployment status programmatically, such as using a REST call.</p><h3>Step 4: Use the API URL</h3><p>To get deployment status using a REST call (in this example, cURL), use the following cURL command, replacing <strong>API_URL</strong> with the URL from <strong>apiUrl</strong>, and <strong>API_KEY</strong> with the API key you generated in Harness:</p><pre class="hljs nginx">curl -X GET -H &#39;X-Api-Key:<strong style="box-sizing:inherit;font-weight:bolder">API_KEY</strong>&#39; --url &#34;<strong style="box-sizing:inherit;font-weight:bolder">API_URL</strong>&#34;</pre><p>For example (private information has been replaced with <strong>xxxxxx</strong>):</p><pre class="hljs nginx">curl -X GET -H &#39;X-Api-Key:a1b2c3&#39; --url &#34;https://app.harness.io/gateway/api/external/v1/executions/xxxxxx/status?accountId=xxxxxx&amp;appId=xxxxxx&#34;</pre><p>The output from the curl command will contain the status of the deployment. These are the same status messages you can see in the <strong>Continuous Deployments</strong> dashboard, such as: </p><pre>{&#34;status&#34;:&#34;SUCCESS&#34;}, {&#34;status&#34;:&#34;FAILED&#34;}, {&#34;status&#34;:&#34;ABORTED&#34;}, {&#34;status&#34;:&#34;QUEUED&#34;}.</pre><p></p><h3>Configure As Code</h3><p>To see how to configure the settings in this topic using YAML, configure the settings in the UI first, and then click the YAML editor button (<span style="color:#fb9e00" data-hd-color="#fb9e00"><strong>&lt;/&gt;</strong></span>).</p><h3>Related Topics</h3><ul><li> <a href="/article/revc37vl0f-passing-variable-into-workflows">Passing Variables into Workflows from Triggers</a></li><li>For information on using Triggers as part of Harness Git integration, see <a href="/article/3av5pc4goc-onboard-teams-using-git-ops">Onboard Teams Using Git</a>.</li><li> <a href="/article/s2m2ksxn6a-trigger-a-deployment-on-new-artifact">Trigger Deployments When a New Artifact is Added to a Repo</a></li><li> <a href="/article/tb66fmh4iz-trigger-a-deployment-on-a-time-schedule">Schedule Deployments using Triggers</a></li><li> <a href="/article/nihs2y2z61-trigger-a-deployment-on-pipeline-completion">Trigger Deployments when Pipelines Complete</a></li><li> <a href="/article/mc2lxsas4c-trigger-a-deployment-using-c-url">Trigger a Deployment using cURL</a></li><li> <a href="/article/zr4tgwrzlb-trigger-a-deployment-when-a-file-changes">Trigger a Deployment when a File Changes</a></li><li> <a href="/article/ys3cvwm5gc-trigger-a-deployment-on-git-event">Trigger Deployments using Git Events</a></li><li> <a href="/article/6vlut5qvlf-freeze-triggers">Pause All Triggers using Deployment Freeze</a></li></ul><p></p>