<p>You can add Service Config variables to use throughout your Service configuration settings, and referenced anywhere the Service is used in a Workflow.</p><p>During deployment, the Service Config variables are created as environment variables wherever the commands are executed (on the target hosts or Delegate hosts).</p><div class="note-callout">Only Service Config Variables are added as environment variables and can be output with <code>env</code>. Workflow and other variables are not added as environment variables.</div><p>Service variables can be overwritten at the Environment level. See <a href="/article/n39w05njjv-environment-configuration#override_a_service_configuration">Override a Service Configuration</a>.</p><div class="note-callout">For information about how configuration variables and files are used in a Kubernetes deployment, see <a href="/article/pc6qglyp5h-kubernetes-deployments-overview">Kubernetes Deployments Overview</a>. For information on using Harness variables and expressions, see <a href="/article/9dvxcegm90-variables">Variables and Expressions in Harness</a>.</div><h4>In this topic:</h4><ul><li> <a href="#before_you_begin">Before You Begin</a></li><li><a href="#limitations">Limitations</a></li><li> <a href="#step_1_use_config_variables">Step 1: Use Config Variables</a></li><li> <a href="#step_2_reference_service_variables_and_secrets">Step 2: Reference Service Variables and Secrets</a></li><li> <a href="#referencing_service_config_variables_as_environment_variables">Referencing Service Config Variables as Environment Variables</a></li><li> <a href="#override_values_yaml">Override Values YAML</a></li><li> <a href="#notes">Notes</a></li></ul><p></p><h3>Before You Begin</h3><ul><li>Read the <a href="/article/bucothemly-application-configuration">Create an Application</a> topic to get an overview of how Harness organizes Services.</li><li>Read the <a href="/article/eb3kfl8uls-service-configuration">Add a Service</a> topic to understand the process to add a Service to an Application.</li><li>Read <a href="/article/htvzryeqjw-configuration-as-code">Configuration as Code</a> to see how you can quickly configure your Harness Service using your existing YAML in Git.</li></ul><h3>Limitations</h3><ul><li>You cannot use an empty value for a Service Config Variable.</li></ul><h3>Step 1: Use Config Variables</h3><p>To use Service-level variables, do the following:</p><ol><li>In <strong>Configuration</strong>, in <strong>Config Variables</strong>, click <strong>Add Variable</strong>. The <strong>Config Variable</strong> dialog appears.</li><li>In <strong>Name</strong>, enter a name for your variable. This is the name you will use to reference your variable anywhere in your service.</li></ol><div class="note-callout">Config variable names may only contain <code>a-z, A-Z, 0-9, _</code>. They cannot contain hyphens. The following keywords are reserved, and cannot be used as a variable name or property when using the dot operator: <code>or and eq ne lt gt le ge div mod not null true false new var return</code>.</div><ol><li style="counter-increment:li 2" start="3">In <strong>Type</strong>, select <strong>Text</strong> or <strong>Encrypted Text</strong>.<br/><br/>If you selected <strong>Text</strong>, enter a string in <strong>Value</strong>. When you reference this variable in the Service configuration, you use <code>${serviceVariable.var_name}</code>.<br/><br/>If you select <strong>Encrypted Text</strong>, the Value field becomes a drop-down and you can select any of the Encrypted Text you have configured in Secrets Management. For more information, see <a href="/article/au38zpufhr-secret-management">Secrets Management</a>.<br/>You can also click <strong>Add New Encrypted Text</strong> to create a new secret. This brings up the option of selecting the Secret Manager to use when storing the new encrypted variable.<figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/eb3kfl8uls/1579546008298/image.png"/></figure>When you reference this encrypted variable in the Service configuration, you use <code>${serviceVariable.var_name}</code>.<br/><br/>You can also use Harness variables in the <strong>Value</strong> field. To use a variable, enter <strong>$</strong> and see the available variables.<figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/gxv9gj6khz/1539898575136/image.png"/></figure>For example, to add Workflow variables, enter <code>${workflow</code> and the available Workflow variables are displayed. For more information about variables, see <a href="/article/9dvxcegm90-variables">Variables and Expressions in Harness</a>.</li><li>Click <strong>SUBMIT</strong>. The variable is added to <strong>Config Variables</strong>.</li><li>To reference the variable is any text field in your Service configuration, type <strong>$</strong> and Harness will provide a drop down of all variables. Begin typing the name of your variable to find it and select it.</li></ol><h3>Step 2: Reference Service Variables and Secrets</h3><p>Use a Service Variable either as a text or as a secret (using one of the secrets in <a href="/article/au38zpufhr-secret-management">Secrets Management</a>) in other Harness Application components such as Workflows by entering <code>${serviceVariable.</code> and selecting the variables.</p><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/q78p7rpx9u/1617148965364/image.png"/></figure><div class="note-callout">Service variables cannot be referenced in the <strong>Pre-deployment Steps</strong> of a Workflow. Services are not used in pre-deployment and, consequently, their variables are not available. Service variables can be used in <strong>Prepare Infra</strong>Â steps in a Basic deployment Workflow.</div><div class="note-callout">Build Workflows do not use Harness Services. Consequently, Service variables and Service variable overrides cannot be used in a Build Workflow.</div><h3>Referencing Service Config Variables as Environment Variables</h3><p>The Service Config Variables are added as environment variables wherever the commands using them are executed. </p><p>If the command is executed on the Delegate host, then the Service Config Variables are added as environment variables on that host. If the command is executed on the target host, then the Service Config Variables are added as environment variables on that host.</p><div class="note-callout">Only Service Config Variables are added as environment variables and can be output with <code>env</code>. Workflow and other variables are not added as environment variables.</div><p>For example, if you have a Service Config Variable named <strong>jarName</strong>, Harness creates an environment variable name <strong>jarName</strong> that can be referenced in two ways:</p><ul><li>As a Service variable: <code>${serviceVariable.jarName}</code>. There is no escaping done by Harness for Service variables.</li><li>As an environment variable: <code>${jarName}</code>. Escaping is done by Harness automatically.</li></ul><h3>Override Values YAML</h3><p>For information on Helm Values YAML, see <a href="/article/ycacqs7tlx-override-harness-kubernetes-service-settings">Override Harness Kubernetes Service Settings</a> and <a href="/article/ii558ppikj-helm-deployments-overview">Helm Deployments Overview</a>.</p><h3>Notes</h3><p>If you create a new secret from within Service Config Variables, Harness automatically sets the scope of the secret to your Harness Application.</p><p></p><p></p><p></p>