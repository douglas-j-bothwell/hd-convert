type: article
article_id: huoann4npq
user_id: mfr0nxh4be
category_id: wyuv3zocfk
author:
  name: Michael Cretzman
  profile_image: https://www.gravatar.com/avatar/2e8616837f4ee92be5d19ffe9b9ccba9?d=mm&s=150
title: Connect to CloudWatch
slug: cloud-watch-connection-setup
description: Connect Harness to AWS CloudWatch and verify the success of your deployments
  and live microservices.
short_version: Connect Harness to AWS CloudWatch and verify the success of your deployments
  and live microservices.
tags:
- CloudWatch
- Verification Provider
- verification
- Deployment Verification
- 24/7 Service Guard
- APM
- application performance monitoring
- Cloud Provider
show_toc: true
is_private: false
is_published: true
is_featured: false
stale_status:
  is_stale: false
  reason: Article updated
  source: API
  triggered_at: 2021-05-12T17:22:47.626927Z
  expires_at: null
permission_groups: []
multilingual:
- language_code: en
  title: Connect to CloudWatch
  description: Connect Harness to AWS CloudWatch and verify the success of your deployments
    and live microservices.
  short_version: Connect Harness to AWS CloudWatch and verify the success of your
    deployments and live microservices.
  body: |-
    <p>A Harness Cloud Provider is a connection to AWS and its monitoring tools, such as CloudWatch. Once Harness is connected, you can use Harness 24/7 Service Guard and Deployment Verification with your CloudWatch data and analysis.</p><p>In this topic:</p><ul><li><a href="#before_you_begin">Before You Begin</a></li><li><a href="#assign_permissions">Step 1: Assign the Required AWS Permissions</a></li><li><a href="#add_aws_cp">Step 2: Add AWS Cloud Provider for CloudWatch</a></li><li><a href="#next_steps">Next Steps</a></li></ul><p></p><div class="hd--md" data-hd-markdown="&lt;span id=&#34;before_you_begin&#34;&gt;&lt;/span&gt;"><p><span id="before_you_begin"></span></p>
    </div><p></p><h3>Before You Begin</h3><ul><li>See the <a href="/article/q6ti811nck-cloud-watch-verification-overview">CloudWatch Verification Overview</a>.</li></ul><p></p><div class="hd--md" data-hd-markdown="&lt;span id=&#34;assign_permissions&#34;&gt;&lt;/span&gt;"><p><span id="assign_permissions"></span></p>
    </div><p></p><h3>Step 1: Assign the Required AWS Permissions</h3><p>Harness requires the IAM user to be able to make API requests to AWS. The <strong>User Access Type</strong> required is <strong>Programmatic access</strong>. This enables an access key ID and secret access key for the AWS API, CLI, SDK, and other development tools. For more information, see <a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/id_users_create.html" target="_blank">Creating an IAM User in Your AWS Account</a> from AWS.</p><p>Here is the CloudWatch policy used for this guide:</p><pre>{<br/>    &#34;Version&#34;: &#34;2012-10-17&#34;,<br/>    &#34;Statement&#34;: [<br/>        {<br/>            &#34;Sid&#34;: &#34;VisualEditor0&#34;,<br/>            &#34;Effect&#34;: &#34;Allow&#34;,<br/>            &#34;Action&#34;: [<br/>                &#34;cloudwatch:*&#34;,<br/>                &#34;cloudtrail:*&#34;,<br/>                &#34;logs:*&#34;,<br/>                &#34;events:*&#34;<br/>            ],<br/>            &#34;Resource&#34;: &#34;*&#34;<br/>        }<br/>    ]<br/>}</pre><p></p><div class="hd--md" data-hd-markdown="&lt;span id=&#34;add_aws_cp&#34;&gt;&lt;/span&gt;"><p><span id="add_aws_cp"></span></p>
    </div><p></p><h3>Step 2: Add AWS Cloud Provider for CloudWatch</h3><p>To perform verification with CloudWatch, you must create a Harness Cloud Provider that can read from CloudWatch using your access key ID and secret access key. This Cloud Provider should have the permissions listed above in <a href="#aws_permissions_required">AWS Permissions Required</a>.</p><p>You might have already set up a Workflow using a Harness Delegate installed in your AWS VPC. (For AWS, the Shell Script Delegate and ECS Delegate are most commonly used.) In this case, to add CloudWatch verification, you must now add a Cloud Provider with the above credentials.</p><p>For more information on setting up an AWS Cloud Provider in Harness, see Installation <a href="/article/h9tkwmkrm7-delegate-installation#installation_example_amazon_web_services_and_ecs">Example: Amazon Web Services and ECS</a> and <a href="/article/whwnovprrb-infrastructure-providers#amazon_web_services_aws_cloud">Amazon Web Services (AWS) Cloud</a>.</p><p>Here is a summary of the steps to set up an AWS Cloud Provider in Harness:</p><ol><li>Click <strong>Setup</strong>, and then click <strong>Cloud Providers</strong>.</li><li>Click <strong>Add Cloud Provider</strong>., and then select <strong>Amazon Web Services</strong>.</li><li>Choose a name for this provider. This is to differentiate AWS providers in Harness. It is not the actual AWS account name.</li><li>Select <strong>Assume IAM Role on Delegate</strong> (recommended), or <strong>Enter AWS Access Keys manually</strong>.<ol><li>If you selected <strong>Assume IAM Role on Delegate</strong>, in <strong>Delegate Selector</strong>, enter the Selector of the Delegate that this Cloud Provider will use for all connections. For information about Selectors, see <a href="https://docs.harness.io/article/h9tkwmkrm7-delegate-installation#delegate_selectors">Delegate Selectors</a>.</li><li>If you selected <strong>Enter AWS Access Keys manually</strong>, enter your Access Key and select/create a <a href="/article/ygyvp998mu-use-encrypted-text-secrets">Harness Encrypted Text secret</a> in <strong>Secret Key</strong>. For more information, see <a href="https://docs.aws.amazon.com/general/latest/gr/aws-sec-cred-types.html#access-keys-and-secret-access-keys" target="_blank">Access Keys (Access Key ID and Secret Access Key)</a> from AWS.</li></ol></li></ol><p></p><div class="note-callout">The AWS <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_testing-policies.html">IAM Policy Simulator</a> is a useful tool for evaluating policies and access.</div><p>For more details, see <a href="/article/whwnovprrb-infrastructure-providers#amazon_web_services_aws_cloud">Amazon Web Services (AWS) Cloud</a>.</p><p></p><div class="hd--md" data-hd-markdown="&lt;span id=&#34;next_steps&#34;&gt;&lt;/span&gt;"><p><span id="next_steps"></span></p>
    </div><p></p><h3>Next Steps</h3><ul><li><a href="/article/ngeq6xckpg-2-24-7-service-guard-for-cloud-watch">Monitor Applications 24/7 with CloudWatch</a></li><li><a href="/article/awerepjwlc-3-verify-deployments-with-cloud-watch">Verify Deployments with CloudWatch</a></li></ul><p></p>
  slug: cloud-watch-connection-setup
  tags:
  - CloudWatch
  - Verification Provider
  - verification
  - Deployment Verification
  - 24/7 Service Guard
  - APM
  - application performance monitoring
  - Cloud Provider
  is_live: true
