<p>This topic covers how to set required environment variables to monitor Java applications in the AppDynamics Controller. It includes these sections:</p><ul><li><a href="#before_you_begin">Before You Begin</a></li><li><a href="#java_agent">Step 1: Install the Java Agent</a></li><li><a href="#artifact">Option: Set Variables in Artifact</a></li><li><a href="#service">Option: Set Variables in Service</a></li><li><a href="#limitations">Limitations</a></li><li><a href="#next_steps">Next Steps</a></li></ul><p></p><div class="hd--md" data-hd-markdown="&lt;span id=&#34;before_you_begin&#34;&gt;&lt;/span&gt;"><p><span id="before_you_begin"></span></p>
</div><h3>Before You Begin</h3><ul><li>Add AppDynamics as a Harness <a href="/article/cqy0jmm71h-1-app-dynamics-connection-setup">Verification Provider</a>.</li><li>Add an AppDynamics <a href="/article/ehezyvz163-3-verify-deployments-with-app-dynamics">verification step</a> to a Workflow.</li></ul><p></p><div class="hd--md" data-hd-markdown="&lt;span id=&#34;java_agent&#34;&gt;&lt;/span&gt;"><p><span id="java_agent"></span></p>
</div><h3>Step 1: Install the Java Agent</h3><p>To monitor Java applications in the AppDynamics Controller, you must install the AppDynamics Java Agent on each server that hosts applications to be monitored. The Java Agent requires that certain environment variables be set.</p><p></p><div class="hd--md" data-hd-markdown="&lt;span id=&#34;artifact&#34;&gt;&lt;/span&gt;"><p><span id="artifact"></span></p>
</div><h3>Option: Set Variables in Artifact</h3><p>For a Docker Image artifact, you can include the Java Agent in the Docker Image you deploy, and set these environment variables in the artifact. You can do this using a <code>controller-info.xml</code> file, such as <a href="https://github.com/Appdynamics/appdynamics-openshift-quickstart/blob/master/AppServerAgent/conf/controller-info.xml" target="_blank">this one located on GitHub</a>.</p><p></p><div class="hd--md" data-hd-markdown="&lt;span id=&#34;service&#34;&gt;&lt;/span&gt;"><p><span id="service"></span></p>
</div><h3>Option: Set Variables in Service</h3><p>You can also set these variables in the Harness Service that is using the Docker Image. Here is an example of a Harness Service containing the environment variables as Config Variables.</p><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/ps716zaurs/1550789912036/image.png"/></figure><h4>Identifying Environment Variables</h4><p>For a list of the required environment variables, see <a href="https://docs.appdynamics.com/display/PRO42/Use+Environment+Variables+for+Java+Agent+Settings" target="_blank">Use Environment Variables for Java Agent Settings</a> from AppDynamics. You might also include the <code>JAVA_OPTS</code> variable to add the Java Agent path to <code>JAVA_OPTS</code>.</p><div class="tip-callout">The Config Variables in the Harness Service can be overwritten by the Harness Environment <a href="https://docs.harness.io/article/n39w05njjv-environment-configuration#override_a_service_configuration">Service Overrides</a>.</div><p></p><div class="hd--md" data-hd-markdown="&lt;span id=&#34;limitations&#34;&gt;&lt;/span&gt;"><p><span id="limitations"></span></p>
</div><h3>Limitations</h3><div class="note-callout">Do not hard-code the node name (<code>APPDYNAMICS_AGENT_NODE_NAME</code>) in any environment variables. Doing so will prevent certain deployment features—such as Canary and Blue/Green strategies, and rollback—from executing.</div><p></p><div class="hd--md" data-hd-markdown="&lt;span id=&#34;next_steps&#34;&gt;&lt;/span&gt;"><p><span id="next_steps"></span></p>
</div><h3>Next Steps</h3><ul><li><a href="https://docs.harness.io/article/htvzryeqjw-configuration-as-code">Configuration as Code</a></li><li><a href="/article/w7tcb2frp9-connect-to-app-dynamics-as-a-custom-apm">AppDynamics as a Custom APM</a></li></ul><p></p>