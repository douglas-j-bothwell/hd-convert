type: article
article_id: zrwsldxn94
user_id: mfr0nxh4be
category_id: kam4aj3pd4
author:
  name: Michael Cretzman
  profile_image: https://www.gravatar.com/avatar/2e8616837f4ee92be5d19ffe9b9ccba9?d=mm&s=150
title: Set Up 24/7 Service Guard
slug: set-up-service-guard
description: Summarizes how to add supported APMs and logging tools as Harness Verification
  Providers, and how to set corresponding alert notifications' thresholds and timing.
short_version: Summarizes how to add supported APMs and logging tools to Harness 24/7
  Service Guard, and how to configure alert notifications.
tags:
- APM
- log
- application performance monitoring
- Verification Provider
- verification
- Alerts
- alert threshold
- Notifications
show_toc: true
is_private: false
is_published: true
is_featured: false
stale_status:
  is_stale: false
  reason: Article updated
  source: API
  triggered_at: 2021-06-16T20:26:02.349038Z
  expires_at: null
permission_groups: []
multilingual:
- language_code: en
  title: Set Up 24/7 Service Guard
  description: Summarizes how to add supported APMs and logging tools as Harness Verification
    Providers, and how to set corresponding alert notifications' thresholds and timing.
  short_version: Summarizes how to add supported APMs and logging tools to Harness
    24/7 Service Guard, and how to configure alert notifications.
  body: |-
    <p>This topic summarizes how to set up 24/7 Service Guard for your production environments.</p><ul><li><a href="#limitations">Limitations</a></li><li><a href="#scope_harness_delegates_for_24_7_service_guard">Scope Harness Delegates for 24/7 Service Guard</a></li><li><a href="#24_7_service_guard_is_for_production_environments">24/7 Service Guard is for Production Environments</a></li><li><a href="https://docs.harness.io/article/zrwsldxn94-set-up-service-guard#setup_overview">Setup Overview</a></li><li><a href="https://docs.harness.io/article/zrwsldxn94-set-up-service-guard#alert_notifications">Alert Notifications</a><ul><li><a href="https://docs.harness.io/article/zrwsldxn94-set-up-service-guard#suspending_snoozing_alerts">Suspending (Snoozing) Alerts</a></li></ul></li><li><a href="/article/zrwsldxn94-set-up-service-guard#harness_variables_and_24_7_service_guard">Harness Variables and 24/7 Service Guard</a></li><li><a href="https://docs.harness.io/article/zrwsldxn94-set-up-service-guard#add_workflow_steps">Add Workflow Steps</a></li></ul><p>To go to the 24/7 Service Guard setup for a specific tool, see its listing in <a href="/category/gurgsl2gqt-continuous-verification">Continuous Verification</a>.</p><p>To see the list of all the APM and logging tools Harness supports, see <a href="/article/myw4h9u05l-verification-providers-list">CV Summary and Provider Support</a>.</p><p>For information on analysis strategies and best practices, see <a href="/article/0avzb5255b-cv-strategies-and-best-practices">CV Strategies, Tuning, and Best Practices</a>.</p><h3>Limitations</h3><p>You can set up 20 Service Guards in your account by default. You can request an increase from Harness.</p><p>Harness places this limitation to ensure that your Service Guards can be supported adequately in our SaaS environment.</p><p>Note that a Service Guard is not related to the Services deployed by Harness. Service Guard is a combination of Service and Environment. Service Guard is actually managed at the Environment level. Consequently, the Service Guard limitation is a limitation of Service and Environment combinations.</p><h3>Scope Harness Delegates for 24/7 Service Guard</h3><p>You can scope Harness Delegates to perform different tasks.</p><p>As a best practice, you should scope one or more Delegates to perform 24/7 Service Guard tasks.</p><p>Scoping ensures that 24/7 Service Guard tasks do not consume resources from other real time processing such as deployments and pulling artifacts.</p><p>You scope the Delegate by adding a Delegate Scope that uses the <strong>Service Guard</strong> task.</p><p>Harness recommends you use a Delegate for no more than 40 Continuous Verification setups.</p><p>For more information, see <a href="/article/hw56f9nz7q-scope-delegates-to-harness-components-and-commands">Scope Delegates to Harness Components and Commands</a>.</p><h3>24/7 Service Guard is for Production Environments</h3><p>Harness enables you to organize your infrastructure into groups called Environments. Environments represent your deployment infrastructures, such as Dev, QA, Stage, Production, etc.</p><p>Harness uses two types of Environments: <strong>Production</strong> and <strong>Non-Production</strong>.</p><p>24/7 Service Guard monitors live applications and is for <u>Production Environments</u> only.</p><h3>Setup Overview</h3><p>Here are the high-level steps for setting up 24/7 Service Guard using one or more APM and logging tools:</p><ol><li>Connect each of your APM and logging tools to Harness as Verification Providers. Verification Providers contain the APM and logging tool account information Harness will use to access the tools via their APIs.</li></ol><div class="note-callout">For information on setting up a Verification Provider, see <a href="/article/r6ut6tldy0-verification-providers">Add Verification Providers</a>.</div><ol><li style="counter-increment:li 1" start="2">Create a Harness Application. The Application will identify the application you want to monitor, will identify the production environment where the application is running, and will allow you to use Harness RBAC to control who can set up 24/7 Service Guard.</li></ol><div class="note-callout">For more information on setting up a Harness Application, see <a href="/article/bucothemly-application-configuration">Application Checklist</a>.</div><ol><li style="counter-increment:li 2" start="3">Add a Harness Service to your Application. The Service is a logical representation of your production application. You will add a Service for each application you want to monitor with 24/7 Service Guard.</li><li>Add a Harness Environment to your Application. The Environment represents the production environments for one or more applications.</li><li>Add a 24/7 Service Guard configuration for each Service in the Environment using a Verification Provider.</li></ol><p>Once 24/7 Service Guard is set up in a Harness Environment, the new configuration is listed according to its Service name (in this example, the Service name <strong>Dev-CV-Todolist</strong>).</p><p></p><div class="hd--html"><figure> <img src="https://files.helpdocs.io/kw8ldg1itf/articles/l5ky4p140j/1544643350000/image.png"/></figure></div><p>In a few minutes, the Continuous Verification dashboard will display the 24/7 Service Guard configuration.</p><p></p><div class="hd--html"><figure> <img src="https://files.helpdocs.io/kw8ldg1itf/articles/zrwsldxn94/1578090039185/image.png"/></figure></div><p>No deployment is needed to add the 24/7 Service Guard configuration to the dashboard.</p><div class="hd--html"><span id="alert-notifications"></span></div><h3>Alert Notifications</h3><p>For each Verification Provider, you can customize the threshold and timing for alert notifications. To do so:</p><ol><li>Click the pencil icon to the right of the <strong>Alert Notification</strong> row.<div class="hd--html"><figure> <img src="https://files.helpdocs.io/kw8ldg1itf/articles/oqerawibb3/1558596368911/image.png" style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure></div></li><li>In the resulting <strong>Alert Notification</strong> dialog, select the <strong>Enable Alert Notification</strong> check box.<div class="hd--html"><figure> <img src="https://files.helpdocs.io/kw8ldg1itf/articles/oqerawibb3/1558596614166/image.png" style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure></div></li><li>Adjust the <strong>Alert Threshold</strong> slider to set the minimum severity level at which you want Harness to send alert notifications.</li></ol><p>The slider&#39;s scale represents the Overall Risk Level that Harness evaluates, based on data from your Verification Providers, transaction history, and machine-learning models. Harness&#39; alerts are dynamic: over time, they will escalate or decrease, as we observe anomalies, regressions, and other factors. The scale&#39;s range corresponds to risk indicators on the dashboard&#39;s heat map as shown below.</p><div class="hd--html"><figure> <img src="https://files.helpdocs.io/kw8ldg1itf/articles/oqerawibb3/1558640141514/image.png"/></figure></div><ol><li style="counter-increment:li 3" start="4">Select the <strong>Number of Occurrences</strong> from the drop down list after which you want to receive the alert notifications.</li></ol><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/zrwsldxn94/1600087411128/upd-alert-notifs.png" style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure><p>By default, the notifications that you configure here will appear under Harness Manager&#39;s bell-shaped <strong>Alerts</strong> indicator, and will also be sent to your <a href="/article/kf828e347t-notification-groups#catch_all_notification_rule">Catch-All Notification User Group</a>. However, you can also configure detailed conditions that <a href="/article/kf828e347t-notification-groups#alert_thresholds">route alert notifications to other User Groups</a>. This dialog includes a link to Harness Manager&#39;s corresponding <strong>Notification Settings</strong> controls.</p><div class="hd--md" data-hd-markdown="&lt;span id=&#34;snoozing-alerts&#34;&gt;&lt;/span&gt;"><p><span id="snoozing-alerts"></span></p>
    </div><h5>Suspending (Snoozing) Alerts</h5><p>Optionally, you can pause alerts—for example, during lightly staffed periods. You&#39;d do so in the <strong>Alert Notification</strong> dialog&#39;s <strong>Snooze Alert</strong> section, as follows:</p><ol><li>Click in the <strong>From</strong> field, to reveal the calendar and clock display for the snooze start time.<div class="hd--html"><figure> <img src="https://files.helpdocs.io/kw8ldg1itf/articles/oqerawibb3/1558597739171/image.png" style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure></div></li><li>After setting the <strong>From</strong> date and time, use the <strong>To</strong> field&#39;s similar controls to set the snooze period&#39;s ending date and time.</li><li>Once the whole <strong>Alert Notification</strong> dialog is set to your specifications, click <strong>SUBMIT</strong> to save them.</li></ol><h3>Harness Variables and 24/7 Service Guard</h3><p>No Harness variable expressions may be used in 24/7 Service Guard setup.</p><p>Harness variable expressions are evaluated at deployment runtime, and 24/7 Service Guard does not involve deployments. It only monitors live services.</p><h3>Add Workflow Steps</h3><p>Once you have set up 24/7 Service Guard in an Environment, you can use the 24/7 Service Guard setup to quickly configure the <strong>Verify Service</strong> step in any Workflow that uses the Environment.</p><p>For example, the following Canary Deployment Workflow uses an Environment with 24/7 Service Guard set up. In <strong>Phase 1</strong> of the Workflow, in <strong>Verify Service</strong>, you can add a Verification Provider.</p><p></p><div class="hd--html"><figure> <img src="https://files.helpdocs.io/kw8ldg1itf/articles/l5ky4p140j/1544644361879/image.png" style="max-height:35%;max-width:35%" data-hd-height="35%" data-hd-width="35%"/></figure></div><ol><li>Under <strong>Verify Service</strong>, click <strong>Add Verification</strong>.</li><li>In the <strong>Add Command</strong> dialog, under <strong>Verifications</strong>, select a Verification Provider that is also used in the 24/7 Service Guard of the Environment used by this Workflow. For example, <strong>AppDynamics</strong>.</li></ol><p></p><div class="hd--html"><figure> <img src="https://files.helpdocs.io/kw8ldg1itf/articles/l5ky4p140j/1544644482702/image.png"/></figure></div><p>The <strong>AppDynamics</strong> dialog appears.</p><p></p><div class="hd--html"><figure> <img src="https://files.helpdocs.io/kw8ldg1itf/articles/l5ky4p140j/1544644559195/image.png"/></figure></div><ol><li style="counter-increment:li 2" start="3">At the top of the dialog, click <strong>Populate from Service Verification</strong>, and then click the name of the 24/7 Service Guard configuration you want to use.</li></ol><p></p><div class="hd--html"><figure> <img src="https://files.helpdocs.io/kw8ldg1itf/articles/l5ky4p140j/1544644598661/image.png"/></figure></div><p>The dialog is automatically configured with the same settings as the 24/7 Service Guard configuration you selected.</p>
  slug: set-up-service-guard
  tags:
  - APM
  - log
  - application performance monitoring
  - Verification Provider
  - verification
  - Alerts
  - alert threshold
  - Notifications
  is_live: true
