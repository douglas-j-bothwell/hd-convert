<p>Harness 24/7 Service Guard monitors your live applications, catching problems that surface minutes or hours following deployment.</p><p>Once you have set up a Stackdriver Verification Provider in Harness, as described in <a href="/article/dysdvm3vo7-stackdriver-connection-setup">Connect to Stackdriver</a>, you can add your Stackdriver <strong>Logs</strong> monitoring to Harness 24/7 Service Guard in your Harness Application Environment.</p><p>In this topic:</p><ul><li> <a href="#before_you_begin">Before You Begin</a></li><li> <a href="#visual_summary">Visual Summary</a></li><li> <a href="#simple_slug">Step 1: Set up 24/7 Service Guard</a></li><li> <a href="#another_slug">Step 2: Display Name</a></li><li> <a href="#the_service">Step 3: Service</a></li><li> <a href="#gcp_cloud_provider">Step 4: GCP Cloud Provider</a></li><li> <a href="#search_keywords">Step 5: Search Keywords</a></li><li> <a href="#host_name_field">Step 6: Host Name Field</a></li><li> <a href="#enable_service_guard">Step 7: Enable 24/7 Service Guard</a></li><li> <a href="#baseline">Step 8: Baseline</a></li><li> <a href="#verify_settings">Step 9: Verify Your Settings</a></li><li> <a href="#next_steps">Next Steps</a></li></ul><p></p><div class="hd--md" data-hd-markdown="&lt;span id=&#34;before_you_begin&#34;&gt;&lt;/span&gt;"><p><span id="before_you_begin"></span></p>
</div><p></p><h3>Before You Begin</h3><ul><li>Set up a Harness Application, containing a Service and Environment. See <a href="/article/bucothemly-application-configuration">Create an Application</a>.</li><li>See the <a href="/article/jn0axefdat-stackdriver-and-harness-overview">Stackdriver Verification Overview</a>.</li></ul><p></p><div class="hd--md" data-hd-markdown="&lt;span id=&#34;visual_summary&#34;&gt;&lt;/span&gt;"><p><span id="visual_summary"></span></p>
</div><p></p><h3>Visual Summary</h3><p>Here&#39;s an example of a completed Stackdriver Logging setup for verification.</p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/other/1571953053517/image.png"/></figure><p></p><div class="hd--md" data-hd-markdown="&lt;span id=&#34;setup_service_guard&#34;&gt;&lt;/span&gt;"><p><span id="setup_service_guard"></span></p>
</div><p></p><h3>Step 1: Set up 24/7 Service Guard</h3><p>To set up 24/7 Service Guard for Stackdriver, do the following:</p><ol><li>Ensure that you have added Stackdriver as a Harness Verification Provider, as described in  <a href="/article/dysdvm3vo7-stackdriver-connection-setup">Connect to Stackdriver</a>.</li><li>In your Harness Application, ensure that you have added a Service, as described in  <a href="https://docs.harness.io/article/eb3kfl8uls-service-configuration">Services</a>. For 24/7 Service Guard, you do not need to add an Artifact Source to the Service, or configure its settings. You simply need to create a Service and name it. It will represent your application for 24/7 Service Guard.</li><li>In your Harness Application, click <strong>Environments</strong>.</li><li>In <strong>Environments</strong>, ensure that you have added an Environment for the Service you added. For steps on adding an Environment, see  <a href="https://docs.harness.io/article/n39w05njjv-environment-configuration">Environments</a>.</li><li>Click the Environment for your Service. Typically, the <strong>Environment Type</strong> is <strong>Production</strong>.</li><li>In the <strong>Environment</strong> page, locate <strong>24/7 Service Guard</strong>.</li><li>In <strong>24/7 Service Guard</strong>, click <strong>Add Service Verification</strong>, and then click <strong>Stackdriver Log</strong>. The <strong>Stackdriver Log</strong> dialog appears.</li></ol><div class="hd--md" data-hd-markdown="&lt;span id=&#34;display_name&#34;&gt;&lt;/span&gt;"><p><span id="display_name"></span></p>
</div><p></p><h3>Step 2: Display Name</h3><p>The name that will identify this service on the <strong>Continuous Verification</strong> dashboard. Use a name that indicates the environment and monitoring tool, such as <strong>Stackdriver</strong>.</p><div class="hd--md" data-hd-markdown="&lt;span id=&#34;the_service&#34;&gt;&lt;/span&gt;"><p><span id="the_service"></span></p>
</div><p></p><h3>Step 3: Service</h3><p>The Harness Service to monitor with 24/7 Service Guard.</p><div class="hd--md" data-hd-markdown="&lt;span id=&#34;gcp_cloud_provider&#34;&gt;&lt;/span&gt;"><p><span id="gcp_cloud_provider"></span></p>
</div><p></p><h3>Step 4: GCP Cloud Provider</h3><p>Select the GCP Cloud Provider to use, as described in <a href="/article/dysdvm3vo7-stackdriver-connection-setup">Connect to Stackdriver</a>. If you currently connect to GCP via a Kubernetes Cluster Cloud Provider, you must set up a GCP Cloud Provider for access to the Stackdriver data on your cluster.</p><div class="hd--md" data-hd-markdown="&lt;span id=&#34;search_keywords&#34;&gt;&lt;/span&gt;"><p><span id="search_keywords"></span></p>
</div><p></p><h3>Step 5: Search Keywords</h3><p>Enter search keywords for your query. You can use the same filters you have in GCP <strong>Logs Viewer</strong>.</p><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/g5l03na9zo/1560883046458/image.png"/></figure><p>Simply copy a filter entry into <strong>Search Keywords</strong>:</p><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/g5l03na9zo/1560883473078/image.png"/></figure><p>To use multiple filter entries, place an <strong>AND</strong> between them or use multiline entries. For example:</p><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/g5l03na9zo/1560883576302/image.png"/></figure><p>For advanced filter examples, see <a href="https://cloud.google.com/logging/docs/view/filters-library" target="_blank">Advanced filters library</a> from GCP.</p><p>For information on the log entries used, see <a href="https://cloud.google.com/logging/docs/view/overview" target="_blank">Viewing Logs</a> from GCP.</p><div class="hd--md" data-hd-markdown="&lt;span id=&#34;host_name_field&#34;&gt;&lt;/span&gt;"><p><span id="host_name_field"></span></p>
</div><p></p><h3>Step 6: Host Name Field</h3><p>Enter the log field that contains the name of the host/pod/container for which you want logs. You can enter a pod ID or field name for example.</p><p>Harness uses this field to group data and perform analysis at the container-level.</p><p>For example, the query in <strong>Search Keywords</strong> looks for pods labelled <code>nginx-deployment</code>:</p><pre>resource.type=&#34;container&#34;<br/>resource.labels.pod_id:&#34;nginx-deployment-&#34;</pre><p>In <strong>Host Name Field</strong>, you would enter <strong>pod_id</strong> because it is the log field containing the pod name. In a log, this field will be in the resource section:</p><pre>...<br/> resource: {<br/>  labels: {<br/>   cluster_name:  &#34;doc-example&#34;    <br/>   container_name:  &#34;harness-delegate-instance&#34;    <br/>   instance_id:  &#34;1733097732247470454&#34;    <br/>   namespace_id:  &#34;harness-delegate&#34;    <br/><strong>   pod_id:  &#34;harness-sample-k8s-delegate-wverks-0&#34;    <br/></strong>   project_id:  &#34;exploration-161417&#34;    <br/>   zone:  &#34;us-central1-a&#34;    <br/>  }<br/>  type:  &#34;container&#34;   <br/> }<br/>...</pre><div class="hd--md" data-hd-markdown="&lt;span id=&#34;enable_service_guard&#34;&gt;&lt;/span&gt;"><p><span id="enable_service_guard"></span></p>
</div><p></p><h3>Step 7: Enable 24/7 Service Guard</h3><p>Click the checkbox to enable 24/7 Service Guard.</p><div class="hd--md" data-hd-markdown="&lt;span id=&#34;baseline&#34;&gt;&lt;/span&gt;"><p><span id="baseline"></span></p>
</div><p></p><h3>Step 8: Baseline</h3><p>Select the baseline time unit for monitoring. For example, if you select <strong>For 4 hours</strong>, Harness will collect the logs for the last 4 hours as the baseline for comparisons with future logs. If you select <strong>Custom Range</strong> you can enter a <strong>Start Time</strong> and <strong>End Time</strong>.</p><p>When you are finished, the dialog will look something like this:</p><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/other/1571954646470/image.png" style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure><p></p><div class="hd--md" data-hd-markdown="&lt;span id=&#34;verify_settings&#34;&gt;&lt;/span&gt;"><p><span id="verify_settings"></span></p>
</div><p></p><h3>Step 9: Verify Your Settings</h3><p></p><ol><li style="counter-increment:li 0" start="1">Click <strong>TEST</strong>. Harness verifies the settings you entered.</li><li>Click <strong>SUBMIT</strong>. The Stackdriver 24/7 Service Guard is configured.</li></ol><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/g5l03na9zo/1563318599124/image.png" style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure><p>To see the running 24/7 Service Guard analysis, click <strong>Continuous Verification</strong>. The 24/7 Service Guard dashboard displays the production verification results.</p><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/g5l03na9zo/1563318643060/image.png" style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure><p> For more information, see <a href="/article/dajt54pyxd-24-7-service-guard-overview">24/7 Service Guard Overview</a>.</p><div class="hd--md" data-hd-markdown="&lt;span id=&#34;next_steps&#34;&gt;&lt;/span&gt;"><p><span id="next_steps"></span></p>
</div><p></p><h3>Next Steps</h3><ul><li><a href="/article/nxy3mcw053-monitor-applications-24-7-with-stackdriver-metrics">Monitor Applications 24/7 with Stackdriver Metrics</a></li><li><a href="/article/4ohedfzz1c-3-verify-deployments-with-stackdriver">Verify Deployments with Stackdriver Logging</a></li><li><a href="/article/m0j49kz112-verify-deployments-with-stackdriver-metrics">Verify Deployments with Stackdriver Metrics</a></li></ul><p></p>