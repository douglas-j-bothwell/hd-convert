<p>Use Custom Thresholds to define two types of rules that override normal verification behavior:</p><ul><li><strong>Ignore Hints</strong> that instruct Harness to skip certain metrics/value combinations from verification analysis.</li><li><strong>Fast-Fail Hints</strong> that cause a Workflow to enter a failed state.</li></ul><p>This topic covers:</p><ul><li><a href="#limitations">Limitations</a></li><li><a href="#before_you_begin">Before You Begin</a></li><li><a href="#invoke">Step 1: Invoke Custom Thresholds</a></li><li><a href="#define_rule">Step 2: Define a Rule</a></li><li><a href="#select_criteria">Step 3: Select Criteria</a></li><li><a href="#repeat_save">Step 4: Add Rules and Save</a></li><li><a href="#next_steps">Next Steps</a></li></ul><p></p><div class="hd--md" data-hd-markdown="&lt;span id=&#34;before_you_begin&#34;&gt;&lt;/span&gt;"><p><span id="before_you_begin"></span></p>
</div><h3>Limitations</h3><ul><li>Harness currently supports Ignore thresholds for all verification providers.</li><li>Fail fast thresholds are supported with <a href="/article/ht3amzjvle-new-relic-verification-overview">New Relic</a>, <a href="/article/qkcn11esgb-3-verify-deployments-with-prometheus">Prometheus</a> and <a href="/article/e87u8c63z4-custom-verification-overview">Custom APMs</a>.</li></ul><h3>Before You Begin</h3><ul><li>In a Workflow&#39;s <strong>Verify Service</strong> section, click <strong>Add Verification.</strong></li><li>In the resulting <strong>Add Step</strong> settings, select a verification provider compatible with Custom Thresholds.<br/>Configure at least one Metrics Collection.</li></ul><div class="hd--md" data-hd-markdown="&lt;span id=&#34;invoke&#34;&gt;&lt;/span&gt;"><p><span id="invoke"></span></p>
</div><h3>Step 1: Invoke Custom Thresholds</h3><p>To begin defining one or more Custom Thresholds:</p><ol><li>In your Workflow, in the CV step you add, such as <strong>Configure Prometheus</strong>, click the pencil icon shown below.<figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/aat5m8p6ss/1583135410835/image.png" style="max-height:75%;max-width:75%" data-hd-height="75%" data-hd-width="75%"/></figure></li><li>In the resulting dialog, select either the <strong>Ignore Hints</strong> or the <strong>Fast-Fail Hints</strong> tab.</li><li>Click <strong>Add Threshold</strong> to begin defining a rule, as shown below.<figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/aat5m8p6ss/1583182562336/image.png" style="max-height:100%;max-width:100%" data-hd-height="100%" data-hd-width="100%"/></figure></li></ol><div class="hd--md" data-hd-markdown="&lt;span id=&#34;define_rule&#34;&gt;&lt;/span&gt;"><p><span id="define_rule"></span></p>
</div><h3>Step 2: Define a Rule</h3><ol><li>Use the drop-downs to select a desired <strong>Transaction Name</strong> and <strong>Metric Name</strong> from your defined Metrics Collections.</li><li>For Fast-Fail Hints, select an <strong>Action</strong> to take: <strong>Fail immediately</strong>, <strong>Fail after multiple occurrences</strong>, or <strong>Fail after multiple occurrences in a row</strong>. Two of these selections will expose a field where you must also specify the threshold <strong>Occurrence Count</strong>.</li></ol><p></p><div class="hd--md" data-hd-markdown="&lt;span id=&#34;select_criteria&#34;&gt;&lt;/span&gt;"><p><span id="select_criteria"></span></p>
</div><h3>Step 3: Select Criteria</h3><p>Select the <strong>Criteria</strong> for this rule, and enter a corresponding <strong>Value</strong>.</p><p>For various <strong>Criteria</strong> selections, the <strong>Value</strong> field&#39;s label will change to <strong>Less than</strong> for Ignore Hints, and to <strong>Greater than</strong> and/or <strong>Less than</strong> selectors for Fast-Fail Hints (as shown below).</p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/aat5m8p6ss/1583182286046/image.png" style="max-height:100%;max-width:100%" data-hd-height="100%" data-hd-width="100%"/></figure><p>Here are the <strong>Criteria</strong> and <strong>Value</strong> options available for the metric you&#39;ve selected:</p><p></p><table><tbody><tr><td><p><strong>Criteria</strong></p></td><td><p><strong>Value</strong></p></td></tr><tr><td><p>Absolute Value</p></td><td><p>Enter a literal value of the selected metric. In Ignore Hints, observed values <strong>Less than</strong> this threshold will be skipped from verification analysis. In Fast-Fail Hints, use the <strong>Range Selector</strong> drop-down to select whether observed values <strong>Less than</strong> or <strong>Greater than</strong> your threshold <strong>Value</strong> will move the Workflow to a failed state.</p></td></tr><tr><td><p>Percentage Deviation</p></td><td><p>Enter a threshold percentage at which to either skip the metric from analysis (Ignore Hints), or fail the Workflow (Fast-Fail Hints). Units here are percentages, so entering <code>3</code> will set the threshold at a 3% anomaly from the norm.</p></td></tr><tr><td><p>Deviation</p></td><td><p>This also sets a threshold deviation from the norm. But here, the units are not percentages, but literal values of the selected metric.</p></td></tr></tbody></table><p></p><div class="hd--md" data-hd-markdown="&lt;span id=&#34;repeat_save&#34;&gt;&lt;/span&gt;"><p><span id="repeat_save"></span></p>
</div><h3>Step 4: Add Rules and Save</h3><ol><li>If you want to define additional rules, click <strong>Add Threshold</strong>, then repeat Steps 2–3.</li><li>Click <strong>Submit</strong> to save your rules and apply them to this Verification step.</li></ol><p></p><div class="hd--md" data-hd-markdown="&lt;span id=&#34;next_steps&#34;&gt;&lt;/span&gt;"><p><span id="next_steps"></span></p>
</div><h3>Next Steps</h3><p>When you deploy this Workflow: Where a Fast-Fail Hint moves the Workflow to a failed state, the Workflow&#39;s Details panel for the corresponding Verification step will indicate the triggering threshold.</p><p></p>