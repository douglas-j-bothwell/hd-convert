<p>This article addresses some frequently asked questions about Harness GraphQL APIs.</p><h3>Before You Begin</h3><ul><li> <a href="/article/tm0w6rruqv-harness-api">​Introduction to Harness GraphQL API</a></li><li> <a href="/article/2rmd5i0e0h-harness-api-explorer">Harness API Explorer</a></li></ul><h3>General</h3><h4>Why Harness uses GraphQL APIs?</h4><p>GraphQL offers the following efficiency and reliability features for your consuming applications:</p><ul><li>Scoping – Each request can query for all the resources and data you want, and only the data you want.</li><li>Introspection – Your client applications can query the API schema for details about the API.</li><li>Hierarchical Organization – Your queries&#39; nested fields mirror the organization of the JSON data that the queries return.</li><li>Strong Typing – Applications can specify expected data types per field, and receive clear and specific error notifications.</li><li>Future-Proofing – GraphQL allows us to incrementally expose new fields and types, and retire obsolete fields, without versioning the API or breaking your existing queries.</li></ul><h4>Where do I construct API queries and see responses?</h4><p>The <strong>Harness API Explorer</strong> allows you to construct and perform API queries and see their responses. You can use API Explorer to examine the API&#39;s structure, to build and test queries against your data, and to optimize your queries. For more information, see <a href="https://docs.harness.io/article/2rmd5i0e0h-sample-queries-audit-trails">Harness API Explorer</a>.</p><h4>How do I fetch data using GraphQL APIs?</h4><p>Every GraphQL schema has a root type for both queries and mutations. The <a href="https://graphql.github.io/graphql-spec/June2018/#sec-Type-System">query type</a> defines GraphQL operations that retrieve data from the server. GraphQL queries return only the data you specify. To form a query, you must specify <a href="https://developer.github.com/v4/guides/intro-to-graphql#field">fields within fields</a> (also known as nested subfields).</p><p>Here is an example:</p><pre class="hljs json">query {<br/>  applicationByName(name: &#34;Harness GraphQL&#34;){<br/>    id<br/>    name<br/>  }<br/>}</pre><p>For more information, see <a href="https://graphql.github.io/learn/queries/">Queries</a> and <a href="https://graphql.github.io/learn/schema/">Schema and Types</a>.</p><h4>How do I write data using GraphQL APIs?</h4><p>Every GraphQL schema has a root type for both queries and mutations. The <a href="https://graphql.github.io/graphql-spec/June2018/#sec-Type-System">mutation type</a> defines GraphQL operations that change data on the server. It is analogous to performing HTTP verbs such as <code>POST</code>, <code>PATCH</code>, and <code>DELETE</code>.</p><p>There are generally three kinds of mutations:</p><ul><li>creating new data</li><li>updating existing data</li><li>deleting existing data</li></ul><p>Mutations follow the same syntactical structure as queries, but they always need to start with the <code>mutation</code> keyword. </p><p>Here is an example:</p><pre class="hljs json">mutation createapp($app: CreateApplicationInput!) {<br/>  createApplication(input: $app) {<br/>    clientMutationId<br/>    application {<br/>      name<br/>      id<br/>    }<br/>  }<br/>}</pre><p>For more information, see <a href="https://graphql.github.io/learn/queries/">Mutations</a> and <a href="https://graphql.github.io/learn/schema/">Schema and Types</a>.</p><h4>Is <code>clientMutationId</code> a mandatory parameter?</h4><p>No. This is a unique identifier (string) for the client performing the mutation.<code>clientMutationId</code> appears in both input and output types for mutations. If present, the same value is intended to be returned in the response as well. The client can use this to indicate duplicate mutation requests to the server and avoid multiple updates for the same request.</p><h4>How does Harness GraphQL API factor dynamic values out of the query?</h4><p>GraphQL has a first-class way to factor dynamic values out of the query, and pass them as a separate dictionary. These values are called <a href="https://graphql.github.io/learn/queries/#variables">variables</a>.</p><p>Here is an example:</p><pre class="hljs json">query($thisPipeline: String!) {<br/>  pipeline(pipelineId: $thisPipeline) {<br/>    id<br/>    name<br/>    description<br/>  }<br/>}</pre><h4>Does Harness impose Rate/Data Limiting?</h4><p>Yes. Harness GraphQL API imposes the following limits:</p><ul><li><strong>Deployments:</strong> 100 per 24 hours (rolling, not reset at 12am).</li><li><strong>GraphQL:</strong> 30 requests per minute.</li><li><strong>GraphQL custom dashboard:</strong> 30 requests per minute per paid account, 5 per Community and Essentials Editions.</li><li><strong>Delegate:</strong> 200 tasks acquired per minute per account. 10000 tasks acquired per minute per pod.</li><li><strong>Export Executions:</strong> 25 exports per 24 hours (rolling).</li><li><strong>Logins:</strong> 300 request per minute per pod.</li></ul><h5 id="undefined">Cloudflare Rate Limiting</h5><p>Harness uses Cloudflare as part of its platform. As a result, the following limitations apply:</p><ul><li>500 queries per minute per Harness account Id.</li><li>If the limit is reached, queries are blocked for one minute.</li></ul><p>If the limit is reached, you will see a 429 status code with the following response:</p><pre class="hljs json">{<br/>  &#34;code&#34;: &#34;TOO_MANY_REQUESTS&#34;,<br/>  &#34;message&#34;: &#34;Too many requests received, please try again later - Rate-Limit Limit 500 reached&#34;,<br/>  &#34;status&#34;: &#34;Error&#34;<br/>}</pre><h4>What does API in beta mean?</h4><p>API in beta allows you to try out new APIs and changes to the existing API methods before they become part of the official Harness GraphQL API. During the beta phase, some changes might be made to the features based on the feedback.</p><h4>Where can I find a list of deprecated API features?</h4><p>See <a href="/article/22e87m2sjt-deprecated-apis">Deprecated API Features</a>.</p><h4>How do I share any feedback on Harness GraphQL APIs?</h4><p>You can send us feedback on our APIs at <strong>api-feedback@harness.io</strong>. We&#39;d love to hear from you.</p><h3>Building Applications Using Postman</h3><h4>Can I query Harness GraphQL in Postman?</h4><p>Yes. See <a href="/article/txrp7awwu8-graph-ql-apis-for-browser-based-automation#query_harness_graph_ql_in_postman">Query Harness GraphQL in Postman</a>.</p><h4>How do I convert my query into the programming language of my choice in Postman?</h4><p>See <a href="/article/txrp7awwu8-graph-ql-apis-for-browser-based-automation#build_language_specific_queries_in_postman">Build Language-Specific Queries in Postman</a>.</p><h3>Authentication</h3><h4>How do I authenticate in Harness API Explorer?</h4><p>You can authenticate using the <strong>Logged-in User Session</strong> or <strong>Use API Key</strong>. The authentication determines what data you can query and retrieve via the API. By default, when you launch the <strong>API Explorer</strong>, you authenticate using a session key. See <a href="/article/2rmd5i0e0h-harness-api-explorer">Harness API Explorer</a>.</p><h3>Cloud Provider APIs</h3><h4>Can I create, read, update, and delete Harness Cloud Providers using Harness GraphQL APIs?</h4><p>Yes, you can create, read, update, and delete <a href="https://docs.harness.io/article/whwnovprrb-cloud-providers">Harness Cloud Providers</a> using the Harness API. See <a href="/article/dfx0qi1zf7-use-cloud-providers-api">Use Cloud Providers API</a>.</p><h4>How to search for Cloud Provider by ID?</h4><p>Using the Cloud Providers ID, you can run <code>cloudProvider(cloudProviderId)</code> or <code>cloudProviderById()</code>. See <a href="/article/dfx0qi1zf7-use-cloud-providers-api#step_5_search_for_cloud_provider_by_id">Search for Cloud Provider by ID</a>.</p><h4>Can I find all Cloud Providers by type using Harness API?</h4><p>Yes. For more information, see <a href="/article/dfx0qi1zf7-use-cloud-providers-api#step_4_find_all_cloud_providers_by_type">Find all Cloud Providers by Type</a>.</p><h4>How to find Cloud Provider by name?</h4><p>Using the Cloud Provider&#39;s name, run <code>cloudProviderByName</code>. See <a href="/article/dfx0qi1zf7-use-cloud-providers-api#step_6_find_cloud_provider_by_name">Find Cloud Provider by Name</a>.</p><h3>Artifact Source APIs</h3><h4>Can I fetch Artifact Source details using GraphQL APIs?</h4><p>Yes. For details, see <a href="/article/0z2b5a1x4x-artifact-source-api">Fetch Artifact Source Details Using GraphQL APIs</a>.</p><h4>How to fetch Artifact Source from a Service using APIs?</h4><p>Use this sample query to get the <code>Artifact Source</code> and <code>Artifact History</code> from a Harness Service. <a href="https://docs.harness.io/article/0z2b5a1x4x-artifact-source-api#step_fetch_the_service_id">Provide a Service ID</a> to fetch the details.</p><pre class="hljs json">query{<br/>  service(serviceId: &#34;ABEvYYxdRSegoaSFxIx2xX&#34;){<br/>    artifactSources{<br/>      id<br/>      name<br/>      artifacts(limit:10, offset:0){<br/>        nodes {<br/>          id<br/>          buildNo<br/>        }<br/>      }<br/>    }<br/>  }<br/>}</pre><h4>What is the query used to fetch Artifact Source ID from an Artifact?</h4><pre class="hljs properties">{<br/>  artifacts(filters:[<br/>    {<br/>      artifact: {<br/>        operator: EQUALS,<br/>        values: [&#34;a9xxxABCDwCNxnk90as1fA&#34;]<br/>      }<br/>    }<br/>  ], limit:10, offset:0){<br/>    nodes {<br/>      id<br/>      artifactSource {<br/>        id<br/>      }<br/>      buildNo<br/>    }<br/>  }<br/>}</pre><h3>Artifact Type APIs</h3><h4 id="fetch-artifact-type-details-using-graphql-apis">Can I fetch Artifact Type details using GraphQL APIs?</h4><p>Yes. See <a href="/article/nrl5r5zj94-fetch-artifact-type-using-graph-ql-apis">Fetch Artifact Type Details Using GraphQL APIs</a>.</p><h4>What are the supported Artifact Types?</h4><p>You can fetch the following Artifact Type details using GraphQL APIs. For more information, see the following topics:</p><ul><li> <a href="https://docs.harness.io/article/nrl5r5zj94-add-artifact-source-using-graph-ql-apis#fetch_details_of_jenkins_artifact_type">Fetch Details of Jenkins Artifact Type</a></li><li> <a href="https://docs.harness.io/article/nrl5r5zj94-add-artifact-source-using-graph-ql-apis#fetch_details_of_bamboo_artifact_type">Fetch Details of Bamboo Artifact Type</a></li><li> <a href="https://docs.harness.io/article/nrl5r5zj94-add-artifact-source-using-graph-ql-apis#fetch_details_of_docker_registry_artifact_type">Fetch Details of Docker Registry Artifact Type</a></li><li> <a href="https://docs.harness.io/article/nrl5r5zj94-add-artifact-source-using-graph-ql-apis#fetch_details_of_elastic_container_registry_ecr_artifact_type">Fetch Details of Elastic Container Registry (ECR) Artifact Type</a></li><li> <a href="https://docs.harness.io/article/nrl5r5zj94-add-artifact-source-using-graph-ql-apis#fetch_details_of_google_cloud_container_registry_gcr_artifact_type">Fetch Details of Google Cloud Container Registry (GCR) Artifact Type</a></li><li> <a href="https://docs.harness.io/article/nrl5r5zj94-add-artifact-source-using-graph-ql-apis#fetch_details_of_azure_container_registry_acr_artifact_type">Fetch Details of Azure Container Registry (ACR) Artifact Type</a></li><li> <a href="https://docs.harness.io/article/nrl5r5zj94-add-artifact-source-using-graph-ql-apis#fetch_details_of_nexus_artifact_type">Fetch Details of Nexus Artifact Type</a></li><li> <a href="https://docs.harness.io/article/nrl5r5zj94-add-artifact-source-using-graph-ql-apis#fetch_details_of_artifactory_artifact_type">Fetch Details of Artifactory Artifact Type</a></li><li> <a href="https://docs.harness.io/article/nrl5r5zj94-add-artifact-source-using-graph-ql-apis#fetch_details_of_amazon_s3_artifact_type">Fetch Details of Amazon S3 Artifact Type</a></li><li> <a href="https://docs.harness.io/article/nrl5r5zj94-add-artifact-source-using-graph-ql-apis#fetch_details_of_ami_artifact_type">Fetch Details of AMI Artifact Type</a></li><li> <a href="https://docs.harness.io/article/nrl5r5zj94-add-artifact-source-using-graph-ql-apis#fetch_details_of_gcs_artifact_type">Fetch Details of GCS Artifact Type</a></li><li> <a href="https://docs.harness.io/article/nrl5r5zj94-add-artifact-source-using-graph-ql-apis#fetch_details_of_smb_artifact_type">Fetch Details of SMB Artifact Type</a></li><li> <a href="https://docs.harness.io/article/nrl5r5zj94-add-artifact-source-using-graph-ql-apis#fetch_details_of_azure_artifact_type">Fetch Details of Azure Artifact Type</a></li></ul><h3>Harness Applications API</h3><h4>What are the different actions that I can perform using Harness Applications API?</h4><p>You can perform the following actions using Harness Application APIs:</p><ul><li> <a href="https://docs.harness.io/article/0wmvn5dgzn-use-harness-applications-api#create_applications">Create Applications</a></li><li> <a href="https://docs.harness.io/article/0wmvn5dgzn-use-harness-applications-api#update_applications">Update Applications</a></li><li> <a href="https://docs.harness.io/article/0wmvn5dgzn-use-harness-applications-api#enable_git_sync_for_an_application">Enable Git Sync for an Application</a></li><li> <a href="https://docs.harness.io/article/0wmvn5dgzn-use-harness-applications-api#show_pipelines_for_a_given_application">Show Pipelines for a Given Application</a></li><li> <a href="https://docs.harness.io/article/0wmvn5dgzn-use-harness-applications-api#show_services_for_a_given_application">Show Services for a Given Application</a></li><li> <a href="https://docs.harness.io/article/0wmvn5dgzn-use-harness-applications-api#fetch_the_list_of_services_for_a_given_application">Fetch the List of Services for a Given Application</a></li><li> <a href="https://docs.harness.io/article/0wmvn5dgzn-use-harness-applications-api#filter_harness_applications_using_harness_tags_in_the_api">Filter Harness Applications using Harness Tags in the API</a></li></ul><p>For more information, see <a href="/article/0wmvn5dgzn-use-harness-applications-api">Use Harness Applications API</a>.</p><h4 id="use-api-to-retrieve-ids-by-name">How do I use API to retrieve IDs by name?</h4><p>You can retrieve <code>applicationId</code>, <code>userIds</code>, and <code>userGroupId</code> object IDs (respectively) by using the <code>applicationByName</code>, <code>userByName</code>, and <code>userGroupByName</code> operations. Each of these queries takes a required <code>name</code> argument, as a string. See <a href="/article/iuswbbvwnm-use-api-to-retrieve-i-ds-by-name">Use API to Retrieve IDs by Name</a>.</p><h3>Workflow APIs</h3><h4>Can I get Workflow details using GraphQL APIs?</h4><p>Yes, you can get <a href="/article/ba4vs50071-use-workflows-api">Workflow</a> information using APIs.</p><h4>How to see executions for a given Workflow using Harness APIs?</h4><p>This sample queries by <code>workflowId</code> to return up to 30 deployments.</p><p></p><pre class="hljs json">{<br/>  executions(<br/>    filters: [<br/>      { workflow: { operator: EQUALS, values: [&#34;&lt;workflowId&gt;&#34;] } } <br/>    ]<br/>    limit: 30<br/>  ) {<br/>    pageInfo {<br/>      total<br/>    }<br/>    nodes {<br/>      id<br/>    }<br/>  }<br/>} </pre><h4>How can I trigger a Workflow using GraphQL API?</h4><p>Perform the following steps:</p><ul><li> <a href="https://docs.harness.io/article/s3leksekny-trigger-workflow-or-a-pipeline-using-api#step_1_fetch_the_application_id">Step 1: Fetch the Application ID</a></li><li> <a href="https://docs.harness.io/article/s3leksekny-trigger-workflow-or-a-pipeline-using-api#step_2_fetch_the_workflow_or_pipeline_id">Step 2: Fetch the Workflow or Pipeline ID</a></li><li> <a href="https://docs.harness.io/article/s3leksekny-trigger-workflow-or-a-pipeline-using-api#step_3_fetch_the_execution_input">Step 3: Fetch the Execution Input</a></li><li> <a href="https://docs.harness.io/article/s3leksekny-trigger-workflow-or-a-pipeline-using-api#step_4_start_the_execution">Step 4: Start the Execution</a></li></ul><p>For details, see <a href="/article/s3leksekny-trigger-workflow-or-a-pipeline-using-api">Trigger Workflows or Pipelines Using GraphQL API</a>.</p><h4>Can I fetch a user by email address using the Harness API?</h4><p>Yes, you can fetch a user by email address using the Harness API, including users that have not accepted invites. See <a href="/article/0a9x29s5ym-fetch-users-by-email-address">Fetch Users By Email Address</a>.</p><h3>Pipeline APIs</h3><h4>What is the query used to fetch Pipeline ID?</h4><p>Use this query to get <code>pipelineId</code> .</p><pre class="hljs objectivec">query{pipelineByName(applicationId: &#34;-XXXXqR6QIeXXXz-VuwIzA&#34; pipelineName: &#34;Test Pipeline&#34;<br/>) {<br/>  id<br/>}}</pre><h4>Can I see details of a Pipeline using Harness API?</h4><p>Yes. This example returns basic information about a specified Pipeline. It corresponds to a <code>GET</code> operation in a REST API.</p><pre class="hljs apache">{<br/>  pipeline(pipelineId: &#34;&lt;pipelineId&gt;&#34;) {<br/>    id<br/>    name<br/>    description<br/>  }<br/>}</pre><p></p><p>For more information, see <a href="/article/rfqmu6cejy-use-pipelines-api">Use Pipelines API</a>.</p><h3>Service APIs</h3><h4>How to fetch the list of Services for a given Application using Services API?</h4><p>This sample queries by <code>applicationId</code> to return <code>id</code> and <code>name</code> values for up to 1,000 Services.</p><pre class="hljs apache">{<br/>  services(<br/>    filters: [<br/>      { application: { operator: EQUALS, values: [&#34;&lt;applicationId&gt;&#34;] } }<br/>    ]<br/>    limit: 1000<br/>  ) {<br/>    pageInfo {<br/>      total<br/>    }<br/>    nodes {<br/>      id<br/>      name<br/>    }<br/>  }<br/>}</pre><p>For more information, see <a href="/article/lbw6cny911-use-services-api">Use Services API</a>.</p><h3>Trigger APIs</h3><h4>How to create, read, update, and delete <a href="https://docs.harness.io/article/xerirloz9a-add-a-trigger-2">Triggers</a> using the Harness API?</h4><p>Triggers automate deployments using a variety of conditions, such as Git events, new Artifacts, schedules, and the success of other Pipelines.</p><ul><li>Create a Trigger using the mutation <code>createTrigger</code>. You can select any of the following conditions to execute a Trigger:<ul><li>On Pipeline Completion</li><li>On New Artifact</li><li>On Time Schedule</li><li>On Webhook Event</li></ul></li><li>Update a Trigger using the mutation <code>updateTrigger</code>.</li><li>Delete a Trigger using the mutation <code>deleteTrigger</code>. You need to enter the ID of the Trigger that you want to delete</li></ul><p>See <a href="/article/u21rkuzfod-use-trigger-apis">Use Trigger APIs</a>.</p><h3>Users and Groups API</h3><h4>Can I create a user and assign them to the Harness User Groups?</h4><p>Yes. See <a href="/article/p9ssx4cv5t-sample-queries-create-users-user-groups-and-assign-permissions#create_a_user">Create a user</a>.</p><h4>How to assign permissions to Harness user groups using APIs?</h4><p>For details, see <a href="/article/p9ssx4cv5t-sample-queries-create-users-user-groups-and-assign-permissions#assign_permissions">Assign Permissions</a>.</p><h4 id="use-api-to-retrieve-ids-by-name">How do I use API to retrieve IDs by name?</h4><p>You can retrieve <code>applicationId</code>, <code>userIds</code>, and <code>userGroupId</code> object IDs (respectively) by using the <code>applicationByName</code>, <code>userByName</code>, and <code>userGroupByName</code> operations. Each of these queries takes a required <code>name</code> argument, as a string. See <a href="/article/iuswbbvwnm-use-api-to-retrieve-i-ds-by-name">Use API to Retrieve IDs by Name</a>.</p><h3>Harness Tags</h3><h4>How do I filter Harness entities using Harness Tags?</h4><p>Harness provides advanced tagging features for all of your Harness <a href="https://docs.harness.io/article/bucothemly-application-configuration">Application entities</a> (Services, Environments, Workflows, etc), as described in <a href="https://docs.harness.io/article/nrxfix3i58-tags">Assign Metadata Using Tags</a> and <a href="https://docs.harness.io/article/nyxf7g8erd-apply-filters-using-tags">Apply Filters Using Tags</a>.</p><p>You can use Tags to search for entities, ensuring that you only return the entities tagged with a specific name and value. Perform the following steps:</p><ol><li>Assign Tags to your Harness Entities.</li><li>Use <code>TagFilter</code>.</li></ol><p>For details, see <a href="/article/0fzcxynkv0-filter-api-queries-using-harness-tags">Filter Harness Entities using Harness Tags in the API</a>.</p><h3>Secrets Management</h3><h4>What are the different secret types supported using API?</h4><p>Harness GraphQL API includes:</p><ul><li> <a href="/article/omnfccj1n0-api-encrypted-text">Encrypted Text API</a></li><li> <a href="/article/jvhzdi1ztj-api-encrypted-files">Encrypted Files API</a></li><li> <a href="/article/v65okfwfl2-api-ssh-credentials">SSH Credentials API</a></li><li> <a href="/article/2rlo5zw321-api-win-rm-credentials">WinRM Credentials API</a></li></ul><h3>Git Connectors</h3><h4 id="add-git-connectors-using-api">Can I create, read, update, and delete (CRUD) Git Connectors using Harness GraphQL API?</h4><p>Yes. For more information, see <a href="/article/qwkg2khtr7-add-git-connectors-using-api">Add Git Connectors Using API</a>.</p><p></p>