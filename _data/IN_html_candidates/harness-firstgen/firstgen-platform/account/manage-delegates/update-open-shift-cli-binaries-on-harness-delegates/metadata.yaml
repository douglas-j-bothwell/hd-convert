type: article
article_id: gol46jnpeh
user_id: mfr0nxh4be
category_id: gyd73rp7np
author:
  name: Michael Cretzman
  profile_image: https://www.gravatar.com/avatar/2e8616837f4ee92be5d19ffe9b9ccba9?d=mm&s=150
title: Update OpenShift CLI Binaries on Harness Delegates
slug: update-open-shift-cli-binaries-on-harness-delegates
description: Update the OpenShift CLI used by Harness.
short_version: Update the OpenShift CLI used by Harness.
tags: []
show_toc: true
is_private: false
is_published: true
is_featured: false
stale_status:
  is_stale: false
  reason: ""
  source: API
  triggered_at: 2022-07-06T18:58:21.823299Z
  expires_at: null
permission_groups: []
multilingual:
- language_code: en
  title: Update OpenShift CLI Binaries on Harness Delegates
  description: Update the OpenShift CLI used by Harness.
  short_version: Update the OpenShift CLI used by Harness.
  body: '<p>When you install and run a new Harness Delegate, Harness defaults to OpenShift
    CLI version v4.2.16.</p><p>In some cases, you might want to use one a different
    binary. For example, you might want to use <code>oc</code> command options only
    available in a more recent version. </p><p>Updating the OpenShift CLI is as simple
    as adding the binary to the Delegate host(s), changing the <code>OC_VERSION</code>
    environment variable, and then starting or restarting the Delegate.</p><p>In this
    topic:</p><ul><li><a href="https://docs.harness.io/article/gol46jnpeh-update-open-shift-cli-binaries-on-harness-delegates#before_you_begin">Before
    You Begin</a></li><li><a href="https://docs.harness.io/article/gol46jnpeh-update-open-shift-cli-binaries-on-harness-delegates#step_1_download_the_open_shift_binary">Step
    1: Download the OpenShift Binary</a></li><li><a href="https://docs.harness.io/article/gol46jnpeh-update-open-shift-cli-binaries-on-harness-delegates#step_2_update_oc_version">Step
    2: Update OC_VERSION</a></li><li><a href="https://docs.harness.io/article/gol46jnpeh-update-open-shift-cli-binaries-on-harness-delegates#step_3_restart_the_delegate">Step
    3: Restart the Delegate</a></li><li><a href="https://docs.harness.io/article/gol46jnpeh-update-open-shift-cli-binaries-on-harness-delegates#see_also">See
    Also</a></li></ul><h3>Before You Begin</h3><ul><li><a href="/article/h9tkwmkrm7-delegate-installation">Harness
    Delegate Overview</a></li><li><a href="/article/p756zrn9vc-using-open-shift-with-harness-kubernetes">Using
    OpenShift with Harness Kubernetes</a></li></ul><h3>Step 1: Download the OpenShift
    Binary</h3><p>To install the OpenShift CLI (<code>oc</code>) binary on Linux or
    Windows, do the following.</p><p>Navigate to the <a href="https://access.redhat.com/downloads/content/290">OpenShift
    Container Platform downloads page</a> on the Red Hat Customer Portal.</p><p>Select
    the appropriate version in the <strong>Version</strong> drop-down menu.</p><p>Click <strong>Download
    Now</strong> next to the <strong>OpenShift v4.x Linux Client</strong> or <strong>OpenShift
    v4.x Windows Client</strong> and save the file.</p><p>Unpack the archive (<code>tar
    xvzf &lt;file&gt;</code>).</p><p>Place the <code>oc</code> binary in a directory
    that is on your <code>PATH</code> (for example, <code>client-tools/oc/v4.x.x</code>).</p><h3>Step
    2: Update OC_VERSION</h3><p>The host must have an exact match between the <code>OC_VERSION</code>
    value (typically, in the <code>.bashrc</code> file) and the path of the library
    in <code>client-tools/oc/$OC_VERSION</code>.</p><p>Update the <code>OC_VERSION</code>
    environment variable on the host system with the new version number.</p><p>If
    the version number is not added, Harness defaults to v4.2.16.</p><h3>Step 3: Restart
    the Delegate</h3><p>Each type of Delegate uses a configuration file that you must
    use to restart your Delegate.</p><p>Here are the different types of Delegates
    and the configuration restart commands:</p><ul><li><strong>Kubernetes:</strong>
    <code>kubectl apply -f harness-delegate.yaml</code></li><li><strong>Shell Script:</strong>
    restart the Delegate with <code>./stop</code> and then <code>./start</code>.</li><li><strong>Helm:</strong>
    <code>helm install --name helm-delegate-doc harness/harness-delegate -f harness-delegate-values.yaml</code></li><li><strong>Docker:</strong>
    <code>./launch-harness-delegate.sh</code></li></ul><h3>See Also</h3><ul><li><a
    href="/article/p756zrn9vc-using-open-shift-with-harness-kubernetes">Using OpenShift
    with Harness Kubernetes</a></li></ul><p></p>'
  slug: update-open-shift-cli-binaries-on-harness-delegates
  tags: []
  is_live: true
