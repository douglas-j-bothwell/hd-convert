<div class="tip-callout">The <strong>Task Category Map</strong> feature replaces the <strong>Command</strong> setting in Delegate Scopes, which is deprecated and will be removed soon.</div><p>Harness deployments are broken down into separate tasks performed by Harness Delegates.</p><p>Tasks are organized by category. For example, all the connections and images pulled using Docker Hub are part of the Docker Hub Task Category.</p><p>By default, Harness performs tasks using any available Delegates. If you want Harness to prioritize a specific Delegate for a task category, you can map the task category to a Selector, and apply that Selector to a Delegate.</p><p>The mapped Selector can also be used in certain Harness entities to prioritize Delegates, such as <a href="/article/whwnovprrb-cloud-providers">Cloud Providers</a> and the <a href="/article/1fjrjbau7x-capture-shell-script-step-output">Shell Script Workflow step</a>.</p><p>This topic describes how to map task categories to Selectors, and then apply the Selector to one or more Delegates.</p><p>In this topic:</p><ul><li> <a href="#before_you_begin">Before You Begin</a></li><li> <a href="#supported_platforms_and_technologies">Supported Platforms and Technologies</a></li><li> <a href="#visual_summary">Visual Summary</a></li><li> <a href="#step_1_set_permissions">Step 1: Set Permissions</a></li><li> <a href="#step_2_map_a_selector_to_a_task_category">Step 2: Map a Selector to a Task Category</a></li><li> <a href="#review_applying_selectors_to_delegates_and_profiles">Review: Applying Selectors to Delegates and Profiles</a><ul><li> <a href="#which_option_to_use">Which option to use?</a></li></ul></li><li> <a href="#review_task_categories">Review: Task Categories</a></li></ul><p></p><h3>Before You Begin</h3><p>The Delegate is a key component of your Harness setup. Please review the following topics to ensure you have a solid understanding of the Delegate:</p><ul><li> <a href="/article/4o7oqwih6h-harness-key-concepts">Harness Key Concepts</a></li><li> <a href="/article/h9tkwmkrm7-delegate-installation">Harness Delegate Overview</a></li><li> <a href="/article/c3fvixpgsl-select-delegates-for-specific-tasks-with-selectors">Select Delegates with Selectors</a></li><li> <a href="/article/yd4bs0pltf-run-scripts-on-the-delegate-using-profiles">Run Scripts on Delegates using Profiles</a></li></ul><h3>Supported Platforms and Technologies</h3><p>See <a href="/article/220d0ojx5y-supported-platforms">Supported Platforms and Technologies</a>.</p><p></p><h3>Visual Summary</h3><p></p><details><summary>Here is example of adding a new Selector to a Delegate, and then mapping the Selector to a Task Category:</summary><div><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/nzuhppobyg/1604446534988/task-category-custom.gif"/></figure></div></details><p></p><details><summary>Here is an example of adding a Selector to a Task Category Mapping, and then applying the Selector to a Delegate:</summary><div><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/nzuhppobyg/1604446880968/task-category.gif"/></figure></div></details><p></p><h3>Step 1: Set Permissions</h3><p>To map Selectors to Task Categories a user must belong to a User Group with the Account Permission <strong>Manage Delegates</strong> enabled.</p><p>See <a href="/article/ven0bvulsj-users-and-permissions">Managing Users and Groups (RBAC)</a>.</p><h3>Step 2: Map a Selector to a Task Category</h3><ol><li>To map a Selector to a Task Category, in <strong>Setup</strong>, click <strong>Harness Delegates</strong>.</li><li>Click <strong>Task Category Map</strong>.</li><li>Click <strong>Map Task Category</strong>.</li><li>In <strong>Task Category</strong>, select the category you want to map. See <a href="#review_task_categories">Review: Task Categories</a>.</li><li>Select or create selectors to map to this Task Category.<ol><li>You can simply enter the name of a new Selector and click <strong>Create</strong>.</li><li>If you have an existing Selector, one that is perhaps already used by a Delegate or Delegate Profile, you can start entering its name and it will appear. Next, click its name to select it.<div class="note-callout">You must select or create at least one Selector.</div></li></ol></li><li>Click <strong>Submit</strong>. The Task Category is now mapped to the Selector.</li></ol><p>If this Selector is not being used by a Delegate or Profile, you can now add it to one or both.</p><h3>Review: Applying Selectors to Delegates and Profiles</h3><p>Once you have mapped a Selector to a Task Category, you can apply the Selector to a Delegate using the following options:</p><ul><li>Add the Selector to the Delegate&#39;s <strong>Custom Selectors</strong> setting.</li><li>Add the Selector to a Delegate Profile, and then add the Profile to any Delegates. All the Delegates using that Profile are thereby mapped to the Task Category.</li></ul><p>For steps on adding Custom Selectors, see <a href="/article/c3fvixpgsl-select-delegates-for-specific-tasks-with-selectors">Select Delegates with Selectors</a>.</p><p>For steps on adding Profile Selectors, see the Selector option in <a href="/article/yd4bs0pltf-run-scripts-on-the-delegate-using-profiles">Run Scripts on Delegates using Profiles</a>.</p><h4>Which option to use?</h4><p>If your task requires a Delegate Profile, it is best to map the Task Category to a Selector and apply that Selector to the Profile. All Delegates assigned that Profile will then perform the mapped tasks.</p><p>If your task can only be performed by specific Delegates because of their location or credentials, it is best to map it to specific Delegate using a Delegate&#39;s <strong>Custom Selectors</strong> setting.</p><h3>Review: Task Categories</h3><p>The following table describes the different task categories.</p><table><tbody><tr><td><p><strong>Task Category</strong></p></td><td><p><strong>Description</strong></p></td></tr><tr><td><p>Amazon Machine Image (AMI)</p></td><td><p>Perform tasks related to <a href="/article/wfk9o0tsjb-aws-ami-deployments">AMI Deployments</a>.</p></td></tr><tr><td><p>Amazon Elastic Container Registry (ECR)</p></td><td><p>Connect and pull images from ECR.</p></td></tr><tr><td><p>Amazon S3</p></td><td><p>Connect and pull artifacts and files from Amazon S3.</p></td></tr><tr><td><p>AppDynamics</p></td><td><p>Perform <a href="/article/2zxfjt67yb-app-dynamics-verification-overview">AppDynamics verification tasks</a>.</p></td></tr><tr><td><p>AWS</p></td><td><p>Connect using any Harness <a href="/article/wt1gnigme7-add-amazon-web-services-cloud-provider">AWS Cloud Provider</a>.</p></td></tr><tr><td><p>APM</p></td><td><p>Delegate can perform any APM task</p></td></tr><tr><td><p>Artifactory</p></td><td><p>Connect to JFrog Artifactory using the <a href="/article/nj3p1t7v3x-add-artifactory-servers">Artifactory Artifact Server</a> credentials.</p></td></tr><tr><td><p>Azure Container Registry</p></td><td><p>Connect and pull <a href="/article/kiuft72fr5-azure-deployments-overview">Azure Container Registry</a> images and artifacts.</p></td></tr><tr><td><p>Bamboo</p></td><td><p>Perform Bamboo related tasks using the <a href="/article/feks6co940-add-bamboo-artifact-servers">Bamboo Artifact Server</a> credentials.</p></td></tr><tr><td><p>Build Source</p></td><td><p>Perform tasks for any <a href="/article/0tphhkfqx8-artifact-build-and-deploy-pipelines-overview">Build Workflow</a>.</p></td></tr><tr><td><p>CloudFormation</p></td><td><p>Perform CloudFormation tasks such as CloudFormation Create Stack and CloudFormation Delete Stack Workflow steps. See <a href="/article/qj0ems5hmg-cloud-formation-provisioning-with-harness">CloudFormation Provisioning with Harness</a>.</p></td></tr><tr><td><p>CloudWatch</p></td><td><p>Perform configuration and verification using AWS <a href="/article/q6ti811nck-cloud-watch-verification-overview">CloudWatch</a>.</p></td></tr><tr><td><p>Collaboration Provider</p></td><td><p>Connect and configure Harness <a href="/article/cv98scx8pj-collaboration-providers">Collaboration Providers</a>.</p></td></tr><tr><td><p>Command</p></td><td><p>Delegate will be used first for <a href="/article/kbmz9uc7q9-create-a-service-command-template">Service commands</a>.</p></td></tr><tr><td><p>Connectivity Validation</p></td><td><p>Tests connectivity with resources, such as Harness Cloud Providers.</p></td></tr><tr><td><p>Container</p></td><td><p>Performs the following container-related tasks:</p><ul><li>Container active service counts</li><li>Container information</li><li>Controller names with labels</li><li>Container Continuous Efficiency (CE) validation</li><li>CE Delegate validation</li><li>Container connection validation</li><li>List clusters</li><li>Container validation</li><li>Fetch Kubernetes master URL</li><li>Kubernetes steady state check</li><li>Kubernetes swap service selectors</li><li>ECS steady state check</li><li>Validate Kubernetes config</li></ul></td></tr><tr><td><p>Custom Artifact Source</p></td><td><p>Collect artifacts using <a href="/article/jizsp5tsms-custom-artifact-source">Custom Artifact Sources</a>.</p></td></tr><tr><td><p>Custom Log Collection and Bugsnag</p></td><td><p>Perform configuration and verification using <a href="/article/d4i9pp3uea-verify-deployments-with-custom-logs">Custom Logs</a> and <a href="/article/ac5piurukt-bugsnag-verification-overview">Bugsnag Verification Overview</a>. </p></td></tr><tr><td><p>Dynatrace</p></td><td><p>Perform configuration and verification using <a href="/article/r3xtgg0e2k-dynatrace-verification-overview">Dynatrace</a>.</p></td></tr><tr><td><p>Docker Hub</p></td><td><p>Connect to <a href="/article/tdj2ghkqb0-add-docker-registry-artifact-servers">Docker Hub</a> and pull down metadata associated with the artifact.</p></td></tr><tr><td><p>ELK</p></td><td><p>Perform configuration and verification using <a href="/article/qdajtgsqfj-elasticsearch-verification-overview">ELK</a>.</p></td></tr><tr><td><p>Git</p></td><td><p>Perform configuration and tasks <a href="/article/ay9hlwbgwa-add-source-repo-providers">Git Source Repo Providers</a>.</p></td></tr><tr><td><p>Google Cloud Build</p></td><td><p>Perform <a href="/article/dvm5q9j0d0-trigger-google-cloud-builds">Google Cloud Build</a> related tasks.</p></td></tr><tr><td><p>Google Cloud Storage</p></td><td><p>Connect and pull artifacts from <a href="/article/6x52zvqsta-add-google-cloud-platform-cloud-provider#review_google_gcs_and_gcr_requirements">Google Cloud Storage</a>.</p></td></tr><tr><td><p>Google Container Registry</p></td><td><p>Connect and pull artifacts from <a href="/article/6x52zvqsta-add-google-cloud-platform-cloud-provider#review_google_gcs_and_gcr_requirements">GCR</a>.</p></td></tr><tr><td><p>Helm</p></td><td><p>Delegate can perform <a href="/article/583ojfgg49-helm-deployments-overview">Native Helm deployment</a> tasks.</p></td></tr><tr><td><p>Helm Repo Config Validation</p></td><td><p>Validate the <a href="/article/0hrzb1zkog-add-helm-repository-servers">Helm Repo</a> connection.</p></td></tr><tr><td><p>Helm Values Fetch</p></td><td><p>Fetch values.yaml for <a href="/article/583ojfgg49-helm-deployments-overview">Native</a> and <a href="/article/hddm3rgf1y-use-a-helm-repository-with-kubernetes">Kubernetes Helm</a> deployments.</p></td></tr><tr><td><p>HTTP Verification</p></td><td><p>Perform the <a href="/article/m8ksas9f71-using-the-http-command">HTTP step</a> in a Workflow.</p></td></tr><tr><td><p>Host Validation</p></td><td><p>Validating target hosts availability. For example, see <a href="/article/9h1cqaxyp9-select-nodes-workflow-step">Select Nodes Workflow Step</a>.</p></td></tr><tr><td><p>Jenkins</p></td><td><p>Connect and perform tasks for <a href="/article/5fzq9w0pq7-using-the-jenkins-command">Jenkins</a>.</p></td></tr><tr><td><p>Jira</p></td><td><p>Connect and perform tasks for <a href="/article/077hwokrpr-jira-integration">Jira</a>.</p></td></tr><tr><td><p>Key Management Service</p></td><td><p>Connect and perform tasks for <a href="/article/au38zpufhr-secret-management">Harness Secrets Managers</a>.</p></td></tr><tr><td><p>Kubernetes</p></td><td><p>Performs Kubernetes rollouts for <a href="/article/7in9z2boh6-kubernetes-quickstart">Kubernetes deployments</a>.</p></td></tr><tr><td><p>LDAP</p></td><td><p>Connect to LDAP server and perform <a href="/article/85rycqfiqg-sso-ldap">LDAP tasks</a>.</p></td></tr><tr><td><p>Logz</p></td><td><p>Connect and perform <a href="/article/vbl1xlad1e-verify-deployments-with-logz-io">Logz tasks</a>.</p></td></tr><tr><td><p>Nexus</p></td><td><p>Connect to <a href="/article/rdhndux2ab-nexus-artifact-sources">Nexus</a> and pull down metadata associated with the artifact.</p></td></tr><tr><td><p>New Relic</p></td><td><p>Connect and perform <a href="/article/ht3amzjvle-new-relic-verification-overview">New Relic</a> tasks.</p></td></tr><tr><td><p>Prometheus</p></td><td><p>Connect and perform <a href="/article/5uh79dplbj-prometheus-verification-overview">Prometheus</a> tasks.</p></td></tr><tr><td><p>PCF</p></td><td><p>Connect and perform <a href="/article/hy819vmsux-pivotal-cloud-foundry-quickstart">Pivotal (PCF) deployments</a>.</p></td></tr><tr><td><p>Service Guard</p></td><td><p>Perform <a href="/article/dajt54pyxd-24-7-service-guard-overview">24/7 Service Guard</a> tasks.</p></td></tr><tr><td><p>ServiceNow</p></td><td><p>Connect and perform <a href="/article/7vsqnt0gch-service-now-integration">ServiceNow</a> tasks.</p></td></tr><tr><td><p>SFTP</p></td><td><p>Delegate can perform <a href="/article/3d1awjkw57-add-sftp-artifact-servers">SFTP</a> (email server) tasks such as sending emails.</p></td></tr><tr><td><p>Splunk</p></td><td><p>Connect and perform <a href="/article/dujtd6ek5p-splunk-verification-overview">Splunk</a> tasks.</p></td></tr><tr><td><p>Shell Script</p></td><td><p>Perform <a href="/article/1fjrjbau7x-capture-shell-script-step-output">Shell Script</a> step in a Workflow.</p></td></tr><tr><td><p>Shell Script Provision</p></td><td><p>Delegate can perform <a href="/article/1m3p7phdqo-shell-script-provisioner">Shell Script Provisioner</a> tasks.</p></td></tr><tr><td><p>Slack Notifications</p></td><td><p>Delegate can perform tasks related to sending <a href="/article/4blpfqwfdc-send-notification-using-slack">Slack notifications</a>.</p></td></tr><tr><td><p>SMB</p></td><td><p>Delegate can perform tasks related to <a href="/article/o1ck4eay7a-add-smb-artifact-servers">SMB Artifact Servers</a>. </p></td></tr><tr><td><p>SpotInst</p></td><td><p>Delegate can perform <a href="/article/ighbnk6xg6-ami-spotinst-elastigroup-deployments-overview">SpotInst Deployments</a> and connect to the <a href="/article/uxah3ji489-add-spot-inst-cloud-provider">SpotInst Cloud Provider</a>.</p></td></tr><tr><td><p>Sumo Logic</p></td><td><p>Delegate can perform tasks related to <a href="/article/wb2k4u4kxm-sumo-logic-verification-overview">Sumo Logic calls</a> and <a href="/article/38qrwi7wu2-1-sumo-logic-connection-setup">Sumo Logic Verification Provider</a>.</p></td></tr><tr><td><p>Terraform</p></td><td><p>Delegate can perform <a href="/article/hh52ews03d-terraform-provisioning-with-harness">Terraform tasks</a>.</p></td></tr><tr><td><p>Trigger</p></td><td><p>Delegate can perform tasks related to <a href="https://docs.harness.io/article/xerirloz9a-add-a-trigger-2">Harness Triggers</a>.</p></td></tr><tr><td><p>Continuous Integration</p></td><td><p>Delegate can perform tasks related to CI: <a href="/article/5fzq9w0pq7-using-the-jenkins-command">Jenkins</a>, <a href="/article/feks6co940-add-bamboo-artifact-servers">Bamboo</a>.</p></td></tr><tr><td><p>Artifact Collection In Pipeline</p></td><td><p>Delegate can perform the <a href="/article/0tphhkfqx8-artifact-build-and-deploy-pipelines-overview">artifact collection</a> step in a Pipeline.</p></td></tr></tbody></table><p> </p><p></p>