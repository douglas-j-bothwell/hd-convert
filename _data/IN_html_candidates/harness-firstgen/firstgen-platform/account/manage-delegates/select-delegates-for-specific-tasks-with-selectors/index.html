<div class="note-callout">Delegate Selectors were formerly called Tags. Now, <em>Tags</em> refers only to tagging Harness Application components as described in <a href="/article/nrxfix3i58-tags">Using Tags</a>.</div><p>When Harness needs to run a task, it makes a connection to a resource via its Delegates. Harness selects the best Delegate according to its history or it round robins between Delegates. See <a href="/article/h9tkwmkrm7-delegate-installation#how_does_harness_manager_pick_delegates">How Does Harness Manager Pick Delegates?</a>.</p><p>In a few cases, you might want Harness to select specific Delegates. In these cases, you can use Delegate Selectors:</p><ul><li><strong>For some Cloud Provider types:</strong> you can use Delegate Selectors to select the Delegate to use for authentication. The Cloud Provider inherits the authentication permissions used by the Delegate.</li><li><strong>For some Workflow step types:</strong> you can target specific Delegates using Selectors. This is only done if the Workflow Infrastructure Definition&#39;s Cloud Provider does not use Delegate Selectors already.</li></ul><p>In this topic:</p><ul><li> <a href="#review_implicit_and_custom_selectors">Review: Implicit and Custom Selectors</a></li><li> <a href="#review_how_selectors_are_used">Review: How Selectors are Used</a></li><li> <a href="#step_1_create_a_selector">Step 1: Create a Selector</a></li><li> <a href="#step_2_select_delegates_using_selectors">Step 2: Select Delegates Using Selectors</a></li><li> <a href="#see_also">See Also</a></li></ul><h3>Review: Implicit and Custom Selectors</h3><p>There are two types of Selectors:</p><ul><li><strong>Implicit</strong>—Harness provides these Selectors as part of your account. They are generated automatically and can be used to identify the Delegate, and can be used in AWS Cloud Providers.</li><li><strong>Custom</strong>—These are Selectors that you add to identify this Delegate and select it in other entities, such as the Shell Script Workflow step.</li></ul><p>In this topic, we will focus on custom Selectors.</p><h3>Review: How Selectors are Used</h3><p>By default, when your Workflow is deployed, Harness uses the Cloud Provider in the Workflow&#39;s Infrastructure Definition to connect to the target environment. </p><p>If the Infrastructure Definition&#39;s Cloud Provider uses a Delegate Selector (supported in Kubernetes Cluster and AWS Cloud Providers), then the Workflow uses the selected Delegate for all of its steps.</p><p>In these cases, you should <u>not</u> add a Delegate Selector to any step in the Workflow. The Workflow is already using a Selector via its Infrastructure Definition&#39;s Cloud Provider.</p><p>In cases where the Infrastructure Definition&#39;s Cloud Provider does not use a Delegate Selector, Harness selects the Delegate to use based on criteria explained <a href="/article/h9tkwmkrm7-delegate-installation#how_does_harness_manager_pick_delegates">here</a>.</p><p>In these cases, you might want a Workflow step to use a specific Delegate. You can use a Delegate Selector to select the Delegate.</p><p>For that Workflow step only, Harness will use the Delegate selected via the Delegate Selector.</p><h4>Pre-deployment Steps</h4><p>Workflow types with <strong>Pre-deployment Steps</strong> do not use the Infrastructure Definition, and so they do not use the Infrastructure Definition&#39;s Cloud Provider and any related Delegate Selectors. </p><p>Steps added to this section can select Delegates using the step&#39;s Delegate Selectors setting.</p><h3>Step 1: Create a Selector</h3><ol><li>In Harness, click Setup, and then click <strong>Harness Delegates</strong>.</li><li>In the listing of the Delegate where you want to add a Selector, click <strong>Custom</strong> <strong>Selector</strong>.</li><li>In <strong>Edit Selectors</strong>, type in the Selector name, such as <strong>dev</strong>, and press <strong>Enter</strong>. You can enter as many Selectors as you like.</li><li>Click <strong>Submit</strong>. The Selector is added.</li></ol><h3>Step 2: Select Delegates Using Selectors</h3><p>Elsewhere, such as in a <a href="/article/1fjrjbau7x-capture-shell-script-step-output">Shell Script step in a Workflow</a>, you can use the Selector to ensure that this Delegate is used when executing the command.</p><div class="note-callout"><strong>All of the Selectors</strong> that you enter must be in the Delegate(s) you are targeting.</div><p>Another common use of a Delegate Selector is in an <a href="/article/wt1gnigme7-add-amazon-web-services-cloud-provider">AWS Cloud Provider</a>.</p><p>For example, you can install a Delegate in an AWS VPC and then select it in the AWS Cloud Provider Credentials when you select <strong>Assume IAM Role on Delegate</strong>.</p><p>In the <strong>Delegate Selector</strong> setting, you select the Selector by name, such as <strong>ecs-delegate</strong>.</p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/c3fvixpgsl/1620840080287/rn-r-2-w-5-nc-1-kfsju-fmu-lxnw-8-pybzn-zs-vabfdvt-2-iyarq-o-3-v-wxs-bb-utz-5-fqu-5-lit-zz-3-utd-a-w-e-8-c-j-316-ws-ndb-bp-0-fyty-xjc-ne-u-2-c-02-z-aunbcgkc-dm-ele-i-6-t-t-8-k-6-n-1-do-0-b-0-rdod-1-fp"/></figure><p>Now the Harness AWS Cloud Provider will use the Delegate&#39;s credentials to connect with AWS.</p><h3>See Also</h3><ul><li> <a href="/article/yd4bs0pltf-run-scripts-on-the-delegate-using-profiles">Run Scripts on Delegates using Profiles</a></li><li> <a href="/article/hw56f9nz7q-scope-delegates-to-harness-components-and-commands">Scope Delegates to Harness Components and Commands</a></li></ul><p></p>