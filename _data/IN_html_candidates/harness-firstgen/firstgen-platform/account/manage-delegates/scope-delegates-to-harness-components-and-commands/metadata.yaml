type: article
article_id: hw56f9nz7q
user_id: mfr0nxh4be
category_id: gyd73rp7np
author:
  name: Michael Cretzman
  profile_image: https://www.gravatar.com/avatar/2e8616837f4ee92be5d19ffe9b9ccba9?d=mm&s=150
title: Scope Delegates to Harness Components and Commands
slug: scope-delegates-to-harness-components-and-commands
description: The Command setting in Delegate Scopes is deprecated and will be removed
  soon. Please use Task Category Map to scope commands to specific Delegates. See
  Delegate Task Category Mapping. By default, a…
short_version: The Command setting in Delegate Scopes is deprecated and will be removed
  soon. Please use Task Category Map to scope commands to specific Delegates. See
  Delegate Task Category Mapping. By default, a…
tags: []
show_toc: true
is_private: false
is_published: true
is_featured: false
stale_status:
  is_stale: false
  reason: ""
  source: API
  triggered_at: 2022-07-06T18:58:21.734843Z
  expires_at: null
permission_groups: []
multilingual:
- language_code: en
  title: Scope Delegates to Harness Components and Commands
  description: ""
  short_version: ""
  body: '<div class="note-callout">The Command setting in Delegate Scopes is deprecated
    and will be removed soon. Please use Task Category Map to scope commands to specific
    Delegates. See <a href="/article/nzuhppobyg-map-tasks-to-delegates-and-profiles">Delegate
    Task Category Mapping</a>.</div><p><span style="font-weight:400">By default, a
    Delegate will perform all connections you set up and processes you run. To limit,
    or scope, a Delegate, </span><span style="font-weight:400">you can set specific
    boundaries and associations for each Delegate you run.</span></p><p>In this topic:</p><ul><li>
    <a href="#review_delegate_scope_example">Review: Delegate Scope Example</a></li><li>
    <a href="#step_1_scope_a_delegate">Step 1: Scope a Delegate</a></li><li> <a href="#best_practices_and_notes">Best
    Practices and Notes</a></li></ul><h3>Review: <span style="font-weight:400">Delegate
    Scope Example</span></h3><p><span style="font-weight:400">You need to restrict
    access to a production environment. Without defining a scope, the Delegate scans
    all network ports to map out the Environment and performs checks to access the
    Artifact Servers and Cloud Providers it needs. By defining a scope, you can limit
    the Delegate to connect to only the specific Environments, Applications, and</span>
    Infrastructure Definition <span style="font-weight:400">it needs. </span></p><p><span
    style="font-weight:400">Defining a scope is optional, but if you use scoping you
    can prevent the Delegate from constantly looking for what’s available or accessible.</span></p><p>You
    can apply multiple scopes to a Delegate.</p><h3>Step 1: Scope a Delegate</h3><p>To
    scope a Delegate, do the following:</p><ol><li>On the <strong>Harness Delegates</strong>
    page, in the Delegate you want to scope, click <strong>See delegate scopes</strong>.</li><li>Do
    one of the following:<ol><li>In <strong>Scopes Limited To</strong>, click <strong>Add
    Scope</strong>. If you select this option, then the Delegate is <u>only</u> used
    for the entities selected.</li><li>In <strong>Scopes Excluded</strong>, click
    <strong>Exclude Scope</strong>. If you select this option, then the Delegate is
    <u>never</u> used for the entities selected.</li></ol></li><li>In <strong>Add
    Delegate Scope</strong>, do one of the following:<ol><li>Select <strong>From existing
    scope</strong>, and then in <strong>Scope</strong>, select the existing Scope
    and click <strong>Add Scope</strong>.</li><li>Select <strong>New scope</strong>,
    and then click <strong>Add Scope</strong>.</li></ol></li><li>If you selected <strong>New
    Scope</strong>, in <strong>Display Name</strong>, enter a name for the scope.</li><li>Select
    the entities the Scope applies to.<br/>You must pick at least one Delegate Scope
    property.</li><li>Click <strong>Submit</strong>. The scope is added to the Delegate.</li></ol><h3>Best
    Practices and Notes</h3><p>The following information will help you prevent many
    Delegate issues.</p><h4>Scopes Excluded is More Effective</h4><p>The most important
    decision when creating a Delegate Scope is selecting <strong>Scopes Limited To</strong>
    or <strong>Scopes Excluded</strong>.</p><p><strong>Scopes Limited To</strong>
    is rarely used by Harness users. Scoping one Delegate to the <strong>Production</strong>
    Environment Type and a second Delegate to the <strong>Non-Production</strong>
    Environment Type might appear logical, but your Harness deployments typically
    involve operations that do not fall into either of those Environment Types and,
    consequently, there is no Delegate scoped to perform them.</p><p>It is better
    to use <strong>Scope Excluded</strong> to exclude one Delegate from the <strong>Production</strong>
    Environment Type and the other Delegate from the <strong>Non-Production</strong>
    Environment Type. This way, either Delegate can still perform general operations
    outside of Environment Type.</p><h4>Scope Options are ANDs</h4><p>The fields in
    the Delegate Scope dialog narrow the scope of the Delegate&#39;s operations as
    you move down the dialog. For example, you can pick an operation in Command, and
    the limit its scope further by picking the Application and Environment.Think of
    using the Delegate Scope dialog fields as ANDs: Command AND Application AND Environment
    Type, and so on.</p><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/h9tkwmkrm7/1582920567776/image.png"
    style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure><div
    class="note-callout">If you want to OR Delegate Scope settings, you need to make
    separate Delegate Scopes and apply them to the same Delegate.</div><h4>Use a Display
    Name</h4><p>Ensure that you enter a name in <strong>Display Name</strong>. This
    will help you and others quickly select the scope in the future.</p>'
  slug: scope-delegates-to-harness-components-and-commands
  tags: []
  is_live: true
