type: article
article_id: qa7lewndxq
user_id: wz6xkfcc9i
category_id: ll7h8ktlwe
author:
  name: Chakravarthy Tenneti
  profile_image: https://www.gravatar.com/avatar/790db061bb8f8fb094e4d4b19a390f3b?d=mm&s=150
title: Add Jenkins Artifact Servers
slug: add-jenkins-artifact-servers
description: Connect your Jenkins artifact servers with Harness.
short_version: Connect your Bamboo artifact servers with Harness.
tags:
- Jenkins
- Artifact Server
show_toc: true
is_private: false
is_published: true
is_featured: false
stale_status:
  is_stale: false
  reason: ""
  source: API
  triggered_at: 2022-07-06T19:01:47.87981Z
  expires_at: null
permission_groups: []
multilingual:
- language_code: en
  title: Add Jenkins Artifact Servers
  description: Connect your Jenkins artifact servers with Harness.
  short_version: Connect your Bamboo artifact servers with Harness.
  body: '<p></p><p>Connect your Jenkins artifact servers with Harness.</p><p>In this
    topic:</p><ul><li><a href="#before_you_begin">Before You Begin</a></li><li><a
    href="#limitations">Limitations</a></li><li><a href="#review_jenkins_permissions">Review:
    Jenkins Permissions</a></li><li><a href="#step_1_select_jenkins_artifact_server">Step
    1: Select Jenkins Artifact Server</a></li><li><a href="#step_2_display_name">Step
    2: Display Name</a></li><li><a href="#step_3_jenkins_url">Step 3: Jenkins URL</a></li><li><a
    href="#option_use_this_url_for_job_execution">Option: Use this URL for Job Execution</a></li><li><a
    href="#step_4_authentication_mechanism">Step 4: Authentication Mechanism</a></li></ul><p></p><h3>Before
    You Begin</h3><ul><li>See <a href="/article/4o7oqwih6h-harness-key-concepts">Harness
    Key Concepts</a>.</li></ul><p></p><h3>Limitations</h3><ul><li>Harness does support
    SAML authentication for Jenkins connections.</li><li>Later, you will use this
    Jenkins Artifact Server to pull jobs in a Harness Service Artifact Source. If
    a build parameter name contains a dot (for example <code>function.zip</code>)
    Harness fails artifact collection and <strong>Manually pull artifact</strong>
    (in <strong>Artifact History</strong>) does not work.</li></ul><h3>Review: Jenkins
    Permissions</h3><p>Make sure the user account for this connection has the following
    required permissions in the Jenkins Server.</p><ul><li>Overall: Read.</li><li>Job:
    Build (if you plan to trigger a build as part of your workflow)</li></ul><p>For
    token-based authentication, go to <strong>http://</strong><strong><em>Jenkins-IP-address</em></strong><strong>/jobs/me/configure</strong>
    to check and change your API access token. The token is added as part of the HTTP
    header.</p><p>See <a href="https://wiki.jenkins.io/display/JENKINS/Matrix-based+security"
    target="_blank">Jenkins Matrix-based security</a>.</p><div class="note-callout">If
    you add Jenkins as an Artifact Server, it is automatically added as a Verification
    Provider, and is a single account. Changes made to the Jenkins Artifact Server
    settings, such as username or Display Name, will also apply to the Jenkins Verification
    Provider settings, and vice versa.</div><h4>Okta or Two-Factor Authentication</h4><p>If
    you use Okta or 2FA for connections to Jenkins, use the Jenkins API token for
    <strong>Authentication Mechanism</strong> in the Harness Jenkins Artifact Server.</p><h3>Step
    1: Select Jenkins Artifact Server</h3><p>To connect to an artifact server, do
    the following:</p><ol><li>Click <strong>Setup</strong>.</li><li>Click <strong>Connectors</strong>.</li><li>Click
    <strong>Artifact Servers</strong>.</li><li>Click <strong>Add Artifact Server</strong>.</li><li>In
    <strong>Type</strong>, select <strong>Jenkins</strong>.</li></ol><p></p><h3>Step
    2: Display Name</h3><p>Enter a name for the Jenkins Server. This is the name you
    will use to identify this connection when adding an Artifact Source to a Harness
    Service.</p><p></p><h3>Step 3: Jenkins URL</h3><p>Enter the URL of the Jenkins
    server. If you are using the Jenkins SaaS (cloud) edition, the URL is in your
    browser&#39;s location field. If you are using the standalone edition of Jenkins,
    the URL is located in <strong>Manage Jenkins</strong>, <strong>Jenkins Location</strong>:</p><figure><img
    src="https://files.helpdocs.io/kw8ldg1itf/articles/7dghbx1dbl/1573590417482/image.png"
    style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure><p></p><h3>Option:
    Use this URL for Job Execution</h3><p>Select this option to have Harness use this
    URL when executing jobs in the <a href="/article/5fzq9w0pq7-using-the-jenkins-command">Jenkins
    Workflow step</a>. In most cases, you will not need to select this option.</p><p>In
    some cases, the Jenkins server and Jenkins job(s) have different URLs. The server
    URL is typically what you see in the <strong>Jenkins Location</strong> settings.</p><p>When
    selected, instead of using the internal URL returned by Jenkins, the URL you enter
    here in the Jenkins Artifact Server is used for job execution.</p><h3>Step 4:
    Authentication Mechanism</h3><div class="note-callout">If you use Okta or 2FA
    for connections to Jenkins, use the Jenkins API token for <strong>Authentication
    Mechanism</strong> in the Harness Jenkins Artifact Server.</div><p>Enter the credentials
    to authenticate with the server.</p><ul><li><strong>Username</strong> — Enter
    the user account username.</li><li><strong>Select Encrypted Password/Token</strong>
    — Select/create a Harness Encrypted Text secret using the Jenkins API token or
    password in the Password field.</li><li><strong>Bearer Token (HTTP Header)</strong>
    — Select/create a Harness Encrypted Text secret using the OpenShift OAuth Access
    Token in <strong>Select Encrypted Bearer Token(HTTP Header)</strong>.</li></ul><div
    class="note-callout">The <strong>Bearer Token (HTTP Header)</strong> option is
    only for Jenkins servers hosted/embedded in an <u>OpenShift</u> cluster and using
    this authentication method.</div><p>For more information, see <a href="https://docs.openshift.com/container-platform/3.7/architecture/additional_concepts/authentication.html"
    target="_blank">Authentication</a> from OpenShift. For token-based authentication,
    go to <strong>http://</strong><em><strong>Jenkins-IP-address</strong></em><strong>/jobs/me/configure</strong>
    to check and change your API access token. The token is added as part of the HTTP
    header.</p><p>For secrets and other sensitive settings, select or create a new
    <a href="/article/ygyvp998mu-use-encrypted-text-secrets">Harness Encrypted Text
    secret</a>.</p><p>Usage Scope is determined by the secret you selected.</p><p>Click
    <strong>Submit</strong>.</p><p></p>'
  slug: add-jenkins-artifact-servers
  tags:
  - Jenkins
  - Artifact Server
  is_live: true
