type: article
article_id: nj3p1t7v3x
user_id: wz6xkfcc9i
category_id: ll7h8ktlwe
author:
  name: Chakravarthy Tenneti
  profile_image: https://www.gravatar.com/avatar/790db061bb8f8fb094e4d4b19a390f3b?d=mm&s=150
title: Add Artifactory Servers
slug: add-artifactory-servers
description: Connect your Artifactory artifact servers with Harness.
short_version: Connect your Artifactory artifact servers with Harness.
tags:
- Artifactory
- Artifact Server
show_toc: true
is_private: false
is_published: true
is_featured: false
stale_status:
  is_stale: false
  reason: ""
  source: API
  triggered_at: 2022-09-08T18:49:14.521099Z
  expires_at: null
permission_groups: []
multilingual:
- language_code: en
  title: Add Artifactory Servers
  description: Connect your Artifactory artifact servers with Harness.
  short_version: Connect your Artifactory artifact servers with Harness.
  body: '<p>Harness supports both cloud and on-prem versions of Artifactory. Connect
    your Artifactory artifact servers with Harness.</p><h3>Before You Begin</h3><ul><li>See <a
    href="/article/4o7oqwih6h-harness-key-concepts">Harness Key Concepts</a>.</li></ul><h3>Visual
    Summary</h3><p>Here&#39;s an example of the Artifactory Sources configuration.</p><p></p><figure><img
    src="https://files.helpdocs.io/kw8ldg1itf/articles/7dghbx1dbl/1587761892279/image.png"
    style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure><p></p><h3>Review:
    Artifactory Permissions</h3><p>Make sure the following permissions are granted
    to the user:</p><ul><li>Privileged User is required to access API, whether Anonymous
    or a specific username (username and passwords are not mandatory).</li><li>Read
    permission to all Repositories.</li></ul><p>If used as a Docker Repo, user needs:</p><ul><li>List
    images and tags</li><li>Pull images</li></ul><p>See <a href="https://www.jfrog.com/confluence/display/RTF/Managing+Permissions"
    target="_blank">Managing Permissions: JFrog Artifactory User Guide</a></p><h3>Review:
    Label Support</h3><p>Docker labels are supported for Docker images in Artifactory.</p><p>You
    can reference a label using this expression in a <a href="/article/1fjrjbau7x-capture-shell-script-step-output">Shell
    Script</a> step:</p><p><code>${artifact.label.get(&#34;&lt;label-key&gt;&#34;)}</code></p><p>See
    <a href="/article/aza65y4af6-built-in-variables-list">Built-in Variables List
    (FirstGen)</a>.</p><h3>Step 1: Select Artifactory Server</h3><p>To connect to
    an artifact server, do the following:</p><ol><li>Click <strong>Setup</strong>.</li><li>Click
    <strong>Connectors</strong>.</li><li>Click <strong>Artifact Servers</strong>.</li><li>Click
    <strong>Add Artifact Server</strong>.</li><li>In <strong>Type</strong>, select
    <strong>Artifactory</strong>.</li></ol><h3>Step 2: Display Name</h3><p>Enter a
    name for the Artifactory Server. This is the name you will use to identify this
    connection when adding an Artifact Source to a Harness Service.</p><p></p><h3>Step
    3: Artifactory URL</h3><p>In the <strong>Artifactory URL</strong> field, ensure
    that you enter in your base URL followed by your module name.</p><p>For most artifacts,
    use <strong>https://mycompany.jfrog.io/</strong><strong><em>module_name</em></strong>.</p><p>In
    some cases, you can use <strong>https://</strong><em><strong>server_name</strong></em><strong>/artifactory/</strong><em><strong>module_name</strong></em>.</p><p>The
    URL really depends on how you have set up Artifactory, and whether it is local,
    virtual, remote, or behind a proxy.</p><p>To ensure you use the correct URL, copy
    it from your Artifactory settings.</p><p>See <a href="https://www.jfrog.com/confluence/display/JFROG/Repository+Management"
    target="_blank">Repository Management</a> from JFrog.</p><h3>Step 4: Credentials
    and Usage Scope</h3><p>Enter the credentials.</p><p>For secrets and other sensitive
    settings, select or create a new <a href="/article/ygyvp998mu-use-encrypted-text-secrets">Harness
    Encrypted Text secret</a>.</p><p>Usage Scope is determined by the secret you selected.</p><h3>Step
    5: Delegate Selector</h3><p>Select the Delegate Selector(s) of the Delegate(s)
    you want this Connector to use.</p><p>When Harness needs to run a task, it makes
    a connection to a resource via its Delegates. Harness selects the best Delegate
    according to its history or it round-robins between Delegates. See <a href="https://docs.harness.io/article/h9tkwmkrm7-delegate-installation#how_does_harness_manager_pick_delegates">How
    Does Harness Manager Pick Delegates?</a>.</p><p>In a few cases, you might want
    Harness to select specific Delegates. In these cases, you can use Delegate Selectors.</p><p>See
    <a href="/article/c3fvixpgsl-select-delegates-for-specific-tasks-with-selectors">Select
    Delegates with Selectors</a>.</p><h3>Step 6: Skip Validation</h3><p>Select <strong>Skip
    Validation</strong> to skip credential verification and creation or update process.</p><h3>See
    Also</h3><ul><li><a href="/article/gxv9gj6khz-add-a-docker-image-service">Add
    a Docker Artifact Source</a></li></ul><p></p>'
  slug: add-artifactory-servers
  tags:
  - Artifactory
  - Artifact Server
  is_live: true
