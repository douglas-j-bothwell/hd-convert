type: article
article_id: tdj2ghkqb0
user_id: wz6xkfcc9i
category_id: ll7h8ktlwe
author:
  name: Chakravarthy Tenneti
  profile_image: https://www.gravatar.com/avatar/790db061bb8f8fb094e4d4b19a390f3b?d=mm&s=150
title: Add Docker Registry Artifact Servers
slug: add-docker-registry-artifact-servers
description: Connect your Docker Registry artifact servers with Harness.
short_version: Connect your Docker Registry artifact servers with Harness.
tags:
- Docker Registry
- Artifact Server
show_toc: true
is_private: false
is_published: true
is_featured: false
stale_status:
  is_stale: false
  reason: ""
  source: API
  triggered_at: 2022-07-06T19:01:47.84812Z
  expires_at: null
permission_groups: []
multilingual:
- language_code: en
  title: Add Docker Registry Artifact Servers
  description: Connect your Docker Registry artifact servers with Harness.
  short_version: Connect your Docker Registry artifact servers with Harness.
  body: '<p>Connect your Docker Registry artifact servers with Harness.</p><h3>Before
    You Begin</h3><ul><li>See <a href="/article/4o7oqwih6h-harness-key-concepts">Harness
    Key Concepts</a>.</li></ul><h3>Visual Summary</h3><p>Here&#39;s an example of
    the Docker Registry Artifact Source addition.</p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/7dghbx1dbl/1587761350338/image.png"
    style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure><p></p><h3>Review:
    Docker Registry Permissions</h3><p>Make sure the connected user account has the
    following permissions.</p><ul><li>Read permission for all repositories.</li></ul><p>The
    user needs access and permissions to the following:</p><ul><li>List images and
    tags</li><li>Pull images</li></ul><p>See <a href="https://docs.docker.com/datacenter/dtr/2.0/user-management/permission-levels/"
    target="_blank">Docker Permissions</a>.</p><div class="note-callout">If you are
    using anonymous access to a Docker registry for a Kubernetes deployment, then
    <code>imagePullSecrets</code> should be removed from the container specification.
    This is standard Kubernetes behavior and not related to Harness specifically.</div><p></p><h3>Limitations</h3><ul><li>Some
    registry providers, such as <a href="http://quay.io/" target="_blank">Quay</a>,
    will not list images unless authenticated, even if the repo is public.</li></ul><h3>Step
    1: Select Docker Registry Artifact Server</h3><p>To connect to an artifact server,
    do the following:</p><ol><li>Click <strong>Setup</strong>.</li><li>Click <strong>Connectors</strong>.</li><li>Click
    <strong>Artifact Servers</strong>.</li><li>Click <strong>Add Artifact Server</strong>.</li><li>In
    <strong>Type</strong>, select <strong>Docker Registry</strong>.</li></ol><p></p><h3>Step
    2: Display Name</h3><p>Enter a name for the Docker Registry Server. This is the
    name you will use to identify this connection when adding an Artifact Source to
    a Harness Service.</p><h3>Step 3: Docker Registry URL</h3><p>Enter the URL of
    the Docker Registry.</p><p>The Docker Registry URL for Docker Hub is <code>https://registry.hub.docker.com/v2/</code>
    or <code>https://index.docker.io/v2/</code> depending on the provider.</p><p>For
    Docker registry v1 API, use <code>index.docker.io/v1/</code>.</p><p>For Docker
    registry v2 API, specify a URL such as <code>https://registry.hub.docker.com/v2</code>.
    This is default on most providers.</p><h3>Step 4: Enter the Credentials</h3><p>Optionally,
    enter the credentials. The Docker Registry Artifact Server does not require a
    username and password because you might use it to connect to a public repo.</p><p>For
    secrets and other sensitive settings, select or create a new <a href="/article/ygyvp998mu-use-encrypted-text-secrets">Harness
    Encrypted Text secret</a>.</p><p>Usage Scope is determined by the secret you selected.</p><h3>Step
    5: Delegate Selector</h3><p>Select the Delegate Selector(s) of the Delegate(s)
    you want this Connector to use.</p><p>When Harness needs to run a task, it makes
    a connection to a resource via its Delegates. Harness selects the best Delegate
    according to its history or it round robins between Delegates. See <a href="https://docs.harness.io/article/h9tkwmkrm7-delegate-installation#how_does_harness_manager_pick_delegates">How
    Does Harness Manager Pick Delegates?</a>.</p><p>In a few cases, you might want
    Harness to select specific Delegates. In these cases, you can use Delegate Selectors.</p><p>See
    <a href="/article/c3fvixpgsl-select-delegates-for-specific-tasks-with-selectors">Select
    Delegates with Selectors</a>.</p><p></p>'
  slug: add-docker-registry-artifact-servers
  tags:
  - Docker Registry
  - Artifact Server
  is_live: true
