<p></p><p>You can add a Helm Chart Repository as an Artifact Server and then use it in Harness Kubernetes and Helm Services. See <a href="/article/t6zrgqq0ny-kubernetes-services#helm_charts">Kubernetes Deployments</a> and <a href="/article/svso08ogpb-2-helm-services#add_the_helm_chart">Helm Deployments</a>.</p><p>A Helm chart repository is an HTTP server that houses an <strong>index.yaml</strong> file and, if needed, packaged charts. For details, see <a href="https://helm.sh/docs/topics/chart_repository/" target="_blank">The Chart Repository Guide</a> from Helm.</p><p>From Helm:</p><blockquote>Note: For Helm 2.0.0, chart repositories do not have any intrinsic authentication. There is an issue tracking progress in GitHub.</blockquote><blockquote>Because a chart repository can be any HTTP server that can serve YAML and tar files and can answer GET requests, you have a plethora of options when it comes down to hosting your own chart repository. For example, you can use a Google Cloud Storage (GCS) bucket, Amazon S3 bucket, Github Pages, or even create your own web server.</blockquote><p></p><h3>Before You Begin</h3><ul><li>SeeÂ <a href="https://docs.harness.io/article/4o7oqwih6h-harness-key-concepts">Harness Key Concepts</a>.</li></ul><p></p><h3>Visual Summary</h3><p>Here&#39;s an example of Helm Repository Artifact Source configuration.</p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/7dghbx1dbl/1587762459314/image.png" style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure><p>The Helm Repository dialog has the following fields.</p><p></p><h3>Step 1: Select Helm Repository</h3><p>To connect to an artifact server, do the following:</p><ol><li>Click <strong>Setup</strong>.</li><li>Click <strong>Connectors</strong>.</li><li>Click <strong>Artifact Servers</strong>.</li><li>Click <strong>Add Artifact Server</strong>.</li><li>In <strong>Type</strong>, click <strong>Helm Repository</strong>.</li></ol><p></p><h3>Step 2: Display Name</h3><p>This is the name you will use to select this Artifact Server in you Kubernetes and Helm Services.</p><h3>Step 3: Hosting Platform</h3><p>The type of server where the repo is hosted.</p><p>If you select an option other than <strong>HTTP Server</strong>, such as <strong>Amazon S3</strong> or <strong>GCS</strong> (Google Cloud Storage), you will need a Cloud Provider for that account. For more information, see <a href="/article/whwnovprrb-cloud-providers">Add Cloud Providers</a>.</p><h4>OCI Registry</h4><p>Harness supports <a href="https://helm.sh/docs/topics/registries/">OCI registry</a> for Helm charts using the Helm Repository Artifact Server.</p><div class="note-callout"><a href="https://helm.sh/docs/topics/registries/" target="_blank">Helm Registry support</a> is officially for Helm version 3.8 and above and experimental with version below 3.8.</div><p></p><h3>Step 4: Repository URL</h3><p>The URL of the chart repo.</p><div class="note-callout">Helm Hub at <code>https://hub.helm.sh</code> is not a Helm repo. It is a website for discovery and documentation. While it does list charts for deployments such cluster-autoscaler, the actual Helm repo for this and most charts is <code>https://kubernetes-charts.storage.googleapis.com</code><strong>.</strong></div><h4>OCI Registry</h4><p>Harness supports <a href="https://helm.sh/docs/topics/registries/">OCI registry</a> for Helm charts using the Helm Repository Artifact Server.</p><p><strong>Repository URL</strong> should contain the full path except the chart name.</p><p>For example, suppose a chart with the name <strong>test-chart</strong> is present in a <strong>helm/charts/</strong> directory.</p><p>In <strong>Repository URL</strong>, you would enter <code>[registry-name].azurecr.io/helm/charts/</code>.</p><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/0hrzb1zkog/1652898208188/image.png" style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure><h3>Step 5: Username and Password</h3><p>If the charts are backed by HTTP basic authentication, you can also supply the username and password. See <a href="https://helm.sh/docs/topics/chart_repository/#share-your-charts-with-others">Share your charts with others</a> from Helm.</p><div class="note-callout">For <strong>Amazon S3</strong> and <strong>GCS</strong>, the <strong>Base Path</strong> setting has moved to the Harness Service <strong>Chart Specification</strong> settings.</div><p>For secrets and other sensitive settings, select or create a new <a href="/article/ygyvp998mu-use-encrypted-text-secrets">Harness Encrypted Text secret</a>.</p><p>Usage Scope is determined by the secret you selected.</p><p>Click <strong>Submit</strong>.</p><h4>Authentication Supported</h4><p>For GCR as an OCI registry, Harness support authentication using the following:</p><ul><li>Access token</li><li>A JSON key file where username is <code>_json_key_base64</code> and password is base64-encoded JSON key file content.</li></ul><div class="note-callout">Harness does not support a username of <code>_json_key</code> and password as unencrypted JSON key file content.</div><h3>Next Steps</h3><ul><li><a href="/article/hddm3rgf1y-use-a-helm-repository-with-kubernetes">Use a Helm Repository with Kubernetes</a></li></ul><p></p>