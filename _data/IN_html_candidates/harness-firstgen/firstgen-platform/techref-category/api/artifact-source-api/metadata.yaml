type: article
article_id: 0z2b5a1x4x
user_id: slcpusem6b
category_id: l2p3i03l4a
author:
  name: Archana Singh
  profile_image: https://www.gravatar.com/avatar/e323facc5a711ac44c46e58dcb52aa3e?d=mm&s=150
title: Fetch Artifact Source Details Using GraphQL APIs
slug: artifact-source-api
description: This topic describes how to add connections for Artifacts in ArtifactSources.
short_version: This topic describes how to add connections for Artifacts in ArtifactSources.
tags:
- APIs
- Artifact Source
show_toc: true
is_private: false
is_published: true
is_featured: false
stale_status:
  is_stale: false
  reason: Article updated
  source: API
  triggered_at: 2021-05-12T17:21:24.689838Z
  expires_at: null
permission_groups: []
multilingual:
- language_code: en
  title: Fetch Artifact Source Details Using GraphQL APIs
  description: This topic describes how to add connections for Artifacts in ArtifactSources.
  short_version: This topic describes how to add connections for Artifacts in ArtifactSources.
  body: '<p></p><p>This topic describes how to fetch Artifact Source details using
    GraphQL APIs. The Artifact Source defines where the Artifact Collection step will
    look for the built artifact during the Build Workflow. The Artifact Source for
    the Service lists the file(s) that you want to be copied to the target host(s).
    </p><p></p><p>In this topic:</p><ul><li><a href="https://docs.harness.io/article/0z2b5a1x4x-artifact-source-api#before_you_begin">Before
    You Begin</a></li><li><a href="https://docs.harness.io/article/0z2b5a1x4x-artifact-source-api#step_fetch_artifact_source_from_a_service">Step:
    Fetch Artifact Source from a Service</a></li><li><a href="https://docs.harness.io/article/0z2b5a1x4x-artifact-source-api#step_fetch_artifact_source_id_from_an_artifact">Step
    : Fetch Artifact Source ID from an Artifact</a></li><li><a href="https://docs.harness.io/article/0z2b5a1x4x-artifact-source-api#step_fetch_the_service_id">Step:
    Fetch the Service ID</a></li></ul><h3>Before You Begin</h3><ul><li><a href="/article/tm0w6rruqv-harness-api">Harness
    API</a></li><li><a href="/article/qluiky79j8-service-types-and-artifact-sources">Service
    Types and Artifact Sources</a></li></ul><h3>Step: Fetch Artifact Source from a
    Service</h3><p>Use this sample query to get the <code>Artifact Source</code> and
    <code>Artifact History</code> from a Harness Service. <a href="https://docs.harness.io/article/0z2b5a1x4x-artifact-source-api#step_fetch_the_service_id">Provide
    a Service ID</a> to fetch the details.</p><p>The Artifact History pulls artifact
    build and version metadata from the Artifact Source.</p><h5>Request</h5><pre class="hljs
    json">query{<br/>  service(serviceId: &#34;UsEvUFxdRSegoaSFxIx2mA&#34;){<br/>    artifactSources{<br/>      id<br/>      name<br/>      artifacts(limit:10,
    offset:0){<br/>        nodes {<br/>          id<br/>          buildNo<br/>        }<br/>      }<br/>    }<br/>  }<br/>}</pre><p></p><h5>Response</h5><pre
    class="hljs json">{<br/>  &#34;data&#34;: {<br/>    &#34;service&#34;: {<br/>      &#34;artifactSources&#34;:
    [<br/>        {<br/>          &#34;id&#34;: &#34;a7UvFSviR92l4iwlektDrA&#34;,<br/>          &#34;name&#34;:
    &#34;generic-local_todolist-&#34;,<br/>          &#34;artifacts&#34;: {<br/>            &#34;nodes&#34;:
    [<br/>              {<br/>                &#34;id&#34;: &#34;KyettoTRQ06CdHZ3XrXY5w&#34;,<br/>                &#34;buildNo&#34;:
    &#34;todolist-1.7.war&#34;<br/>              },<br/>              {<br/>                &#34;id&#34;:
    &#34;ztLQZMCqS0ef5k0f6BxkuA&#34;,<br/>                &#34;buildNo&#34;: &#34;todolist-1.6.war&#34;<br/>              }<br/>            ]<br/>          }<br/>        }<br/>      ]<br/>    }<br/>  }<br/>}</pre><h3>Step:
    Fetch Artifact Source ID from an Artifact</h3><p>Use this sample query to get
    the <code>Artifact Source ID</code> from an Artifact.</p><h5>Request</h5><pre>{<br/>  artifacts(filters:[<br/>    {<br/>      artifact:
    {<br/>        operator: EQUALS,<br/>        values: [&#34;g6dahNXYTwCNxnk90as1fA&#34;]<br/>      }<br/>    }<br/>  ],
    limit:10, offset:0){<br/>    nodes {<br/>      id<br/>      artifactSource {<br/>        id<br/>      }<br/>      buildNo<br/>    }<br/>  }<br/>}</pre><h5>Response</h5><pre>{<br/>  &#34;data&#34;:
    {<br/>    &#34;artifacts&#34;: {<br/>      &#34;nodes&#34;: [<br/>        {<br/>          &#34;id&#34;:
    &#34;g6dahNXYTwCNxnk90as1fA&#34;,<br/>          &#34;artifactSource&#34;: {<br/>            &#34;id&#34;:
    &#34;bIXY2b0kQFWnTVYLxB4FQg&#34;<br/>          },<br/>          &#34;buildNo&#34;:
    &#34;1.19&#34;<br/>        }<br/>      ]<br/>    }<br/>  }<br/>}</pre><h3>Step:
    Fetch the Service ID</h3><p> Use this sample query to get the <code>id</code>
    and the <code>name</code> of a Service.</p><h5>Request</h5><pre>{<br/>  services(<br/>    filters:
    [<br/>      { application: { operator: EQUALS, values: [&#34;-XZGAqR6QIeBRXz-VuwIzA&#34;]
    } }<br/>    ]<br/>    limit: 1000<br/>  ) {<br/>    pageInfo {<br/>      total<br/>    }<br/>    nodes
    {<br/>      id<br/>      name<br/>    }<br/>  }<br/>}</pre><p></p><h5>Response</h5><pre>{<br/>  &#34;data&#34;:
    {<br/>    &#34;services&#34;: {<br/>      &#34;pageInfo&#34;: {<br/>        &#34;total&#34;:
    1<br/>      },<br/>      &#34;nodes&#34;: [<br/>        {<br/>          &#34;id&#34;:
    &#34;_s-PY38LQlansoS73vHzUA&#34;,<br/>          &#34;name&#34;: &#34;To-Do List
    K8s&#34;<br/>        }<br/>      ]<br/>    }<br/>  }<br/>}</pre><h3></h3><p></p>'
  slug: artifact-source-api
  tags:
  - APIs
  - Artifact Source
  is_live: true
