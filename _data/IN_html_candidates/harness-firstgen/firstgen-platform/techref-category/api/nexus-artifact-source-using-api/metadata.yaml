type: article
article_id: 103heofz7o
user_id: slcpusem6b
category_id: l2p3i03l4a
author:
  name: Archana Singh
  profile_image: https://www.gravatar.com/avatar/e323facc5a711ac44c46e58dcb52aa3e?d=mm&s=150
title: Add a Nexus Artifact Source Using API
slug: nexus-artifact-source-using-api
description: Describes how to create, read, update, and delete Nexus Artifact Source using
  Harness GraphQL APIs.
short_version: Describes how to create, read, update, and delete Nexus Artifact Source using
  Harness GraphQL APIs.
tags: []
show_toc: true
is_private: false
is_published: true
is_featured: false
stale_status:
  is_stale: false
  reason: Article updated
  source: API
  triggered_at: 2021-05-12T17:21:06.523698Z
  expires_at: null
permission_groups: []
multilingual:
- language_code: en
  title: Add a Nexus Artifact Source Using API
  description: Describes how to create, read, update, and delete Nexus Artifact Source using
    Harness GraphQL APIs.
  short_version: Describes how to create, read, update, and delete Nexus Artifact
    Source using Harness GraphQL APIs.
  body: '<p>This topic describes how to create, read, update, and delete Nexus Artifact
    Source using Harness GraphQL APIs.</p><p>In this topic:</p><ul><li><a href="https://docs.harness.io/article/103heofz7o-nexus-artifact-source-using-api#before_you_begin">Before
    You Begin</a></li><li><a href="https://docs.harness.io/article/103heofz7o-nexus-artifact-source-using-api#step_create_a_nexus_artifact_source">Step:
    Create a Nexus Artifact Source</a></li><li><a href="https://docs.harness.io/article/103heofz7o-nexus-artifact-source-using-api#step_update_a_nexus_artifact_source">Step:
    Update a Nexus Artifact Source</a></li><li><a href="https://docs.harness.io/article/103heofz7o-nexus-artifact-source-using-api#step_delete_a_nexus_artifact_source">Step:
    Delete a Nexus Artifact Source</a></li></ul><h3>Before You Begin</h3><ul><li>Read
    the <a href="https://docs.harness.io/article/bucothemly-application-configuration">Create
    an Application</a> topic to get an overview of how Harness organizes Services.</li><li>Read
    the <a href="https://docs.harness.io/article/eb3kfl8uls-service-configuration">Add
    a Service</a> topic to understand the process to add a Service to an Application.</li><li>Read <a
    href="https://docs.harness.io/article/htvzryeqjw-configuration-as-code">Configuration
    as Code</a> to see how you can quickly configure your Harness Service using your
    existing YAML in Git.</li><li><a href="/article/rdhndux2ab-nexus-artifact-sources">Nexus
    Artifact Sources</a></li><li><a href="https://docs.harness.io/article/7dghbx1dbl-configuring-artifact-server">Add
    Artifact Servers</a></li></ul><h3>Step: Create a Nexus Artifact Source</h3><p>Use
    this sample query to create a Nexus Artifact Source.</p><h5>Request</h5><p>You
    create a Nexus Artifact Source using the mutation <code>createConnector</code>.</p><pre>mutation
    CreateConnector($connector: CreateConnectorInput!) {<br/>  createConnector(input:
    $connector) {<br/>    clientMutationId<br/>    connector {<br/>      ...on NexusConnector{<br/>      name<br/>      id<br/>      }<br/>    }<br/>  }<br/>}</pre><h5>Query
    Variables</h5><p>The Query Variables follow this syntax, with <code>connectorType</code> identifying
    the Nexus Artifact Source to create.</p><p>To fetch the <code>passwordSecretId</code> use:</p><ul><li><a
    href="https://docs.harness.io/article/omnfccj1n0-api-encrypted-text#get_a_secret_by_name">Encrypted
    Text API</a></li><li><a href="https://docs.harness.io/article/2rlo5zw321-api-win-rm-credentials#get_a_secret_by_name">WinRM
    Credentials API</a></li><li><a href="https://docs.harness.io/article/v65okfwfl2-api-ssh-credentials#get_a_secret_by_name">SSH
    Credentials API</a></li></ul><p></p><pre>{<br/>  &#34;connector&#34;: {<br/>    &#34;connectorType&#34;:
    &#34;NEXUS&#34;,<br/>    &#34;nexusConnector&#34;:  {<br/>      &#34;name&#34;:&#34;NexusConnector&#34;,<br/>      &#34;URL&#34;:&#34;https://nexus.test.harness.io&#34;,<br/>      &#34;version&#34;:&#34;V2&#34;,<br/>      &#34;passwordSecretId&#34;:
    &#34;xxxxxxxYYzzz&#34;,<br/>      &#34;userName&#34;: &#34;harnesstest&#34;<br/>    }<br/>  }<br/>}</pre><p></p><h3>Step:
    Update a Nexus Artifact Source</h3><p>Use this sample query to update a Nexus
    Artifact Source.</p><h5>Request</h5><p>You update a Nexus Artifact Source using
    the mutation <code>updateConnector</code>.</p><pre>mutation UpdateConnector($connector:
    UpdateConnectorInput!) {<br/>  updateConnector(input: $connector) {<br/>    clientMutationId<br/>    connector
    {<br/>      name<br/>      id<br/>    }<br/>  }<br/>}</pre><h5>Query Variables</h5><p>The
    Query Variables follow this syntax, with <code>connectorType</code> identifying
    the Nexus Artifact Source to update. See <a href="/article/103heofz7o-nexus-artifact-source-using-api#fetch_the_connector_id">Fetch
    the Connector ID</a> to get the connector ID details.</p><p></p><pre>{<br/>  &#34;connector&#34;:
    {<br/>    &#34;connectorType&#34;: &#34;NEXUS&#34;,<br/>    &#34;connectorId&#34;:
    &#34;xxxxxyxxxaaaqqq&#34;,<br/>    &#34;nexusConnector&#34;:  {<br/>      &#34;name&#34;:&#34;NexusConnector&#34;,<br/>      &#34;URL&#34;:&#34;https://nexus.test.harness.io&#34;,<br/>      &#34;version&#34;:&#34;V2&#34;,<br/>      &#34;passwordSecretId&#34;:
    &#34;xxxxxxxYYzzz&#34;,<br/>      &#34;userName&#34;: &#34;harnesstest&#34;<br/>    }<br/>  }<br/>}</pre><h5>Fetch
    the Connector ID</h5><p>Use the following query to fetch the <code>ID</code> of
    a connector. A list of connectors is returned based on the set filters. You can
    select the <code>ID</code> of the connector that you want to update.</p><p></p><pre>query<br/>{<br/>  connectors(filters:
    [{connectorType: {operator: EQUALS, values: NEXUS}}], limit: 20) {<br/>    nodes
    {<br/>      name<br/>      id<br/>    }<br/>  }<br/>}</pre><p></p><h3>Step: Delete
    a Nexus Artifact Source</h3><p>You delete a Nexus Artifact Source using the mutation <code>deleteConnector</code>.
    Deleting a Nexus Artifact Source requires its <code>ID</code> only.</p><pre>mutation
    DeleteConnectorMutation($connector: DeleteConnectorInput!) {<br/>  deleteConnector(input:
    $connector) {<br/>    clientMutationId<br/>  }<br/>}</pre><p></p><h5>Query Variables</h5><p>Query
    Variables, with <code>connectorId</code> identifies the Nexus Artifact Source
    to delete.</p><pre class="hljs json">{<br/>  <span class="hljs-attr" style="box-sizing:inherit;color:rgb(121,
    93, 163)" data-hd-color="rgb(121, 93, 163)">&#34;connector&#34;</span>: {<br/>    <span
    class="hljs-attr" style="box-sizing:inherit;color:rgb(121, 93, 163)" data-hd-color="rgb(121,
    93, 163)">&#34;connectorId&#34;</span>: <span class="hljs-string" style="box-sizing:inherit;color:rgb(223,
    80, 0)" data-hd-color="rgb(223, 80, 0)"><span class="hljs-string" style="box-sizing:inherit;color:rgb(223,
    80, 0)" data-hd-color="rgb(223, 80, 0)">&#34;xxxxxx&#34;</span></span><br/>  }<br/>}</pre><p></p>'
  slug: nexus-artifact-source-using-api
  tags: []
  is_live: true
