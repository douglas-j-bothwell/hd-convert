<p></p><p>Custom Dashboards provide a toolbox for building your own visual interface around Harness data using flexible filtering and criteria. By creating and fine-tuning visualizations that slice and dice your data, you can identify and optimize:</p><ul><li>Development and deployment velocity</li><li>Bottlenecks</li><li>Rollback durations and other useful metrics</li></ul><p>For information on adding a Custom Dashboard in Harness, see <a href="/article/zbe3yyssa6">Create and Manage Custom Dashboards</a>.</p><p>Once you create your Custom Dashboard, you can use its metrics for performance analysis. You can use the Harness Metrics Collection API to do this. This API exposes your Custom Dashboard metrics so that you can query and post the response to the 3rd party tools/services for performance analysis.</p><p>This topic lists the queries to collect metrics from a custom dashboard.</p><p>In this topic:</p><ul><li><a href="/article/s4cu5zfola-use-metrics-collection-api-for-custom-dashboards#before_you_begin">Before You Begin</a></li><li><a href="/article/s4cu5zfola-use-metrics-collection-api-for-custom-dashboards#get_statistics_of_a_harness_application">Get Statistics of a Harness Application</a></li><li><a href="/article/s4cu5zfola-use-metrics-collection-api-for-custom-dashboards#get_statistics_of_one_or_more_deployments">Get Statistics of One or More Deployments</a></li><li><a href="/article/s4cu5zfola-use-metrics-collection-api-for-custom-dashboards#get_statistics_of_harness_environments">Get Statistics of Harness Environments</a></li><li><a href="/article/s4cu5zfola-use-metrics-collection-api-for-custom-dashboards#get_statistics_of_instances">Get Statistics of Instances</a></li><li><a href="/article/s4cu5zfola-use-metrics-collection-api-for-custom-dashboards#get_statistics_of_pipelines">Get Statistics of Pipelines</a></li><li><a href="/article/s4cu5zfola-use-metrics-collection-api-for-custom-dashboards#get_statistics_of_harness_services">Get Statistics of Harness Services</a></li><li><a href="/article/s4cu5zfola-use-metrics-collection-api-for-custom-dashboards#get_statistics_of_triggers">Get Statistics of Triggers</a></li><li><a href="/article/s4cu5zfola-use-metrics-collection-api-for-custom-dashboards#get_statistics_of_workflows">Get Statistics of Workflows</a></li></ul><h3>Before You Begin</h3><ul><li><a href="/article/rxlbhvwe6q">See Custom Dashboards Overview</a></li><li><a href="/article/zbe3yyssa6">Create and Manage Custom Dashboards</a></li><li><a href="/article/tm0w6rruqv-harness-api">​Introduction to Harness GraphQL API</a></li><li><a href="/article/2rmd5i0e0h-harness-api-explorer">Harness API Explorer</a></li><li><a href="/article/kn8wsu80n4-api-schema-and-structure">API Schema and Structure</a></li></ul><h3>Get Statistics of Harness Applications</h3><p>For steps on configuring Applications Widget, see <a href="/article/0hgsfuoojo-configure-custom-widgets#step_configure_applications_widget">Configure Applications Widget</a>.</p><p>This sample returns <code>name</code>,  <code>id</code>, and <code>type</code> values for the application.</p><h4>Request</h4><pre class="hljs graphql">{<br/>  applicationStats {<br/>    ... on SinglePointData {<br/>      dataPoint {<br/>        key {<br/>          name<br/>          id<br/>          type<br/>        }<br/>        value<br/>      }<br/>    }<br/>  }<br/>}</pre><h4>Response</h4><pre class="hljs graphql">{<br/>  &#34;data&#34;: {<br/>    &#34;applicationStats&#34;: {<br/>      &#34;dataPoint&#34;: {<br/>        &#34;key&#34;: {<br/>          &#34;name&#34;: &#34;Application&#34;,<br/>          &#34;id&#34;: &#34;Application&#34;,<br/>          &#34;type&#34;: null<br/>        },<br/>        &#34;value&#34;: 293<br/>      }<br/>    }<br/>  }<br/>}</pre><h3>Get Statistics of Deployments</h3><p>For steps on configuring Deployments Widget, see <a href="/article/0hgsfuoojo-configure-custom-widgets#step_configure_deployments_widget">Configure Deployments Widget</a>.</p><p>This sample returns <code>id</code>, <code>name</code>, and <code>type</code> values for the deployments.</p><h4>Request</h4><pre class="hljs graphql">{<br/>  deploymentStats(filters: [{endTime: {operator: AFTER, value: 1631773541478}}, {endTime: {operator: BEFORE, value: 1632378341478}}, {application: {operator: IN, values: [&#34;rM2S7z3LR3iAOgiaCIjCyg&#34;]}}, {status: {operator: IN, values: [&#34;FAILED&#34;]}}], groupBy: [{entityAggregation: Application}, {timeAggregation: {timeAggregationType: DAY, timeAggregationValue: 1}}]) {<br/>    ... on StackedTimeSeriesData {<br/>      data {<br/>        time<br/>        values {<br/>          key {<br/>            id<br/>            name<br/>            type<br/>          }<br/>          value<br/>        }<br/>      }<br/>    }<br/>  }<br/>}</pre><h4>Response</h4><pre class="hljs graphql">{<br/>  &#34;data&#34;: {<br/>    &#34;deploymentStats&#34;: {<br/>      &#34;data&#34;: [<br/>        {<br/>          &#34;time&#34;: 1632009600000,<br/>          &#34;values&#34;: [<br/>            {<br/>              &#34;key&#34;: {<br/>                &#34;id&#34;: &#34;rM2S7z3LR3iAOgiaCIjCyg&#34;,<br/>                &#34;name&#34;: &#34;Example&#34;,<br/>                &#34;type&#34;: &#34;APPID&#34;<br/>              },<br/>              &#34;value&#34;: 2<br/>            }<br/>          ]<br/>        }<br/>      ]<br/>    }<br/>  }<br/>}<br/></pre><h3>Get Statistics of Harness Environments</h3><p>For steps on configuring a custom widget, see <a href="/article/0hgsfuoojo-configure-custom-widgets#step_add_custom_widgets">Add and Configure Custom Widgets</a>.</p><p>This sample queries by <code>EnvironmentFilter</code> and returns <code>id</code> and <code>name</code> values for the environments.</p><h4>Request</h4><pre class="hljs graphql">{<br/>  environmentStats(filters: [{application: {operator: IN, values: [&#34;qIhxYSMUQwqB3VUYDYe9gg&#34;]}}, {environment: {operator: IN, values: [&#34;7QSgX6LmTieOIarb_coBpg&#34;]}}], groupBy: [{entityAggregation: Application}, {entityAggregation: EnvironmentType}]) {<br/>    ... on StackedData {<br/>      dataPoints {<br/>        key {<br/>          id<br/>          name<br/>        }<br/>        values {<br/>          key {<br/>            id<br/>            name<br/>          }<br/>          value<br/>        }<br/>      }<br/>    }<br/>  }<br/>}<br/>  </pre><h4>Response</h4><pre class="hljs graphql">{<br/>  &#34;data&#34;: {<br/>    &#34;environmentStats&#34;: {<br/>      &#34;dataPoints&#34;: [<br/>        {<br/>          &#34;key&#34;: {<br/>            &#34;id&#34;: &#34;qIhxYSMUQwqB3VUYDYe9gg&#34;,<br/>            &#34;name&#34;: &#34;Harness Sample App&#34;<br/>          },<br/>          &#34;values&#34;: [<br/>            {<br/>              &#34;key&#34;: {<br/>                &#34;id&#34;: &#34;NON_PROD&#34;,<br/>                &#34;name&#34;: &#34;NON_PROD&#34;<br/>              },<br/>              &#34;value&#34;: 1<br/>            }<br/>          ]<br/>        }<br/>      ]<br/>    }<br/>  }<br/>}</pre><h3>Get Statistics of Harness Instances</h3><p>For steps on configuring a custom widget, see <a href="/article/0hgsfuoojo-configure-custom-widgets#step_add_custom_widgets">Add and Configure Custom Widgets</a>.</p><p>This sample queries by <code>InstanceFilter</code> and returns <code>id</code>, <code>name</code>, and <code>type</code> values of the instances.</p><h4>Request</h4><pre class="hljs graphql">{<br/>  instanceStats(filters: [{createdAt: {operator: AFTER, value: 1629786685569}}, {createdAt: {operator: BEFORE, value: 1632378685569}}, {application: {operator: IN, values: [&#34;naNJDKrUTZKKdKycL5Tx4g&#34;]}}, {environmentType: {operator: IN, values: [PROD]}}], groupBy: [{entityAggregation: Application}, {timeAggregation: {timeAggregationType: DAY, timeAggregationValue: 1}}]) {<br/>    ... on StackedTimeSeriesData {<br/>      data {<br/>        time<br/>        values {<br/>          key {<br/>            id<br/>            name<br/>            type<br/>          }<br/>          value<br/>        }<br/>      }<br/>    }<br/>  }<br/>}</pre><h4>Response</h4><pre class="hljs graphql">{<br/>  &#34;data&#34;: {<br/>    &#34;instanceStats&#34;: {<br/>      &#34;data&#34;: [<br/>        {<br/>          &#34;time&#34;: 1629763200000,<br/>          &#34;values&#34;: [<br/>            {<br/>              &#34;key&#34;: {<br/>                &#34;id&#34;: &#34;naNJDKrUTZKKdKycL5Tx4g&#34;,<br/>                &#34;name&#34;: &#34;Pooja App&#34;,<br/>                &#34;type&#34;: &#34;Application&#34;<br/>              },<br/>              &#34;value&#34;: 36<br/>            }<br/>          ]<br/>        },<br/>        {<br/>          &#34;time&#34;: 1632355200000,<br/>          &#34;values&#34;: [<br/>            {<br/>              &#34;key&#34;: {<br/>                &#34;id&#34;: &#34;naNJDKrUTZKKdKycL5Tx4g&#34;,<br/>                &#34;name&#34;: &#34;Pooja App&#34;,<br/>                &#34;type&#34;: &#34;Application&#34;<br/>              },<br/>              &#34;value&#34;: 36<br/>            }<br/>          ]<br/>        }<br/>      ]<br/>    }<br/>  }<br/>}</pre><h3>Get Statistics of Harness Pipelines</h3><p>For steps on configuring a custom widget, see <a href="/article/0hgsfuoojo-configure-custom-widgets#step_add_custom_widgets">Add and Configure Custom Widgets</a>.</p><p>This sample queries by <code>PipelineFilter</code> and returns <code>id</code> and <code>name</code> values of the pipelines.</p><h4>Request</h4><pre class="hljs graphql">{<br/>  pipelineStats(  filters: [{<br/>                  application:{<br/>                    operator: IN<br/>                    values: [&#34;naNJDKrUTZKKdKycL5Tx4g&#34;]<br/>                  }<br/>              }], groupBy:[{entityAggregation:Application},{tagAggregation:{tagName:&#34;Appid&#34;, entityType:APPLICATION}}]) {<br/>     ... on StackedData {<br/>      dataPoints{<br/>        key {<br/>          id<br/>          name<br/>        }<br/>        values{<br/>          key {<br/>            id<br/>            name<br/>          }<br/>          value<br/>        }<br/>      }<br/>    }<br/>  }<br/>}</pre><h4>Response</h4><pre class="hljs graphql">{<br/>  &#34;data&#34;: {<br/>    &#34;pipelineStats&#34;: {<br/>      &#34;dataPoints&#34;: [<br/>        {<br/>          &#34;key&#34;: {<br/>            &#34;id&#34;: &#34;naNJDKrUTZKKdKycL5Tx4g&#34;,<br/>            &#34;name&#34;: &#34;Example App&#34;<br/>          },<br/>          &#34;values&#34;: [<br/>            {<br/>              &#34;key&#34;: {<br/>                &#34;id&#34;: &#34;Appid:App2&#34;,<br/>                &#34;name&#34;: &#34;Appid:App2&#34;<br/>              },<br/>              &#34;value&#34;: 36<br/>            }<br/>          ]<br/>        }<br/>      ]<br/>    }<br/>  }<br/>}</pre><h3>Get Statistics of Harness Services</h3><p>For steps on configuring a custom widget, see <a href="/article/0hgsfuoojo-configure-custom-widgets#step_add_custom_widgets">Add and Configure Custom Widgets</a>.</p><p>This sample queries by <code>ServiceFilter</code> and returns <code>id</code> and <code>name</code> values of the services.</p><h4>Request</h4><pre class="hljs graphql">{<br/>  serviceStats(filters: [{application: {operator: IN, values: [&#34;naNJDKrUTZKKdKycL5Tx4g&#34;]}}, {service: {operator: IN, values: [&#34;JnRsax7PTE-bUcc0p6M-eg&#34;]}}, {deploymentType: {operator: IN, values: [KUBERNETES]}}], groupBy: [{entityAggregation: Application}, {entityAggregation: DeploymentType}]) {<br/>    ... on StackedData {<br/>      dataPoints {<br/>        key {<br/>          id<br/>          name<br/>        }<br/>        values {<br/>          key {<br/>            id<br/>            name<br/>          }<br/>          value<br/>        }<br/>      }<br/>    }<br/>  }<br/>}</pre><h4>Response</h4><pre>{<br/>  &#34;data&#34;: {<br/>    &#34;serviceStats&#34;: {<br/>      &#34;dataPoints&#34;: [<br/>        {<br/>          &#34;key&#34;: {<br/>            &#34;id&#34;: &#34;naNJDKrUTZKKdKycL5Tx4g&#34;,<br/>            &#34;name&#34;: &#34;Example App&#34;<br/>          },<br/>          &#34;values&#34;: [<br/>            {<br/>              &#34;key&#34;: {<br/>                &#34;id&#34;: &#34;KUBERNETES&#34;,<br/>                &#34;name&#34;: &#34;KUBERNETES&#34;<br/>              },<br/>              &#34;value&#34;: 1<br/>            }<br/>          ]<br/>        }<br/>      ]<br/>    }<br/>  }<br/>}</pre><h3>Get Statistics of Triggers</h3><p>For steps on configuring a custom widget, see <a href="/article/0hgsfuoojo-configure-custom-widgets#step_add_custom_widgets">Add and Configure Custom Widgets</a>.</p><p>This sample queries by <code>TriggerFilter</code> and returns <code>id</code> and <code>name</code> values of the triggers.</p><h4>Request</h4><pre class="hljs graphql">{<br/>  triggerStats(filters: [{application: {operator: IN, values: [&#34;naNJDKrUTZKKdKycL5Tx4g&#34;]}}], groupBy: [{entityAggregation: Application}, {tagAggregation: {tagName: &#34;Appid&#34;, entityType: APPLICATION}}]) {<br/>    ... on StackedData {<br/>      dataPoints {<br/>        key {<br/>          id<br/>          name<br/>        }<br/>        values {<br/>          key {<br/>            id<br/>            name<br/>          }<br/>          value<br/>        }<br/>      }<br/>    }<br/>  }<br/>}</pre><h4>Response</h4><pre>{<br/>  &#34;data&#34;: {<br/>    &#34;triggerStats&#34;: {<br/>      &#34;dataPoints&#34;: [<br/>        {<br/>          &#34;key&#34;: {<br/>            &#34;id&#34;: &#34;naNJDKrUTZKKdKycL5Tx4g&#34;,<br/>            &#34;name&#34;: &#34;Example App&#34;<br/>          },<br/>          &#34;values&#34;: [<br/>            {<br/>              &#34;key&#34;: {<br/>                &#34;id&#34;: &#34;Appid:App2&#34;,<br/>                &#34;name&#34;: &#34;Appid:App2&#34;<br/>              },<br/>              &#34;value&#34;: 52<br/>            }<br/>          ]<br/>        }<br/>      ]<br/>    }<br/>  }<br/>}</pre><h3>Get Statistics of Workflows</h3><p>For steps to configure Workflows Widget, see <a href="/article/0hgsfuoojo-configure-custom-widgets#step_configure_workflows_widget">Configure Workflows Widget</a>.</p><p>This sample queries by <code>WorkflowFilter</code> and returns <code>id</code> and <code>name</code> values of the workflows.</p><h4>Request</h4><pre class="hljs graphql">{<br/>  workflowStats(filters: [{application: {operator: IN, values: [&#34;naNJDKrUTZKKdKycL5Tx4g&#34;]}}, {orchestrationWorkflowType: {operator: IN, values: [MULTI_SERVICE]}}], groupBy: [{entityAggregation: Application}, {entityAggregation: OrchestrationWorkflowType}]) {<br/>    ... on StackedData {<br/>      dataPoints {<br/>        key {<br/>          id<br/>          name<br/>        }<br/>        values {<br/>          key {<br/>            id<br/>            name<br/>          }<br/>          value<br/>        }<br/>      }<br/>    }<br/>  }<br/>}</pre><h4>Response</h4><pre class="hljs graphql">{<br/>  &#34;data&#34;: {<br/>    &#34;workflowStats&#34;: {<br/>      &#34;dataPoints&#34;: [<br/>        {<br/>          &#34;key&#34;: {<br/>            &#34;id&#34;: &#34;naNJDKrUTZKKdKycL5Tx4g&#34;,<br/>            &#34;name&#34;: &#34;Example App&#34;<br/>          },<br/>          &#34;values&#34;: [<br/>            {<br/>              &#34;key&#34;: {<br/>                &#34;id&#34;: &#34;MULTI_SERVICE&#34;,<br/>                &#34;name&#34;: &#34;MULTI_SERVICE&#34;<br/>              },<br/>              &#34;value&#34;: 11<br/>            }<br/>          ]<br/>        }<br/>      ]<br/>    }<br/>  }<br/>}</pre><p></p>