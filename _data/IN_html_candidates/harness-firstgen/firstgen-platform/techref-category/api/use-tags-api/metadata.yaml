type: article
article_id: 80ppvv3a3p
user_id: 2te4j9f9g7
category_id: l2p3i03l4a
author:
  name: Rashmi Nanda Sahoo
  profile_image: https://www.gravatar.com/avatar/b7bfd905f8714099535f2ff657fa3975?d=mm&s=150
title: Use Tags API
slug: use-tags-api
description: Provides details on how to get details of resources that are associated
  with tags and their value using APIs.
short_version: Provides details on how to get details of resources that are associated
  with tags and their value using APIs.
tags:
- API
- GraphQL API
- Tags
show_toc: true
is_private: false
is_published: true
is_featured: false
stale_status:
  is_stale: false
  reason: Article updated
  source: API
  triggered_at: 2021-05-12T17:20:47.839476Z
  expires_at: null
permission_groups: []
multilingual:
- language_code: en
  title: Use Tags API
  description: Provides details on how to get details of resources that are associated
    with tags and their value using APIs.
  short_version: Provides details on how to get details of resources that are associated
    with tags and their value using APIs.
  body: '<p>This topic shows you how to list tagged Harness resources using the Harness
    API.</p><p></p><p>In this topic:</p><ul><li><a href="/article/80ppvv3a3p-use-tags-api#before_you_begin">Before
    You Begin</a></li><li><a href="/article/80ppvv3a3p-use-tags-api#fetch_the_list_of_tags">Fetch
    the List of Tags</a></li><li><a href="/article/80ppvv3a3p-use-tags-api#fetch_details_of_the_tags">Fetch
    Details of the Tags</a></li><li><a href="/article/80ppvv3a3p-use-tags-api#fetch_list_of_all_the_tags">Fetch
    List of all the Tags</a></li><li><a href="/article/80ppvv3a3p-use-tags-api#fetch_details_of_tags_by_list_of_tag_i_ds_or_names">Fetch
    Details of Tags by List of Tag IDs or Names</a></li><li><a href="/article/80ppvv3a3p-use-tags-api#fetch_tag_usage_details_by_tag_id_name_or_harness_entity_type">Fetch
    Tag Usage Details by Tag ID, Name, or Harness Entity Type</a></li><li><a href="/article/80ppvv3a3p-use-tags-api#attach_a_tag_to_a_harness_entity">Attach
    a Tag to a Harness Entity</a></li><li><a href="/article/80ppvv3a3p-use-tags-api#detach_a_tag_from_a_harness_entity">Detach
    a Tag from a Harness Entity</a></li></ul><h3>Before You Begin</h3><ul><li><a href="/article/tm0w6rruqv-harness-api">​Introduction
    to Harness GraphQL API</a></li><li><a href="/article/2rmd5i0e0h-harness-api-explorer">Harness
    API Explorer</a></li><li><a href="/article/kn8wsu80n4-api-schema-and-structure">API
    Schema and Structure</a></li><li><a href="/article/mzcpqs3hrl-manage-tags">Manage
    Tags</a></li></ul><h3>Fetch the List of Tags</h3><p>You can get the list of Tags
    associated with all of your Harness <a href="/article/bucothemly-application-configuration">Application
    Entities,</a> such as:</p><ul><li>Services</li><li>Environments</li><li>Workflows</li><li>Pipelines</li></ul><p>This
    sample queries by <code>applicationByName</code> to return <code>name</code> and <code>value</code> of
    all the associated Tags.</p><h5>Request</h5><pre class="hljs apache">{<br/>  applicationByName(name:
    &#34;test&#34;) {<br/>    id<br/>    tags {<br/>      name<br/>      value<br/>    }<br/>  }<br/>}</pre><p></p><h5>Response</h5><pre>{<br/>  &#34;data&#34;:
    {<br/>    &#34;applicationByName&#34;: {<br/>      &#34;id&#34;: &#34;Xs4wuXRPRdKCxfffdQI9rA&#34;,<br/>      &#34;tags&#34;:
    [<br/>        {<br/>          &#34;name&#34;: &#34;customTag&#34;,<br/>          &#34;value&#34;:
    &#34;1&#34;<br/>        },<br/>        {<br/>          &#34;name&#34;: &#34;customTagNoValue&#34;,<br/>          &#34;value&#34;:
    &#34;12&#34;<br/>        },<br/>        {<br/>          &#34;name&#34;: &#34;level&#34;,<br/>          &#34;value&#34;:
    &#34;2&#34;<br/>        },<br/>        {<br/>          &#34;name&#34;: &#34;location&#34;,<br/>          &#34;value&#34;:
    &#34;NA&#34;<br/>        }<br/>      ]<br/>    }<br/>  }<br/>}</pre><p></p><h3>Fetch
    Details of the Tags</h3><p>You can get the details of your tags in the following
    ways:</p><ul><li>Query by ID</li><li>Query by Name</li></ul><p>This query by <code>tagId</code>
    returns the ID and type values of the associated Harness Application entities.</p><h5>Request</h5><pre
    class="hljs apache">{<br/>  tag(tagId: &#34;Bq6q2jeKTMaCADV_RBCKuA&#34;) {<br/>    id<br/>    usages(limit:
    4) {<br/>      nodes {<br/>        entityId<br/>        entityType<br/>      }<br/>    }<br/>  }<br/>}</pre><h5>Response</h5><pre>{<br/>  &#34;data&#34;:
    {<br/>    &#34;tag&#34;: {<br/>      &#34;id&#34;: &#34;Bq6q2jeKTMaCADV_RBCKuA&#34;,<br/>      &#34;usages&#34;:
    {<br/>        &#34;nodes&#34;: [<br/>          {<br/>            &#34;entityId&#34;:
    &#34;a1b43bKaTLmcQkKr_xipkg&#34;,<br/>            &#34;entityType&#34;: &#34;SERVICE&#34;<br/>          },<br/>          {<br/>            &#34;entityId&#34;:
    &#34;Xs4wuXRPRdKCxfffdQI9rA&#34;,<br/>            &#34;entityType&#34;: &#34;APPLICATION&#34;<br/>          },<br/>          {<br/>            &#34;entityId&#34;:
    &#34;-L2RM4gMRJG04P-NT3qkHw&#34;,<br/>            &#34;entityType&#34;: &#34;APPLICATION&#34;<br/>          },<br/>          {<br/>            &#34;entityId&#34;:
    &#34;N9kk90wzSsWqr1fHLfPwLw&#34;,<br/>            &#34;entityType&#34;: &#34;PIPELINE&#34;<br/>          }<br/>        ]<br/>      }<br/>    }<br/>  }<br/>}</pre><p></p><p>This
    query by <code>tagByName</code> returns the ID and type values of the associated
    Harness Application entities.</p><h5>Request</h5><pre class="hljs apache">{<br/>  tagByName(name:
    &#34;level&#34;) {<br/>    id<br/>    usages(limit: 4) {<br/>      nodes {<br/>        entityId<br/>        entityType<br/>      }<br/>    }<br/>  }<br/>}</pre><p></p><h5>Response</h5><pre>{<br/>  &#34;data&#34;:
    {<br/>    &#34;tagByName&#34;: {<br/>      &#34;id&#34;: &#34;Bq6q2jeKTMaCADV_RBCKuA&#34;,<br/>      &#34;usages&#34;:
    {<br/>        &#34;nodes&#34;: [<br/>          {<br/>            &#34;entityId&#34;:
    &#34;a1b43bKaTLmcQkKr_xipkg&#34;,<br/>            &#34;entityType&#34;: &#34;SERVICE&#34;<br/>          },<br/>          {<br/>            &#34;entityId&#34;:
    &#34;Xs4wuXRPRdKCxfffdQI9rA&#34;,<br/>            &#34;entityType&#34;: &#34;APPLICATION&#34;<br/>          },<br/>          {<br/>            &#34;entityId&#34;:
    &#34;-L2RM4gMRJG04P-NT3qkHw&#34;,<br/>            &#34;entityType&#34;: &#34;APPLICATION&#34;<br/>          },<br/>          {<br/>            &#34;entityId&#34;:
    &#34;N9kk90wzSsWqr1fHLfPwLw&#34;,<br/>            &#34;entityType&#34;: &#34;PIPELINE&#34;<br/>          }<br/>        ]<br/>      }<br/>    }<br/>  }<br/>}</pre><p></p><h3>Fetch
    List of all the Tags</h3><p>This query by<code>limit</code> returns the ID and
    name values of all the Tags that you have created.</p><h5>Request</h5><pre class="hljs
    apache">{<br/>  tags(limit: 10) {<br/>    nodes {<br/>      id<br/>      name<br/>    }<br/>  }<br/>}</pre><p></p><h5>Response</h5><pre>{<br/>  &#34;data&#34;:
    {<br/>    &#34;tags&#34;: {<br/>      &#34;nodes&#34;: [<br/>        {<br/>          &#34;id&#34;:
    &#34;Diy3y4RgQqi92EmZkTNpoA&#34;,<br/>          &#34;name&#34;: &#34;CDC-Automation-TagAJv&#34;<br/>        },<br/>        {<br/>          &#34;id&#34;:
    &#34;pnNjPvorQuGpYBgiiZih6w&#34;,<br/>          &#34;name&#34;: &#34;CDC-Automation-Tagwrf&#34;<br/>        },<br/>        {<br/>          &#34;id&#34;:
    &#34;AMrSGBNVT7uASy-fH2rw9Q&#34;,<br/>          &#34;name&#34;: &#34;CDC-Automation-TagOmE&#34;<br/>        },<br/>        {<br/>          &#34;id&#34;:
    &#34;xhzg-5uJRbi9C7d-WovIbg&#34;,<br/>          &#34;name&#34;: &#34;CDC-Automation-Tag7da&#34;<br/>        },<br/>        {<br/>          &#34;id&#34;:
    &#34;4i-hQ8W3REWaq0sAeCCd2w&#34;,<br/>          &#34;name&#34;: &#34;CDC-Automation-TaghqJ&#34;<br/>        },<br/>        {<br/>          &#34;id&#34;:
    &#34;tAWfX5tiSjigL9LmjKSrpA&#34;,<br/>          &#34;name&#34;: &#34;CDC-Automation-TagFqH&#34;<br/>        },<br/>        {<br/>          &#34;id&#34;:
    &#34;SJknckcARr-sp0_lCQmw4Q&#34;,<br/>          &#34;name&#34;: &#34;CDC-Automation-TagenP&#34;<br/>        },<br/>        {<br/>          &#34;id&#34;:
    &#34;DyViNhniQj-qa5EMfHZMig&#34;,<br/>          &#34;name&#34;: &#34;CDC-Automation-TagwFB&#34;<br/>        },<br/>        {<br/>          &#34;id&#34;:
    &#34;2JoI3jZETW2yHkscwjzpKg&#34;,<br/>          &#34;name&#34;: &#34;CDC-Automation-TagF3k&#34;<br/>        },<br/>        {<br/>          &#34;id&#34;:
    &#34;rP0nsMjWQjKcYm02xp0OTw&#34;,<br/>          &#34;name&#34;: &#34;CDC-Automation-TagvdX&#34;<br/>        }<br/>      ]<br/>    }<br/>  }<br/>}</pre><h3>Fetch
    Details of Tags by List of Tag IDs or Names</h3><p>This query by <code>tagName</code>
    returns the entities and types matching the Tag names provided.</p><h5>Request</h5><pre
    class="hljs http">{<br/>  tags(limit: 10, filters: {tagName: {operator: IN, values:
    [&#34;level&#34;, &#34;location&#34;]}}) {<br/>    nodes {<br/>      id<br/>      name<br/>      usages(limit:
    4) {<br/>        nodes {<br/>          entityId<br/>          entityType<br/>        }<br/>      }<br/>    }<br/>  }<br/>}</pre><p></p><h5>Response</h5><pre>{<br/>  &#34;data&#34;:
    {<br/>    &#34;tags&#34;: {<br/>      &#34;nodes&#34;: [<br/>        {<br/>          &#34;id&#34;:
    &#34;kddxwiBIS5Kgxbhpo9jzRA&#34;,<br/>          &#34;name&#34;: &#34;location&#34;,<br/>          &#34;usages&#34;:
    {<br/>            &#34;nodes&#34;: [<br/>              {<br/>                &#34;entityId&#34;:
    &#34;lwesdQxcSkiVE5Kg7ilduA&#34;,<br/>                &#34;entityType&#34;: &#34;WORKFLOW&#34;<br/>              },<br/>              {<br/>                &#34;entityId&#34;:
    &#34;Xs4wuXRPRdKCxfffdQI9rA&#34;,<br/>                &#34;entityType&#34;: &#34;APPLICATION&#34;<br/>              },<br/>              {<br/>                &#34;entityId&#34;:
    &#34;-L2RM4gMRJG04P-NT3qkHw&#34;,<br/>                &#34;entityType&#34;: &#34;APPLICATION&#34;<br/>              },<br/>              {<br/>                &#34;entityId&#34;:
    &#34;kpGGJI3TR3qQaHqw-ybyXw&#34;,<br/>                &#34;entityType&#34;: &#34;WORKFLOW&#34;<br/>              }<br/>            ]<br/>          }<br/>        },<br/>        {<br/>          &#34;id&#34;:
    &#34;Bq6q2jeKTMaCADV_RBCKuA&#34;,<br/>          &#34;name&#34;: &#34;level&#34;,<br/>          &#34;usages&#34;:
    {<br/>            &#34;nodes&#34;: [<br/>              {<br/>                &#34;entityId&#34;:
    &#34;a1b43bKaTLmcQkKr_xipkg&#34;,<br/>                &#34;entityType&#34;: &#34;SERVICE&#34;<br/>              },<br/>              {<br/>                &#34;entityId&#34;:
    &#34;Xs4wuXRPRdKCxfffdQI9rA&#34;,<br/>                &#34;entityType&#34;: &#34;APPLICATION&#34;<br/>              },<br/>              {<br/>                &#34;entityId&#34;:
    &#34;-L2RM4gMRJG04P-NT3qkHw&#34;,<br/>                &#34;entityType&#34;: &#34;APPLICATION&#34;<br/>              },<br/>              {<br/>                &#34;entityId&#34;:
    &#34;N9kk90wzSsWqr1fHLfPwLw&#34;,<br/>                &#34;entityType&#34;: &#34;PIPELINE&#34;<br/>              }<br/>            ]<br/>          }<br/>        }<br/>      ]<br/>    }<br/>  }<br/>}</pre><p></p><h3>Fetch
    Tag Usage Details by Tag ID, Name, or Harness Entity Type</h3><p>This query by
    <code>tagName</code> returns the usage details of those Tags whose names match
    with the given list of names.</p><h5>Request</h5><pre class="hljs c">{<br/>  tags(limit:
    10, filters: {tagName: {operator: IN, values: [&#34;level&#34;, &#34;location&#34;]}})
    {<br/>    nodes {<br/>      id<br/>      name<br/>      usages(limit: 4, filters:
    {entityType: {operator: EQUALS, values: SERVICE}}) {<br/>        nodes {<br/>          entityId<br/>          entityType<br/>        }<br/>      }<br/>    }<br/>  }<br/>}</pre><p></p><h5>Response</h5><pre>{<br/>  &#34;data&#34;:
    {<br/>    &#34;tags&#34;: {<br/>      &#34;nodes&#34;: [<br/>        {<br/>          &#34;id&#34;:
    &#34;kddxwiBIS5Kgxbhpo9jzRA&#34;,<br/>          &#34;name&#34;: &#34;location&#34;,<br/>          &#34;usages&#34;:
    {<br/>            &#34;nodes&#34;: []<br/>          }<br/>        },<br/>        {<br/>          &#34;id&#34;:
    &#34;Bq6q2jeKTMaCADV_RBCKuA&#34;,<br/>          &#34;name&#34;: &#34;level&#34;,<br/>          &#34;usages&#34;:
    {<br/>            &#34;nodes&#34;: [<br/>              {<br/>                &#34;entityId&#34;:
    &#34;a1b43bKaTLmcQkKr_xipkg&#34;,<br/>                &#34;entityType&#34;: &#34;SERVICE&#34;<br/>              },<br/>              {<br/>                &#34;entityId&#34;:
    &#34;gWaLJ2XHRqORVjsA11Ro5w&#34;,<br/>                &#34;entityType&#34;: &#34;SERVICE&#34;<br/>              }<br/>            ]<br/>          }<br/>        }<br/>      ]<br/>    }<br/>  }<br/>}</pre><h3>Attach
    a Tag to a Harness Entity</h3><p>You can attach a Tag to a Harness Entity using
    the mutation <code>attachTag</code>. In this example, the entity type is Service.</p><pre
    class="hljs json">mutation {<br/>  attachTag(input: {clientMutationId: &#34;1234&#34;,
    entityId: &#34;iY0FgI1aRTiQ_I-GsR5bLA&#34;, entityType: SERVICE, name: &#34;level&#34;,
    value: &#34;1&#34;}) {<br/>    clientMutationId<br/>    tagLink {<br/>      appId<br/>      entityId<br/>      entityType<br/>      name<br/>      value<br/>    }<br/>  }<br/>}</pre><p></p><h3>Detach
    a Tag from a Harness Entity</h3><p>You can detach a Tag from a Harness Entity
    using the mutation <code>detachTag</code>. In this example, the entity type is
    Service.</p><pre>mutation {<br/>  detachTag(input: {clientMutationId: &#34;1234&#34;,
    entityId: &#34;iY0FgI1aRTiQ_I-GsR5bLA&#34;, entityType: SERVICE, name: &#34;level&#34;})
    {<br/>    clientMutationId<br/>  }<br/>}</pre><p></p>'
  slug: use-tags-api
  tags:
  - API
  - GraphQL API
  - Tags
  is_live: true
