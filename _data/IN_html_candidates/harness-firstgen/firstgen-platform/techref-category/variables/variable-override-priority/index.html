<p>Harness provides builtin and custom variables, as described in <a href="/article/9dvxcegm90-variables">What is a Harness Variable Expression?</a>.</p><p>You can override a lot of variable values in order to templatize and customize deployment settings.</p><p>These overrides have priority. For example, you can override a Service variable in an Environment and a Workflow.</p><p>In this topic, we explain how Harness prioritizes variable overrides. Hopefully, this will help you manage your variables more effectively.</p><p>In this topic:</p><ul><li> <a href="#before_you_begin">Before You Begin</a></li><li> <a href="#where_are_variables_overridden">Where are Variables Overridden?</a><ul><li> <a href="#service_configuration_overrides">Service Configuration Overrides</a></li><li> <a href="#overriding_service_variables_in_workflows">Overriding Service Variables in Workflows</a><ul><li> <a href="#use_workflow_variables_in_the_service_settings">Use Workflow Variables in the Service Settings</a></li><li> <a href="#use_service_variable_overrides_in_a_workflow_phase">Use Service Variable Overrides in a Workflow Phase</a></li></ul></li></ul></li><li><a href="#overrides_are_at_the_key_value_level_not_the_file_level">Overrides Are at the Key:Value Level Not the File Level</a></li><li> <a href="#in_what_order_are_variables_overridden">In What Order are Variables Overridden?</a></li><li><a href="#overriding_and_merging_values_yaml_manifests_charts_etc_in_environments">Overriding and Merging Values YAML, Manifests, Charts etc in Environments</a></li><li> <a href="#other_service_configuration_types">Other Service Configuration Types</a></li><li> <a href="#see_also">See Also</a></li></ul><h3>Before You Begin</h3><ul><li> <a href="/article/9dvxcegm90-variables">What is a Harness Variable Expression?</a></li><li> <a href="/article/d15of30a2i-harness-variable-availability">Availability and Scope of Harness Variables</a></li></ul><h3>Where are Variables Overridden?</h3><p>Service variables can be overridden in Environments and Workflows.</p><p>When you override a Service variable in an Environment, the Service variable can be still be overridden in a Workflow.</p><h4>Environment Service Configuration Overrides</h4><p>Service Config variables can be are overridden in an Environment&#39;s <strong>Service Configuration Overrides</strong> section.</p><p>Service Configuration Overrides can override all Service Config variables, or the Service Config variables in specific Services.</p><h4>Overriding Service Variables in Workflows</h4><p>There two ways to override Service variables in a Workflow:</p><h5>Use Workflow Variables in the Service Settings</h5><p>The most effective method for overriding Service settings in a Workflow, is to create a Workflow variable and then use its expression in the Service setting.</p><p>When you deploy the Workflow, you are prompted to supply a value for the Workflow variable. The value you provide is then used in the Service setting at deployment runtime.</p><p>You can use Workflow variable expressions in a Harness Service, but Harness does not autocomplete Workflow variables in a Service like it does in a Workflow. You will need to manually enter the Workflow variable expression in the Service: <code>${workflow.variables.name}</code>.</p><h5>Use Service Variable Overrides in a Workflow Phase</h5><p>Each Phase of a multi-phase Workflow, such as a Canary Workflow, allows you to override the Service variables for the Service the Workflow Phase deploys:</p><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/benvea28uq/1601489349465/image.png" style="max-height:50%;max-width:50%" data-hd-height="50%" data-hd-width="50%"/></figure><h3>Overrides Are at the Key:Value Level Not the File Level</h3><p>Overrides are at the <code>key:value</code> level not the file level. You must override each <code>key:value</code> pair. </p><p>For example, if you are using a Helm Chart and it has a values.yaml in it and you use <strong>Service Configuration Overrides</strong>, you must override each <code>key:value</code> pair from the chart values.yaml that you do not want. </p><p>Harness will merge both the chart values.yaml and the <strong>Service Configuration Overrides</strong> values <code>key:value</code> pairs. This is still true even if your override is an entire file.</p><p></p><h3>In What Order are Variables Overridden?</h3><p>Here is how Harness prioritizes variables, from highest to least priority:</p><ol><li>Highest: Workflow variable or Workflow Phase Service Variable Overrides. See <a href="/article/766iheu1bk-add-workflow-variables-new-template">Set Workflow Variables</a>.<br/><strong>Pipelines</strong>—If the Workflow is executed by a Pipeline, the value provided for the Workflow variable in the Pipeline has the highest priority.</li><li>Next: Environment Service Configuration Overrides.<br/>See <a href="/article/4m2kst307m-override-service-files-and-variables-in-environments">Override a Service Configuration in an Environment</a>.<br/>This can be either of the following:<ol><li>An override of a single Service Config Variable.</li><li>An override of <u>all</u> Service Config Variables.</li></ol></li><li>Last: Service Config Variables. See <a href="/article/q78p7rpx9u-add-service-level-config-variables">Add Service Config Variables</a>.</li></ol><p>Put simply:</p><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/benvea28uq/1615508757737/image.png"/></figure><div class="note-callout">At the Environment-level, you can override a variable for <strong>All Services</strong> or a specific Service. If you override for All Services but then also override for a specific Service, the override for the specific Service is used for that Service+Environment combination.</div><h3>Overriding and Merging Values YAML, Manifests, Charts etc in Environments</h3><p>In addition to overriding Service text and file variables, you can override or merge new values for the Values YAML, manifest files, Helm charts, and OpenShift Params in a Harness Service (Kubernetes, Helm, Tanzu).</p><div class="note-callout">Overrides are at the <code>key:value</code> level not the file level. You must override each <code>key:value</code> pair. For example, if you are using a Helm Chart and it has a values.yaml in it and you use <strong>Service Configuration Overrides</strong>, you must override each <code>key:value</code> pair from the chart values.yaml that you do not want. Harness will merge both the chart values.yaml and the <strong>Service Configuration Overrides</strong> values <code>key:value</code> pairs. This is still true even if your override is an entire file.</div><p>You can override or merge new values at the Environment level in <strong>Service Configuration Overrides</strong>.</p><p>To override, you simply replace all of the values in the Values YAML, manifest files, Helm charts, and OpenShift Params in the Harness Service.</p><p>To merge, you simply add a subset of the values or additional values. Harness will merge these values with the values in the Values YAML, manifest files, Helm charts, and OpenShift Params.</p><p>See:</p><ul><li><a href="/article/ycacqs7tlx-override-harness-kubernetes-service-settings">Override Harness Kubernetes Service Settings</a> (for Kubernetes, Helm, OpenShift)</li><li><a href="/article/r0vp331jnq-override-pcf-manifests-and-config-variables-and-files">Override Tanzu Manifests and Config Variables and Files</a></li><li><a href="/article/134kx1k89d-3-helm-environments">Helm Environments</a> (Native Helm)</li></ul><h3>Other Service Configuration Types</h3><p>Some Service types support other Configuration types, such as</p><ul><li>ConfigMap YAML — See <a href="/article/ycacqs7tlx-override-harness-kubernetes-service-settings">Override Harness Kubernetes Service Settings</a>.</li><li>Values YAML — See <a href="/article/p453sikbqt-override-values-yaml-files">Override Values YAML Files</a> and <a href="/article/cc59hfou9c-override-variables-per-infrastructure-definition">Override Variables at the Infrastructure Definition Level</a>.</li><li>Service Configuration Files — See <a href="/article/4m2kst307m-override-service-files-and-variables-in-environments">Override a Service Configuration in an Environment</a>.</li></ul><h3>See Also</h3><ul><li> <a href="/article/gkmgrz9shh-how-to-pass-variables-between-workflows">Pass Variables between Workflows</a></li><li> <a href="/article/5pspec1apl-use-variables-for-workflow-approval">Using Variables in Workflow Approvals</a></li></ul><p></p>