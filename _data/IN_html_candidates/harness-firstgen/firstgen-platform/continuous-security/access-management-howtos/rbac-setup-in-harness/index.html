<p></p><p>This topic describes how to use Harness flexible RBAC for the very common Application Release Process scenario.</p><p>In this topic:</p><ul><li> <a href="#before_you_begin">Before You Begin</a></li><li> <a href="#review_application_release_process_and_roles">Review: Application Release Process and Roles</a></li><li> <a href="#step_1_create_the_user_groups">Step 1: Create the User Groups</a></li><li> <a href="#step_2_add_members_to_the_groups">Step 2: Add Members to the Groups</a></li><li> <a href="#next_steps">Next Steps</a></li></ul><p></p><h3>Before You Begin</h3><ul><li>Review <a href="/article/ven0bvulsj-users-and-permissions">Managing Users and Groups (RBAC)</a>.</li><li>Review <a href="https://en.wikipedia.org/wiki/Release_management#Relationship_with_Continuous_Delivery,_DevOps,_and_Agile_software_development">application deployment and release process</a>.</li><li>Make sure you are member of the Harness Administrator Group.</li></ul><p></p><h3>Review: Application Release Process and Roles</h3><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/78tbtb5e8d/1593671414581/application-process-rbac.png"/></figure><p>Many organizations depend on RBAC to ensure compliance and consistency with application deployment. This topic describes a simplistic (minimal) approach by defining three groups associated with each application as follows:</p><table><tbody><tr><td><p><strong>User Group</strong></p></td><td><p><strong>Role</strong></p></td><td><p><strong>Responsibility</strong></p></td></tr><tr><td><p>K8S_Deployer </p></td><td><p>Application Developer</p></td><td><p>Deploy Pipeline</p></td></tr><tr><td><p>K8S_DevOps</p></td><td><p>DevOps Engineer</p></td><td><p>Design and Implement Pipeline</p></td></tr><tr><td><p>K8S_Approver</p></td><td><p>Approver</p></td><td><p>Approve Pipeline stages</p></td></tr></tbody></table><p>This example uses a sample Harness Application named <strong>K8S</strong> to configure RBAC. The example suggests the creation of three user groups based on the roles and responsibilities of the users involved in the process.</p><ul><li>Users in the Deployer group are allowed to only deploy but not to create or delete any Workflows or Pipeline.</li><li>DevOps users design and implement Workflows and Pipelines. Usually, a centralized team is responsible to create a reference Pipeline and Workflow that is compliant with the desired release process. DevOps engineers start with the <strong>clone</strong> of the reference Workflow and Pipeline and then adapt it to the application-specific requirements. For example, there are many steps that are skipped in a lower environment but mandatory in staging or production such as integrating with a change management system.  </li><li>Users in the Approver group are usually Release managers or Application managers who approve or reject a Pipeline stage when promoting an application from the lower environment to staging or production.</li></ul><p>The required permissions for the roles are as follows.</p><table><tbody><tr><td><p><strong>Role</strong></p></td><td><p><strong>Resource</strong></p></td><td><p><strong>Permissions</strong></p></td></tr><tr><td><p>Deployer</p></td><td><p>Pipeline</p></td><td><p>Read, Execute Pipeline, Execute Workflow</p></td></tr><tr><td><p>DevOps</p></td><td><p>All resources</p></td><td><p>Create, Read, Update, Execute Pipeline, Execute Workflow</p></td></tr><tr><td><p>Approver</p></td><td><p>Pipeline</p></td><td><p>Read</p></td></tr></tbody></table><p></p><h3>Step 1: Create the User Groups</h3><p>Create the three user groups as identified and defined already.</p><h4>Create the K8S_Deployer Group </h4><p>Add a User Group with the name <strong>K8S_Deployer</strong> group. See <a href="/article/ven0bvulsj-users-and-permissions#to_add_a_user_group">Add a User Group</a> for specific instructions.</p><p>The members of this Deployer Group need read access to the Environment, Services and Pipeline to allow Pipeline execution for the specific application—K8S. Set Account Permissions and Application Permissions to this user group as needed while adding the User Group.</p><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/78tbtb5e8d/1600815376446/image.png"/></figure><p>This example shows that the Deployer Group is allowed access to both Non-Production and Production Environments. But, you can restrict access to the Production Environments by providing permission to only Non-Production Environments. This may be necessary in some organizations where the access to Production Environments is given only to a certain group/team.</p><div class="note-callout">The Deployer role does not have read access to Workflow. Users with this role can execute the Pipeline with just read access, but the users will not have access to view the Workflow steps.</div><h4>Create the K8S_DevOps Group</h4><p>Add a User Group with the name <strong>K8S_DevOps</strong> group. See <a href="/article/ven0bvulsj-users-and-permissions#to_add_a_user_group">Add a User Group</a> for specific instructions.</p><p>Assign the following permissions for full access to members of K8S_DevOps group for the K8S application except the <strong>Delete</strong> Application Permission.</p><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/78tbtb5e8d/1600815400808/image.png"/></figure><p>DevOps users do not need full access like the Harness Administrator because they are only responsible for specific Applications. For example, it is a good practice not to assign the <strong>Delete</strong> Application Permission for this role. This allows Harness Administrators to be responsible for setting up the Application pre-configured with reference Workflows and Pipelines including RBAC setup. Users in the DevOps group can update/create new Services but cannot delete the Application. If the Application has to be deleted (if it is a sandbox application), the Harness Administrator should delete it.</p><h4>Create the K8S_Approver Group</h4><p>Add a User Group with the name <strong>K8S_Approver</strong> group. See <a href="/article/ven0bvulsj-users-and-permissions#to_add_a_user_group">Add a User Group</a> for specific instructions.</p><p>Assign the following Permissions to the members of the K8S_Approver group to allow them to approve or reject a Pipeline execution. The assumption is that these users log in into Harness to approve or reject. In many organizations, the decision to approve or reject is done externally via JIRA or a change management system such as Service Now. In such cases, this group is optional.</p><p></p><figure><img src="https://files.helpdocs.io/kw8ldg1itf/articles/78tbtb5e8d/1600815426990/image.png"/></figure><h3>Step 2: Add Members to the Groups</h3><p>Add members to the three groups—K8S_Deployer, K8S_DevOps and K8S_Approver. See <a href="/article/ven0bvulsj-users-and-permissions#to_add_a_user_group">Add a User Group</a> for specific instructions to add members to User Groups.</p><p>You can further refine the type of Permissions based on your organization roles and team structure to add additional groups or restrict access based on the Environment.</p><h3>Next Steps</h3><ul><li> <a href="/article/tm0w6rruqv-harness-api">Automate using Harness API</a></li></ul><p></p>